var st;(function(C){function b(B){l(B,Y)||(j[B]=1)}function S(B,Z){function V(nt){nt.indexOf(".")===0&&q.push(nt)}var q=[];if(typeof B=="string"?V(B):E(B,function(nt){V(nt)}),q.length>0)throw new Error("[REQUIRE_FATAL]Relative ID is not allowed in global require: "+q.join(", "));var ot=it.waitSeconds;return ot&&B instanceof Array&&(k&&clearTimeout(k),k=setTimeout(y,1e3*ot)),$(B,Z)}function y(){function B(ht,dt){if(!nt[ht]&&!l(ht,Y)){nt[ht]=1,l(ht,H)||q[ht]||(q[ht]=1,Z.push(ht));var ut=A[ht];ut?dt&&(q[ht]||(q[ht]=1,Z.push(ht)),E(ut.depMs,function(pt){B(pt.absId,pt.hard)})):ot[ht]||(ot[ht]=1,V.push(ht))}}var Z=[],V=[],q={},ot={},nt={};for(var ct in j)B(ct,1);if(Z.length||V.length)throw new Error("[MODULE_TIMEOUT]Hang( "+(Z.join(", ")||"none")+" ) Miss( "+(V.join(", ")||"none")+" )")}function g(B){E(rt,function(Z){d(B,Z.deps,Z.factory)}),rt.length=0}function _(B,Z,V){if(V==null&&(Z==null?(V=B,B=null):(V=Z,Z=null,B instanceof Array&&(Z=B,B=null))),V!=null){var q=window.opera;if(!B&&document.attachEvent&&(!q||q.toString()!=="[object Opera]")){var ot=W();B=ot&&ot.getAttribute("data-require-id")}B?d(B,Z,V):rt[0]={deps:Z,factory:V}}}function c(){var B=it.config[this.id];return B&&typeof B=="object"?B:{}}function d(B,Z,V){A[B]||(A[B]={id:B,depsDec:Z,deps:Z||["require","exports","module"],factoryDeps:[],factory:V,exports:{},config:c,state:O,require:w(B),depMs:[],depMkv:{},depRs:[]})}function f(B){var Z=A[B];if(Z&&!l(B,D)){var V=Z.deps,q=Z.factory,ot=0;typeof q=="function"&&(ot=Math.min(q.length,V.length),!Z.depsDec&&q.toString().replace(/(\/\*([\s\S]*?)\*\/|([^:]|^)\/\/(.*)$)/gm,"").replace(/require\(\s*(['"'])([^'"]+)\1\s*\)/g,function(ht,dt,ut){V.push(ut)}));var nt=[],ct=[];E(V,function(ht,dt){var ut,pt,gt=P(ht),ft=L(gt.mod,B);ft&&!U[ft]?(gt.res&&(pt={id:ht,mod:ft,res:gt.res},ct.push(ht),Z.depRs.push(pt)),ut=Z.depMkv[ft],ut||(ut={id:gt.mod,absId:ft,hard:ot>dt},Z.depMs.push(ut),Z.depMkv[ft]=ut,nt.push(ft))):ut={absId:ft},ot>dt&&Z.factoryDeps.push(pt||ut)}),Z.state=D,n(B),u(nt),ct.length&&Z.require(ct,function(){E(Z.depRs,function(ht){ht.absId||(ht.absId=L(ht.id,B))}),a()})}}function a(){for(var B in j)f(B),h(B),i(B)}function h(B){function Z(q){if(f(q),!l(q,D))return!1;if(l(q,H)||V[q])return!0;V[q]=1;var ot=A[q],nt=!0;return E(ot.depMs,function(ct){return nt=Z(ct.absId)}),nt&&E(ot.depRs,function(ct){return nt=!!ct.absId}),nt&&(ot.state=H),nt}var V={};Z(B)}function n(B){function Z(){if(!V&&q.state===H){V=1;var ot=1;if(E(q.factoryDeps,function(dt){var ut=dt.absId;return U[ut]?void 0:(i(ut),ot=l(ut,Y))}),ot){try{var nt=q.factory,ct=typeof nt=="function"?nt.apply(C,e(q.factoryDeps,{require:q.require,exports:q.exports,module:q})):nt;ct!=null&&(q.exports=ct),q.invokeFactory=null}catch(dt){if(/^\[MODULE_MISS\]"([^"]+)/.test(dt.message)){var ht=q.depMkv[RegExp.$1];return ht&&(ht.hard=1),void(V=0)}throw dt}s(B)}}}var V,q=A[B];q.invokeFactory=Z}function l(B,Z){return A[B]&&A[B].state>=Z}function i(B){var Z=A[B];Z&&Z.invokeFactory&&Z.invokeFactory()}function e(B,Z){var V=[];return E(B,function(q,ot){typeof q=="object"&&(q=q.absId),V[ot]=Z[q]||A[q].exports}),V}function o(B,Z){if(l(B,Y))return void Z();var V=lt[B];V||(V=lt[B]=[]),V.push(Z)}function s(B){var Z=A[B];Z.state=Y,delete j[B];for(var V=lt[B]||[],q=V.length;q--;)V[q]();V.length=0,lt[B]=null}function u(B,Z,V){function q(){if(typeof Z=="function"&&!ot){var nt=1;E(B,function(ct){return U[ct]?void 0:nt=!!l(ct,Y)}),nt&&(ot=1,Z.apply(C,e(B,U)))}}var ot=0;E(B,function(nt){U[nt]||l(nt,Y)||(o(nt,q),(nt.indexOf("!")>0?r:t)(nt,V))}),q()}function t(B){function Z(){var nt=J[B];F(nt||B,V)}function V(){if(q){var nt;typeof q.init=="function"&&(nt=q.init.apply(C,e(ot,U))),nt==null&&q.exports&&(nt=C,E(q.exports.split("."),function(ct){return nt=nt[ct],!!nt})),_(B,ot,nt||{})}else g(B);a()}if(!at[B]&&!A[B]){at[B]=1;var q=it.shim[B];q instanceof Array&&(it.shim[B]=q={deps:q});var ot=q&&(q.deps||[]);ot?(E(ot,function(nt){it.shim[nt]||(it.shim[nt]={})}),$(ot,Z)):Z()}}function r(B,Z){function V(ht){ct.exports=ht||!0,s(B)}function q(ht){var dt=Z?A[Z].require:$;ht.load(nt.res,dt,V,c.call({id:B}))}if(!A[B]){var ot=J[B];if(ot)return void t(ot);var nt=P(B),ct={id:B,state:D};A[B]=ct,V.fromText=function(ht,dt){new Function(dt)(),g(ht)},q($(nt.mod))}}function p(B,Z){var V=R(B,1,Z);return V.sort(z),V}function m(){function B(V){J[V]=Z}it.baseUrl=it.baseUrl.replace(/\/$/,"")+"/",G=p(it.paths),et=p(it.map,1),E(et,function(V){V.v=p(V.v)}),X=[],E(it.packages,function(V){var q=V;typeof V=="string"&&(q={name:V.split("/")[0],location:V,main:"main"}),q.location=q.location||q.name,q.main=(q.main||"main").replace(/\.js$/i,""),q.reg=v(q.name),X.push(q)}),X.sort(z),tt=p(it.urlArgs,1),J={};for(var Z in it.bundles)E(it.bundles[Z],B)}function x(B,Z,V){E(Z,function(q){return q.reg.test(B)?(V(q.v,q.k,q),!1):void 0})}function T(B){var Z=/(\.[a-z0-9]+)$/i,V=/(\?[^#]*)$/,q="",ot=B,nt="";V.test(B)&&(nt=RegExp.$1,B=B.replace(V,"")),Z.test(B)&&(q=RegExp.$1,ot=B.replace(Z,""));var ct,ht=ot;return x(ot,G,function(dt,ut){ht=ht.replace(ut,dt),ct=1}),ct||x(ot,X,function(dt,ut,pt){ht=ht.replace(pt.name,pt.location)}),/^([a-z]{2,10}:\/)?\//i.test(ht)||(ht=it.baseUrl+ht),ht+=q+nt,x(ot,tt,function(dt){ht+=(ht.indexOf("?")>0?"&":"?")+dt}),ht}function w(B){function Z(q,ot){if(typeof q=="string"){if(!V[q]){var nt=L(q,B);if(i(nt),!l(nt,Y))throw new Error('[MODULE_MISS]"'+nt+'" is not exists!');V[q]=A[nt].exports}return V[q]}if(q instanceof Array){var ct=[],ht=[];E(q,function(dt,ut){var pt=P(dt),gt=L(pt.mod,B),ft=pt.res,mt=gt;if(ft){var yt=gt+"!"+ft;ft.indexOf(".")!==0&&J[yt]?gt=mt=yt:mt=null}ht[ut]=mt,b(gt),ct.push(gt)}),u(ct,function(){E(ht,function(dt,ut){dt==null&&(dt=ht[ut]=L(q[ut],B),b(dt))}),u(ht,ot,B),a()},B),a()}}var V={};return Z.toUrl=function(q){return T(L(q,B))},Z}function L(B,Z){if(!B)return"";Z=Z||"";var V=P(B);if(!V)return B;var q=V.res,ot=M(V.mod,Z);if(E(X,function(ct){var ht=ct.name;return ht===ot?(ot=ht+"/"+ct.main,!1):void 0}),x(Z,et,function(ct){x(ot,ct,function(ht,dt){ot=ot.replace(dt,ht)})}),q){var nt=l(ot,Y)&&$(ot);q=nt&&nt.normalize?nt.normalize(q,function(ct){return L(ct,Z)}):L(q,Z),ot+="!"+q}return ot}function M(B,Z){if(B.indexOf(".")===0){var V=Z.split("/"),q=B.split("/"),ot=V.length-1,nt=q.length,ct=0,ht=0;t:for(var dt=0;nt>dt;dt++)switch(q[dt]){case"..":if(!(ot>ct))break t;ct++,ht++;break;case".":ht++;break;default:break t}return V.length=ot-ct,q=q.slice(ht),V.concat(q).join("/")}return B}function P(B){var Z=B.split("!");return Z[0]?{mod:Z[0],res:Z[1]}:void 0}function R(B,Z,V){var q=[];for(var ot in B)if(B.hasOwnProperty(ot)){var nt={k:ot,v:B[ot]};q.push(nt),nt.reg=ot==="*"&&V?/^/:v(ot)}return q}function W(){if(I)return I;if(N&&N.readyState==="interactive")return N;for(var B=document.getElementsByTagName("script"),Z=B.length;Z--;){var V=B[Z];if(V.readyState==="interactive")return N=V,V}}function F(B,Z){function V(){var ot=q.readyState;(typeof ot>"u"||/^(loaded|complete)$/.test(ot))&&(q.onload=q.onreadystatechange=null,q=null,Z())}var q=document.createElement("script");q.setAttribute("data-require-id",B),q.src=T(B+".js"),q.async=!0,q.readyState?q.onreadystatechange=V:q.onload=V,I=q,K?Q.insertBefore(q,K):Q.appendChild(q),I=null}function v(B){return new RegExp("^"+B+"(/|$)")}function E(B,Z){if(B instanceof Array)for(var V=0,q=B.length;q>V&&Z(B[V],V)!==!1;V++);}function z(B,Z){var V=B.k||B.name,q=Z.k||Z.name;return q==="*"?-1:V==="*"?1:q.length-V.length}var k,A={},O=1,D=2,H=3,Y=4,j={},U={require:S,exports:1,module:1},$=w(),it={baseUrl:"./",paths:{},config:{},map:{},packages:[],shim:{},waitSeconds:0,bundles:{},urlArgs:{}};S.version="2.0.2",S.loader="esl",S.toUrl=$.toUrl;var rt=[];_.amd={};var lt={},at={};S.config=function(B){if(B){for(var Z in it){var V=B[Z],q=it[Z];if(V)if(Z==="urlArgs"&&typeof V=="string")it.urlArgs["*"]=V;else if(q instanceof Array)q.push.apply(q,V);else if(typeof q=="object")for(var ot in V)q[ot]=V[ot];else it[Z]=V}m()}},m();var G,X,et,J,tt,I,N,Q=document.getElementsByTagName("head")[0],K=document.getElementsByTagName("base")[0];K&&(Q=K.parentNode),st||(st=_)})(void 0),st("echarts",["echarts/echarts"],function(C){return C}),st("echarts/echarts",["require","./config","zrender/tool/util","zrender/tool/event","zrender/tool/env","zrender","zrender/config","./chart/island","./component/toolbox","./component","./component/title","./component/tooltip","./component/legend","./util/ecData","./chart","zrender/tool/color","./component/timeline","zrender/shape/Image","zrender/loadingEffect/Bar","zrender/loadingEffect/Bubble","zrender/loadingEffect/DynamicLine","zrender/loadingEffect/Ring","zrender/loadingEffect/Spin","zrender/loadingEffect/Whirling","./theme/macarons","./theme/infographic"],function(C){function b(){c.Dispatcher.call(this)}function S(e){e.innerHTML="",this._themeConfig={},this.dom=e,this._connected=!1,this._status={dragIn:!1,dragOut:!1,needRefresh:!1},this._curEventType=!1,this._chartList=[],this._messageCenter=new b,this._messageCenterOutSide=new b,this.resize=this.resize(),this._init()}function y(e,o,s,u,t){for(var r=e._chartList,p=r.length;p--;){var m=r[p];typeof m[o]=="function"&&m[o](s,u,t)}}var g=C("./config"),_=C("zrender/tool/util"),c=C("zrender/tool/event"),d={},f=C("zrender/tool/env").canvasSupported,a=new Date-0,h={},n="_echarts_instance_";d.version="2.2.7",d.dependencies={zrender:"2.1.1"},d.init=function(e,o){var s=C("zrender");s.version.replace(".","")-0<d.dependencies.zrender.replace(".","")-0&&console.error("ZRender "+s.version+" is too old for ECharts "+d.version+". Current version need ZRender "+d.dependencies.zrender+"+"),e=e instanceof Array?e[0]:e;var u=e.getAttribute(n);return u||(u=a++,e.setAttribute(n,u)),h[u]&&h[u].dispose(),h[u]=new S(e),h[u].id=u,h[u].canvasSupported=f,h[u].setTheme(o),h[u]},d.getInstanceById=function(e){return h[e]},_.merge(b.prototype,c.Dispatcher.prototype,!0);var l=C("zrender/config").EVENT,i=["CLICK","DBLCLICK","MOUSEOVER","MOUSEOUT","DRAGSTART","DRAGEND","DRAGENTER","DRAGOVER","DRAGLEAVE","DROP"];return S.prototype={_init:function(){var e=this,o=C("zrender").init(this.dom);this._zr=o,this._messageCenter.dispatch=function(L,M,P,R){P=P||{},P.type=L,P.event=M,e._messageCenter.dispatchWithContext(L,P,R),e._messageCenterOutSide.dispatchWithContext(L,P,R)},this._onevent=function(L){return e.__onevent(L)};for(var s in g.EVENT)s!="CLICK"&&s!="DBLCLICK"&&s!="HOVER"&&s!="MOUSEOUT"&&s!="MAP_ROAM"&&this._messageCenter.bind(g.EVENT[s],this._onevent,this);var u={};this._onzrevent=function(L){return e[u[L.type]](L)};for(var t=0,r=i.length;r>t;t++){var p=i[t],m=l[p];u[m]="_on"+p.toLowerCase(),o.on(m,this._onzrevent)}this.chart={},this.component={};var x=C("./chart/island");this._island=new x(this._themeConfig,this._messageCenter,o,{},this),this.chart.island=this._island;var T=C("./component/toolbox");this._toolbox=new T(this._themeConfig,this._messageCenter,o,{},this),this.component.toolbox=this._toolbox;var w=C("./component");w.define("title",C("./component/title")),w.define("tooltip",C("./component/tooltip")),w.define("legend",C("./component/legend")),(o.getWidth()===0||o.getHeight()===0)&&console.error("Dom’s width & height should be ready before init.")},__onevent:function(e){e.__echartsId=e.__echartsId||this.id;var o=e.__echartsId===this.id;switch(this._curEventType||(this._curEventType=e.type),e.type){case g.EVENT.LEGEND_SELECTED:this._onlegendSelected(e);break;case g.EVENT.DATA_ZOOM:if(!o){var s=this.component.dataZoom;s&&(s.silence(!0),s.absoluteZoom(e.zoom),s.silence(!1))}this._ondataZoom(e);break;case g.EVENT.DATA_RANGE:o&&this._ondataRange(e);break;case g.EVENT.MAGIC_TYPE_CHANGED:if(!o){var u=this.component.toolbox;u&&(u.silence(!0),u.setMagicType(e.magicType),u.silence(!1))}this._onmagicTypeChanged(e);break;case g.EVENT.DATA_VIEW_CHANGED:o&&this._ondataViewChanged(e);break;case g.EVENT.TOOLTIP_HOVER:o&&this._tooltipHover(e);break;case g.EVENT.RESTORE:this._onrestore();break;case g.EVENT.REFRESH:o&&this._onrefresh(e);break;case g.EVENT.TOOLTIP_IN_GRID:case g.EVENT.TOOLTIP_OUT_GRID:if(o){if(this._connected){var t=this.component.grid;t&&(e.x=(e.event.zrenderX-t.getX())/t.getWidth(),e.y=(e.event.zrenderY-t.getY())/t.getHeight())}}else{var t=this.component.grid;t&&this._zr.trigger("mousemove",{connectTrigger:!0,zrenderX:t.getX()+e.x*t.getWidth(),zrenderY:t.getY()+e.y*t.getHeight()})}}if(this._connected&&o&&this._curEventType===e.type){for(var r in this._connected)this._connected[r].connectedEventHandler(e);this._curEventType=null}(!o||!this._connected&&o)&&(this._curEventType=null)},_onclick:function(e){if(y(this,"onclick",e),e.target){var o=this._eventPackage(e.target);o&&o.seriesIndex!=null&&this._messageCenter.dispatch(g.EVENT.CLICK,e.event,o,this)}},_ondblclick:function(e){if(y(this,"ondblclick",e),e.target){var o=this._eventPackage(e.target);o&&o.seriesIndex!=null&&this._messageCenter.dispatch(g.EVENT.DBLCLICK,e.event,o,this)}},_onmouseover:function(e){if(e.target){var o=this._eventPackage(e.target);o&&o.seriesIndex!=null&&this._messageCenter.dispatch(g.EVENT.HOVER,e.event,o,this)}},_onmouseout:function(e){if(e.target){var o=this._eventPackage(e.target);o&&o.seriesIndex!=null&&this._messageCenter.dispatch(g.EVENT.MOUSEOUT,e.event,o,this)}},_ondragstart:function(e){this._status={dragIn:!1,dragOut:!1,needRefresh:!1},y(this,"ondragstart",e)},_ondragenter:function(e){y(this,"ondragenter",e)},_ondragover:function(e){y(this,"ondragover",e)},_ondragleave:function(e){y(this,"ondragleave",e)},_ondrop:function(e){y(this,"ondrop",e,this._status),this._island.ondrop(e,this._status)},_ondragend:function(e){if(y(this,"ondragend",e,this._status),this._timeline&&this._timeline.ondragend(e,this._status),this._island.ondragend(e,this._status),this._status.needRefresh){this._syncBackupData(this._option);var o=this._messageCenter;o.dispatch(g.EVENT.DATA_CHANGED,e.event,this._eventPackage(e.target),this),o.dispatch(g.EVENT.REFRESH,null,null,this)}},_onlegendSelected:function(e){this._status.needRefresh=!1,y(this,"onlegendSelected",e,this._status),this._status.needRefresh&&this._messageCenter.dispatch(g.EVENT.REFRESH,null,null,this)},_ondataZoom:function(e){this._status.needRefresh=!1,y(this,"ondataZoom",e,this._status),this._status.needRefresh&&this._messageCenter.dispatch(g.EVENT.REFRESH,null,null,this)},_ondataRange:function(e){this._clearEffect(),this._status.needRefresh=!1,y(this,"ondataRange",e,this._status),this._status.needRefresh&&this._zr.refreshNextFrame()},_onmagicTypeChanged:function(){this._clearEffect(),this._render(this._toolbox.getMagicOption())},_ondataViewChanged:function(e){this._syncBackupData(e.option),this._messageCenter.dispatch(g.EVENT.DATA_CHANGED,null,e,this),this._messageCenter.dispatch(g.EVENT.REFRESH,null,null,this)},_tooltipHover:function(e){var o=[];y(this,"ontooltipHover",e,o)},_onrestore:function(){this.restore()},_onrefresh:function(e){this._refreshInside=!0,this.refresh(e),this._refreshInside=!1},_syncBackupData:function(e){this.component.dataZoom&&this.component.dataZoom.syncBackupData(e)},_eventPackage:function(e){if(e){var o=C("./util/ecData"),s=o.get(e,"seriesIndex"),u=o.get(e,"dataIndex");return u=s!=-1&&this.component.dataZoom?this.component.dataZoom.getRealDataIndex(s,u):u,{seriesIndex:s,seriesName:(o.get(e,"series")||{}).name,dataIndex:u,data:o.get(e,"data"),name:o.get(e,"name"),value:o.get(e,"value"),special:o.get(e,"special")}}},_noDataCheck:function(e){for(var o=e.series,s=0,u=o.length;u>s;s++)if(o[s].type==g.CHART_TYPE_MAP||o[s].data&&o[s].data.length>0||o[s].markPoint&&o[s].markPoint.data&&o[s].markPoint.data.length>0||o[s].markLine&&o[s].markLine.data&&o[s].markLine.data.length>0||o[s].nodes&&o[s].nodes.length>0||o[s].links&&o[s].links.length>0||o[s].matrix&&o[s].matrix.length>0||o[s].eventList&&o[s].eventList.length>0)return!1;var t=this._option&&this._option.noDataLoadingOption||this._themeConfig.noDataLoadingOption||g.noDataLoadingOption||{text:this._option&&this._option.noDataText||this._themeConfig.noDataText||g.noDataText,effect:this._option&&this._option.noDataEffect||this._themeConfig.noDataEffect||g.noDataEffect};return this.clear(),this.showLoading(t),!0},_render:function(e){if(this._mergeGlobalConifg(e),!this._noDataCheck(e)){var o=e.backgroundColor;if(o)if(f||o.indexOf("rgba")==-1)this.dom.style.backgroundColor=o;else{var s=o.split(",");this.dom.style.filter="alpha(opacity="+100*s[3].substring(0,s[3].lastIndexOf(")"))+")",s.length=3,s[0]=s[0].replace("a",""),this.dom.style.backgroundColor=s.join(",")+")"}this._zr.clearAnimation(),this._chartList=[];var u=C("./chart"),t=C("./component");(e.xAxis||e.yAxis)&&(e.grid=e.grid||{},e.dataZoom=e.dataZoom||{});for(var r,p,m,x=["title","legend","tooltip","dataRange","roamController","grid","dataZoom","xAxis","yAxis","polar"],T=0,w=x.length;w>T;T++)p=x[T],m=this.component[p],e[p]?(m?m.refresh&&m.refresh(e):(r=t.get(/^[xy]Axis$/.test(p)?"axis":p),m=new r(this._themeConfig,this._messageCenter,this._zr,e,this,p),this.component[p]=m),this._chartList.push(m)):m&&(m.dispose(),this.component[p]=null,delete this.component[p]);for(var L,M,P,R={},T=0,w=e.series.length;w>T;T++)M=e.series[T].type,M?R[M]||(R[M]=!0,L=u.get(M),L?(this.chart[M]?(P=this.chart[M],P.refresh(e)):P=new L(this._themeConfig,this._messageCenter,this._zr,e,this),this._chartList.push(P),this.chart[M]=P):console.error(M+" has not been required.")):console.error("series["+T+"] chart type has not been defined.");for(M in this.chart)M==g.CHART_TYPE_ISLAND||R[M]||(this.chart[M].dispose(),this.chart[M]=null,delete this.chart[M]);this.component.grid&&this.component.grid.refixAxisShape(this.component),this._island.refresh(e),this._toolbox.refresh(e),e.animation&&!e.renderAsImage?this._zr.refresh():this._zr.render();var W="IMG"+this.id,F=document.getElementById(W);e.renderAsImage&&f?(F?F.src=this.getDataURL(e.renderAsImage):(F=this.getImage(e.renderAsImage),F.id=W,F.style.position="absolute",F.style.left=0,F.style.top=0,this.dom.firstChild.appendChild(F)),this.un(),this._zr.un(),this._disposeChartList(),this._zr.clear()):F&&F.parentNode.removeChild(F),F=null,this._option=e}},restore:function(){this._clearEffect(),this._option=_.clone(this._optionRestore),this._disposeChartList(),this._island.clear(),this._toolbox.reset(this._option,!0),this._render(this._option)},refresh:function(e){this._clearEffect(),e=e||{};var o=e.option;!this._refreshInside&&o&&(o=this.getOption(),_.merge(o,e.option,!0),_.merge(this._optionRestore,e.option,!0),this._toolbox.reset(o)),this._island.refresh(o),this._toolbox.refresh(o),this._zr.clearAnimation();for(var s=0,u=this._chartList.length;u>s;s++)this._chartList[s].refresh&&this._chartList[s].refresh(o);this.component.grid&&this.component.grid.refixAxisShape(this.component),this._zr.refresh()},_disposeChartList:function(){this._clearEffect(),this._zr.clearAnimation();for(var e=this._chartList.length;e--;){var o=this._chartList[e];if(o){var s=o.type;this.chart[s]&&delete this.chart[s],this.component[s]&&delete this.component[s],o.dispose&&o.dispose()}}this._chartList=[]},_mergeGlobalConifg:function(e){for(var o=["backgroundColor","calculable","calculableColor","calculableHolderColor","nameConnector","valueConnector","animation","animationThreshold","animationDuration","animationDurationUpdate","animationEasing","addDataAnimation","symbolList","DRAG_ENABLE_TIME"],s=o.length;s--;){var u=o[s];e[u]==null&&(e[u]=this._themeConfig[u]!=null?this._themeConfig[u]:g[u])}var t=e.color;t&&t.length||(t=this._themeConfig.color||g.color),this._zr.getColor=function(r){var p=C("zrender/tool/color");return p.getColor(r,t)},f||(e.animation=!1,e.addDataAnimation=!1)},setOption:function(e,o){return e.timeline?this._setTimelineOption(e):this._setOption(e,o)},_setOption:function(e,o,s){return!o&&this._option?this._option=_.merge(this.getOption(),_.clone(e),!0):(this._option=_.clone(e),!s&&this._timeline&&this._timeline.dispose()),this._optionRestore=_.clone(this._option),this._option.series&&this._option.series.length!==0?(this.component.dataZoom&&(this._option.dataZoom||this._option.toolbox&&this._option.toolbox.feature&&this._option.toolbox.feature.dataZoom&&this._option.toolbox.feature.dataZoom.show)&&this.component.dataZoom.syncOption(this._option),this._toolbox.reset(this._option),this._render(this._option),this):void this._zr.clear()},getOption:function(){function e(u){var t=s._optionRestore[u];if(t)if(t instanceof Array)for(var r=t.length;r--;)o[u][r].data=_.clone(t[r].data);else o[u].data=_.clone(t.data)}var o=_.clone(this._option),s=this;return e("xAxis"),e("yAxis"),e("series"),o},setSeries:function(e,o){return o?(this._option.series=e,this.setOption(this._option,o)):this.setOption({series:e}),this},getSeries:function(){return this.getOption().series},_setTimelineOption:function(e){this._timeline&&this._timeline.dispose();var o=C("./component/timeline"),s=new o(this._themeConfig,this._messageCenter,this._zr,e,this);return this._timeline=s,this.component.timeline=this._timeline,this},addData:function(e,o,s,u,t){function r(){if(T._zr){T._zr.clearAnimation();for(var U=0,$=H.length;$>U;U++)H[U].motionlessOnce=m.addDataAnimation&&H[U].addDataAnimation;T._messageCenter.dispatch(g.EVENT.REFRESH,null,{option:m},T)}}for(var p=e instanceof Array?e:[[e,o,s,u,t]],m=this.getOption(),x=this._optionRestore,T=this,w=0,L=p.length;L>w;w++){e=p[w][0],o=p[w][1],s=p[w][2],u=p[w][3],t=p[w][4];var M=x.series[e],P=s?"unshift":"push",R=s?"pop":"shift";if(M){var W=M.data,F=m.series[e].data;if(W[P](o),F[P](o),u||(W[R](),o=F[R]()),t!=null){var v,E;if(M.type===g.CHART_TYPE_PIE&&(v=x.legend)&&(E=v.data)){var z=m.legend.data;if(E[P](t),z[P](t),!u){var k=_.indexOf(E,o.name);k!=-1&&E.splice(k,1),k=_.indexOf(z,o.name),k!=-1&&z.splice(k,1)}}else if(x.xAxis!=null&&x.yAxis!=null){var A,O,D=M.xAxisIndex||0;(x.xAxis[D].type==null||x.xAxis[D].type==="category")&&(A=x.xAxis[D].data,O=m.xAxis[D].data,A[P](t),O[P](t),u||(A[R](),O[R]())),D=M.yAxisIndex||0,x.yAxis[D].type==="category"&&(A=x.yAxis[D].data,O=m.yAxis[D].data,A[P](t),O[P](t),u||(A[R](),O[R]()))}}this._option.series[e].data=m.series[e].data}}this._zr.clearAnimation();for(var H=this._chartList,Y=0,j=function(){Y--,Y===0&&r()},w=0,L=H.length;L>w;w++)m.addDataAnimation&&H[w].addDataAnimation&&(Y++,H[w].addDataAnimation(p,j));return this.component.dataZoom&&this.component.dataZoom.syncOption(m),this._option=m,m.addDataAnimation||setTimeout(r,0),this},addMarkPoint:function(e,o){return this._addMark(e,o,"markPoint")},addMarkLine:function(e,o){return this._addMark(e,o,"markLine")},_addMark:function(e,o,s){var u,t=this._option.series;if(t&&(u=t[e])){var r=this._optionRestore.series,p=r[e],m=u[s],x=p[s];m=u[s]=m||{data:[]},x=p[s]=x||{data:[]};for(var T in o)T==="data"?(m.data=m.data.concat(o.data),x.data=x.data.concat(o.data)):typeof o[T]!="object"||m[T]==null?m[T]=x[T]=o[T]:(_.merge(m[T],o[T],!0),_.merge(x[T],o[T],!0));var w=this.chart[u.type];w&&w.addMark(e,o,s)}return this},delMarkPoint:function(e,o){return this._delMark(e,o,"markPoint")},delMarkLine:function(e,o){return this._delMark(e,o,"markLine")},_delMark:function(e,o,s){var u,t,r,p=this._option.series;if(!(p&&(u=p[e])&&(t=u[s])&&(r=t.data)))return this;o=o.split(" > ");for(var m=-1,x=0,T=r.length;T>x;x++){var w=r[x];if(w instanceof Array){if(w[0].name===o[0]&&w[1].name===o[1]){m=x;break}}else if(w.name===o[0]){m=x;break}}if(m>-1){r.splice(m,1),this._optionRestore.series[e][s].data.splice(m,1);var L=this.chart[u.type];L&&L.delMark(e,o.join(" > "),s)}return this},getDom:function(){return this.dom},getZrender:function(){return this._zr},getDataURL:function(e){if(!f)return"";if(this._chartList.length===0){var o="IMG"+this.id,s=document.getElementById(o);if(s)return s.src}var u=this.component.tooltip;switch(u&&u.hideTip(),e){case"jpeg":break;default:e="png"}var t=this._option.backgroundColor;return t&&t.replace(" ","")==="rgba(0,0,0,0)"&&(t="#fff"),this._zr.toDataURL("image/"+e,t)},getImage:function(e){var o=this._optionRestore.title,s=document.createElement("img");return s.src=this.getDataURL(e),s.title=o&&o.text||"ECharts",s},getConnectedDataURL:function(e){if(!this.isConnected())return this.getDataURL(e);var o=this.dom,s={self:{img:this.getDataURL(e),left:o.offsetLeft,top:o.offsetTop,right:o.offsetLeft+o.offsetWidth,bottom:o.offsetTop+o.offsetHeight}},u=s.self.left,t=s.self.top,r=s.self.right,p=s.self.bottom;for(var m in this._connected)o=this._connected[m].getDom(),s[m]={img:this._connected[m].getDataURL(e),left:o.offsetLeft,top:o.offsetTop,right:o.offsetLeft+o.offsetWidth,bottom:o.offsetTop+o.offsetHeight},u=Math.min(u,s[m].left),t=Math.min(t,s[m].top),r=Math.max(r,s[m].right),p=Math.max(p,s[m].bottom);var x=document.createElement("div");x.style.position="absolute",x.style.left="-4000px",x.style.width=r-u+"px",x.style.height=p-t+"px",document.body.appendChild(x);var T=C("zrender").init(x),w=C("zrender/shape/Image");for(var m in s)T.addShape(new w({style:{x:s[m].left-u,y:s[m].top-t,image:s[m].img}}));T.render();var L=this._option.backgroundColor;L&&L.replace(/ /g,"")==="rgba(0,0,0,0)"&&(L="#fff");var M=T.toDataURL("image/png",L);return setTimeout(function(){T.dispose(),x.parentNode.removeChild(x),x=null},100),M},getConnectedImage:function(e){var o=this._optionRestore.title,s=document.createElement("img");return s.src=this.getConnectedDataURL(e),s.title=o&&o.text||"ECharts",s},on:function(e,o){return this._messageCenterOutSide.bind(e,o,this),this},un:function(e,o){return this._messageCenterOutSide.unbind(e,o),this},connect:function(e){if(!e)return this;if(this._connected||(this._connected={}),e instanceof Array)for(var o=0,s=e.length;s>o;o++)this._connected[e[o].id]=e[o];else this._connected[e.id]=e;return this},disConnect:function(e){if(!e||!this._connected)return this;if(e instanceof Array)for(var o=0,s=e.length;s>o;o++)delete this._connected[e[o].id];else delete this._connected[e.id];for(var u in this._connected)return this;return this._connected=!1,this},connectedEventHandler:function(e){e.__echartsId!=this.id&&this._onevent(e)},isConnected:function(){return!!this._connected},showLoading:function(e){var o={bar:C("zrender/loadingEffect/Bar"),bubble:C("zrender/loadingEffect/Bubble"),dynamicLine:C("zrender/loadingEffect/DynamicLine"),ring:C("zrender/loadingEffect/Ring"),spin:C("zrender/loadingEffect/Spin"),whirling:C("zrender/loadingEffect/Whirling")};this._toolbox.hideDataView(),e=e||{};var s=e.textStyle||{};e.textStyle=s;var u=_.merge(_.merge(_.clone(s),this._themeConfig.textStyle),g.textStyle);s.textFont=u.fontStyle+" "+u.fontWeight+" "+u.fontSize+"px "+u.fontFamily,s.text=e.text||this._option&&this._option.loadingText||this._themeConfig.loadingText||g.loadingText,e.x!=null&&(s.x=e.x),e.y!=null&&(s.y=e.y),e.effectOption=e.effectOption||{},e.effectOption.textStyle=s;var t=e.effect;return(typeof t=="string"||t==null)&&(t=o[e.effect||this._option&&this._option.loadingEffect||this._themeConfig.loadingEffect||g.loadingEffect]||o.spin),this._zr.showLoading(new t(e.effectOption)),this},hideLoading:function(){return this._zr.hideLoading(),this},setTheme:function(e){if(e){if(typeof e=="string")switch(e){case"macarons":e=C("./theme/macarons");break;case"infographic":e=C("./theme/infographic");break;default:e={}}else e=e||{};this._themeConfig=e}if(!f){var o=this._themeConfig.textStyle;o&&o.fontFamily&&o.fontFamily2&&(o.fontFamily=o.fontFamily2),o=g.textStyle,o.fontFamily=o.fontFamily2}this._timeline&&this._timeline.setTheme(!0),this._optionRestore&&this.restore()},resize:function(){var e=this;return function(){if(e._clearEffect(),e._zr.resize(),e._option&&e._option.renderAsImage&&f)return e._render(e._option),e;e._zr.clearAnimation(),e._island.resize(),e._toolbox.resize(),e._timeline&&e._timeline.resize();for(var o=0,s=e._chartList.length;s>o;o++)e._chartList[o].resize&&e._chartList[o].resize();return e.component.grid&&e.component.grid.refixAxisShape(e.component),e._zr.refresh(),e._messageCenter.dispatch(g.EVENT.RESIZE,null,null,e),e}},_clearEffect:function(){this._zr.modLayer(g.EFFECT_ZLEVEL,{motionBlur:!1}),this._zr.painter.clearLayer(g.EFFECT_ZLEVEL)},clear:function(){return this._disposeChartList(),this._zr.clear(),this._option={},this._optionRestore={},this.dom.style.backgroundColor=null,this},dispose:function(){var e=this.dom.getAttribute(n);e&&delete h[e],this._island.dispose(),this._toolbox.dispose(),this._timeline&&this._timeline.dispose(),this._messageCenter.unbind(),this.clear(),this._zr.dispose(),this._zr=null}},d}),st("echarts/config",[],function(){var C={CHART_TYPE_LINE:"line",CHART_TYPE_BAR:"bar",CHART_TYPE_SCATTER:"scatter",CHART_TYPE_PIE:"pie",CHART_TYPE_RADAR:"radar",CHART_TYPE_VENN:"venn",CHART_TYPE_TREEMAP:"treemap",CHART_TYPE_TREE:"tree",CHART_TYPE_MAP:"map",CHART_TYPE_K:"k",CHART_TYPE_ISLAND:"island",CHART_TYPE_FORCE:"force",CHART_TYPE_CHORD:"chord",CHART_TYPE_GAUGE:"gauge",CHART_TYPE_FUNNEL:"funnel",CHART_TYPE_EVENTRIVER:"eventRiver",CHART_TYPE_WORDCLOUD:"wordCloud",CHART_TYPE_HEATMAP:"heatmap",COMPONENT_TYPE_TITLE:"title",COMPONENT_TYPE_LEGEND:"legend",COMPONENT_TYPE_DATARANGE:"dataRange",COMPONENT_TYPE_DATAVIEW:"dataView",COMPONENT_TYPE_DATAZOOM:"dataZoom",COMPONENT_TYPE_TOOLBOX:"toolbox",COMPONENT_TYPE_TOOLTIP:"tooltip",COMPONENT_TYPE_GRID:"grid",COMPONENT_TYPE_AXIS:"axis",COMPONENT_TYPE_POLAR:"polar",COMPONENT_TYPE_X_AXIS:"xAxis",COMPONENT_TYPE_Y_AXIS:"yAxis",COMPONENT_TYPE_AXIS_CATEGORY:"categoryAxis",COMPONENT_TYPE_AXIS_VALUE:"valueAxis",COMPONENT_TYPE_TIMELINE:"timeline",COMPONENT_TYPE_ROAMCONTROLLER:"roamController",backgroundColor:"rgba(0,0,0,0)",color:["#ff7f50","#87cefa","#da70d6","#32cd32","#6495ed","#ff69b4","#ba55d3","#cd5c5c","#ffa500","#40e0d0","#1e90ff","#ff6347","#7b68ee","#00fa9a","#ffd700","#6699FF","#ff6666","#3cb371","#b8860b","#30e0e0"],markPoint:{clickable:!0,symbol:"pin",symbolSize:10,large:!1,effect:{show:!1,loop:!0,period:15,type:"scale",scaleSize:2,bounceDistance:10},itemStyle:{normal:{borderWidth:2,label:{show:!0,position:"inside"}},emphasis:{label:{show:!0}}}},markLine:{clickable:!0,symbol:["circle","arrow"],symbolSize:[2,4],smoothness:.2,precision:2,effect:{show:!1,loop:!0,period:15,scaleSize:2},bundling:{enable:!1,maxTurningAngle:45},itemStyle:{normal:{borderWidth:1.5,label:{show:!0,position:"end"},lineStyle:{type:"dashed"}},emphasis:{label:{show:!1},lineStyle:{}}}},textStyle:{decoration:"none",fontFamily:"Arial, Verdana, sans-serif",fontFamily2:"微软雅黑",fontSize:12,fontStyle:"normal",fontWeight:"normal"},EVENT:{REFRESH:"refresh",RESTORE:"restore",RESIZE:"resize",CLICK:"click",DBLCLICK:"dblclick",HOVER:"hover",MOUSEOUT:"mouseout",DATA_CHANGED:"dataChanged",DATA_ZOOM:"dataZoom",DATA_RANGE:"dataRange",DATA_RANGE_SELECTED:"dataRangeSelected",DATA_RANGE_HOVERLINK:"dataRangeHoverLink",LEGEND_SELECTED:"legendSelected",LEGEND_HOVERLINK:"legendHoverLink",MAP_SELECTED:"mapSelected",PIE_SELECTED:"pieSelected",MAGIC_TYPE_CHANGED:"magicTypeChanged",DATA_VIEW_CHANGED:"dataViewChanged",TIMELINE_CHANGED:"timelineChanged",MAP_ROAM:"mapRoam",FORCE_LAYOUT_END:"forceLayoutEnd",TOOLTIP_HOVER:"tooltipHover",TOOLTIP_IN_GRID:"tooltipInGrid",TOOLTIP_OUT_GRID:"tooltipOutGrid",ROAMCONTROLLER:"roamController"},DRAG_ENABLE_TIME:120,EFFECT_ZLEVEL:10,effectBlendAlpha:.95,symbolList:["circle","rectangle","triangle","diamond","emptyCircle","emptyRectangle","emptyTriangle","emptyDiamond"],loadingEffect:"spin",loadingText:"数据读取中...",noDataEffect:"bubble",noDataText:"暂无数据",calculable:!1,calculableColor:"rgba(255,165,0,0.6)",calculableHolderColor:"#ccc",nameConnector:" & ",valueConnector:": ",animation:!0,addDataAnimation:!0,animationThreshold:2e3,animationDuration:2e3,animationDurationUpdate:500,animationEasing:"ExponentialOut"};return C}),st("zrender/tool/util",["require","../dep/excanvas"],function(C){function b(r){return r&&r.nodeType===1&&typeof r.nodeName=="string"}function S(r){if(typeof r=="object"&&r!==null){var p=r;if(r instanceof Array){p=[];for(var m=0,x=r.length;x>m;m++)p[m]=S(r[m])}else if(!u[t.call(r)]&&!b(r)){p={};for(var T in r)r.hasOwnProperty(T)&&(p[T]=S(r[T]))}return p}return r}function y(r,p,m,x){if(p.hasOwnProperty(m)){var T=r[m];typeof T!="object"||u[t.call(T)]||b(T)?!x&&m in r||(r[m]=p[m]):g(r[m],p[m],x)}}function g(r,p,m){for(var x in p)y(r,p,x,m);return r}function _(){if(!l)if(C("../dep/excanvas"),window.G_vmlCanvasManager){var r=document.createElement("div");r.style.position="absolute",r.style.top="-1000px",document.body.appendChild(r),l=G_vmlCanvasManager.initElement(r).getContext("2d")}else l=document.createElement("canvas").getContext("2d");return l}function c(r,p){if(r.indexOf)return r.indexOf(p);for(var m=0,x=r.length;x>m;m++)if(r[m]===p)return m;return-1}function d(r,p){function m(){}var x=r.prototype;m.prototype=p.prototype,r.prototype=new m;for(var T in x)r.prototype[T]=x[T];r.constructor=r}function f(r,p,m){if(r&&p)if(r.forEach&&r.forEach===e)r.forEach(p,m);else if(r.length===+r.length)for(var x=0,T=r.length;T>x;x++)p.call(m,r[x],x,r);else for(var w in r)r.hasOwnProperty(w)&&p.call(m,r[w],w,r)}function a(r,p,m){if(r&&p){if(r.map&&r.map===o)return r.map(p,m);for(var x=[],T=0,w=r.length;w>T;T++)x.push(p.call(m,r[T],T,r));return x}}function h(r,p,m){if(r&&p){if(r.filter&&r.filter===s)return r.filter(p,m);for(var x=[],T=0,w=r.length;w>T;T++)p.call(m,r[T],T,r)&&x.push(r[T]);return x}}function n(r,p){return function(){r.apply(p,arguments)}}var l,i=Array.prototype,e=i.forEach,o=i.map,s=i.filter,u={"[object Function]":1,"[object RegExp]":1,"[object Date]":1,"[object Error]":1,"[object CanvasGradient]":1},t=Object.prototype.toString;return{inherits:d,clone:S,merge:g,getContext:_,indexOf:c,each:f,map:a,filter:h,bind:n}}),st("zrender/tool/event",["require","../mixin/Eventful"],function(C){function b(c){return typeof c.zrenderX<"u"&&c.zrenderX||typeof c.offsetX<"u"&&c.offsetX||typeof c.layerX<"u"&&c.layerX||typeof c.clientX<"u"&&c.clientX}function S(c){return typeof c.zrenderY<"u"&&c.zrenderY||typeof c.offsetY<"u"&&c.offsetY||typeof c.layerY<"u"&&c.layerY||typeof c.clientY<"u"&&c.clientY}function y(c){return typeof c.zrenderDelta<"u"&&c.zrenderDelta||typeof c.wheelDelta<"u"&&c.wheelDelta||typeof c.detail<"u"&&-c.detail}var g=C("../mixin/Eventful"),_=typeof window.addEventListener=="function"?function(c){c.preventDefault(),c.stopPropagation(),c.cancelBubble=!0}:function(c){c.returnValue=!1,c.cancelBubble=!0};return{getX:b,getY:S,getDelta:y,stop:_,Dispatcher:g}}),st("zrender/tool/env",[],function(){function C(b){var S=this.os={},y=this.browser={},g=b.match(/Web[kK]it[\/]{0,1}([\d.]+)/),_=b.match(/(Android);?[\s\/]+([\d.]+)?/),c=b.match(/(iPad).*OS\s([\d_]+)/),d=b.match(/(iPod)(.*OS\s([\d_]+))?/),f=!c&&b.match(/(iPhone\sOS)\s([\d_]+)/),a=b.match(/(webOS|hpwOS)[\s\/]([\d.]+)/),h=a&&b.match(/TouchPad/),n=b.match(/Kindle\/([\d.]+)/),l=b.match(/Silk\/([\d._]+)/),i=b.match(/(BlackBerry).*Version\/([\d.]+)/),e=b.match(/(BB10).*Version\/([\d.]+)/),o=b.match(/(RIM\sTablet\sOS)\s([\d.]+)/),s=b.match(/PlayBook/),u=b.match(/Chrome\/([\d.]+)/)||b.match(/CriOS\/([\d.]+)/),t=b.match(/Firefox\/([\d.]+)/),m=b.match(/MSIE ([\d.]+)/),r=g&&b.match(/Mobile\//)&&!u,p=b.match(/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/)&&!u,m=b.match(/MSIE\s([\d.]+)/);return(y.webkit=!!g)&&(y.version=g[1]),_&&(S.android=!0,S.version=_[2]),f&&!d&&(S.ios=S.iphone=!0,S.version=f[2].replace(/_/g,".")),c&&(S.ios=S.ipad=!0,S.version=c[2].replace(/_/g,".")),d&&(S.ios=S.ipod=!0,S.version=d[3]?d[3].replace(/_/g,"."):null),a&&(S.webos=!0,S.version=a[2]),h&&(S.touchpad=!0),i&&(S.blackberry=!0,S.version=i[2]),e&&(S.bb10=!0,S.version=e[2]),o&&(S.rimtabletos=!0,S.version=o[2]),s&&(y.playbook=!0),n&&(S.kindle=!0,S.version=n[1]),l&&(y.silk=!0,y.version=l[1]),!l&&S.android&&b.match(/Kindle Fire/)&&(y.silk=!0),u&&(y.chrome=!0,y.version=u[1]),t&&(y.firefox=!0,y.version=t[1]),m&&(y.ie=!0,y.version=m[1]),r&&(b.match(/Safari/)||S.ios)&&(y.safari=!0),p&&(y.webview=!0),m&&(y.ie=!0,y.version=m[1]),S.tablet=!!(c||s||_&&!b.match(/Mobile/)||t&&b.match(/Tablet/)||m&&!b.match(/Phone/)&&b.match(/Touch/)),S.phone=!(S.tablet||S.ipod||!(_||f||a||i||e||u&&b.match(/Android/)||u&&b.match(/CriOS\/([\d.]+)/)||t&&b.match(/Mobile/)||m&&b.match(/Touch/))),{browser:y,os:S,canvasSupported:!!document.createElement("canvas").getContext}}return C(navigator.userAgent)}),st("zrender",["zrender/zrender"],function(C){return C}),st("zrender/zrender",["require","./dep/excanvas","./tool/util","./tool/log","./tool/guid","./Handler","./Painter","./Storage","./animation/Animation","./tool/env"],function(C){function b(l){return function(){l._needsRefreshNextFrame&&l.refresh()}}C("./dep/excanvas");var S=C("./tool/util"),y=C("./tool/log"),g=C("./tool/guid"),_=C("./Handler"),c=C("./Painter"),d=C("./Storage"),f=C("./animation/Animation"),a={},h={};h.version="2.1.1",h.init=function(l){var i=new n(g(),l);return a[i.id]=i,i},h.dispose=function(l){if(l)l.dispose();else{for(var i in a)a[i].dispose();a={}}return h},h.getInstance=function(l){return a[l]},h.delInstance=function(l){return delete a[l],h};var n=function(l,i){this.id=l,this.env=C("./tool/env"),this.storage=new d,this.painter=new c(i,this.storage),this.handler=new _(i,this.storage,this.painter),this.animation=new f({stage:{update:b(this)}}),this.animation.start();var e=this;this.painter.refreshNextFrame=function(){e.refreshNextFrame()},this._needsRefreshNextFrame=!1;var e=this,o=this.storage,s=o.delFromMap;o.delFromMap=function(u){var t=o.get(u);e.stopAnimation(t),s.call(o,u)}};return n.prototype.getId=function(){return this.id},n.prototype.addShape=function(l){return this.addElement(l),this},n.prototype.addGroup=function(l){return this.addElement(l),this},n.prototype.delShape=function(l){return this.delElement(l),this},n.prototype.delGroup=function(l){return this.delElement(l),this},n.prototype.modShape=function(l,i){return this.modElement(l,i),this},n.prototype.modGroup=function(l,i){return this.modElement(l,i),this},n.prototype.addElement=function(l){return this.storage.addRoot(l),this._needsRefreshNextFrame=!0,this},n.prototype.delElement=function(l){return this.storage.delRoot(l),this._needsRefreshNextFrame=!0,this},n.prototype.modElement=function(l,i){return this.storage.mod(l,i),this._needsRefreshNextFrame=!0,this},n.prototype.modLayer=function(l,i){return this.painter.modLayer(l,i),this._needsRefreshNextFrame=!0,this},n.prototype.addHoverShape=function(l){return this.storage.addHover(l),this},n.prototype.render=function(l){return this.painter.render(l),this._needsRefreshNextFrame=!1,this},n.prototype.refresh=function(l){return this.painter.refresh(l),this._needsRefreshNextFrame=!1,this},n.prototype.refreshNextFrame=function(){return this._needsRefreshNextFrame=!0,this},n.prototype.refreshHover=function(l){return this.painter.refreshHover(l),this},n.prototype.refreshShapes=function(l,i){return this.painter.refreshShapes(l,i),this},n.prototype.resize=function(){return this.painter.resize(),this},n.prototype.animate=function(l,i,e){var o=this;if(typeof l=="string"&&(l=this.storage.get(l)),l){var s;if(i){for(var u=i.split("."),t=l,r=0,p=u.length;p>r;r++)t&&(t=t[u[r]]);t&&(s=t)}else s=l;if(!s)return void y('Property "'+i+'" is not existed in element '+l.id);l.__animators==null&&(l.__animators=[]);var m=l.__animators,x=this.animation.animate(s,{loop:e}).during(function(){o.modShape(l)}).done(function(){var T=S.indexOf(l.__animators,x);T>=0&&m.splice(T,1)});return m.push(x),x}y("Element not existed")},n.prototype.stopAnimation=function(l){if(l.__animators){for(var i=l.__animators,e=i.length,o=0;e>o;o++)i[o].stop();i.length=0}return this},n.prototype.clearAnimation=function(){return this.animation.clear(),this},n.prototype.showLoading=function(l){return this.painter.showLoading(l),this},n.prototype.hideLoading=function(){return this.painter.hideLoading(),this},n.prototype.getWidth=function(){return this.painter.getWidth()},n.prototype.getHeight=function(){return this.painter.getHeight()},n.prototype.toDataURL=function(l,i,e){return this.painter.toDataURL(l,i,e)},n.prototype.shapeToImage=function(l,i,e){var o=g();return this.painter.shapeToImage(o,l,i,e)},n.prototype.on=function(l,i,e){return this.handler.on(l,i,e),this},n.prototype.un=function(l,i){return this.handler.un(l,i),this},n.prototype.trigger=function(l,i){return this.handler.trigger(l,i),this},n.prototype.clear=function(){return this.storage.delRoot(),this.painter.clear(),this},n.prototype.dispose=function(){this.animation.stop(),this.clear(),this.storage.dispose(),this.painter.dispose(),this.handler.dispose(),this.animation=this.storage=this.painter=this.handler=null,h.delInstance(this.id)},h}),st("zrender/config",[],function(){var C={EVENT:{RESIZE:"resize",CLICK:"click",DBLCLICK:"dblclick",MOUSEWHEEL:"mousewheel",MOUSEMOVE:"mousemove",MOUSEOVER:"mouseover",MOUSEOUT:"mouseout",MOUSEDOWN:"mousedown",MOUSEUP:"mouseup",GLOBALOUT:"globalout",DRAGSTART:"dragstart",DRAGEND:"dragend",DRAGENTER:"dragenter",DRAGOVER:"dragover",DRAGLEAVE:"dragleave",DROP:"drop",touchClickDelay:300},elementClassName:"zr-element",catchBrushException:!1,debugMode:0,devicePixelRatio:Math.max(window.devicePixelRatio||1,1)};return C}),st("echarts/chart/island",["require","./base","zrender/shape/Circle","../config","../util/ecData","zrender/tool/util","zrender/tool/event","zrender/tool/color","../util/accMath","../chart"],function(C){function b(f,a,h,n,l){S.call(this,f,a,h,n,l),this._nameConnector,this._valueConnector,this._zrHeight=this.zr.getHeight(),this._zrWidth=this.zr.getWidth();var i=this;i.shapeHandler.onmousewheel=function(e){var o=e.target,s=e.event,u=d.getDelta(s);u=u>0?-1:1,o.style.r-=u,o.style.r=o.style.r<5?5:o.style.r;var t=_.get(o,"value"),r=t*i.option.island.calculateStep;t=r>1?Math.round(t-r*u):+(t-r*u).toFixed(2);var p=_.get(o,"name");o.style.text=p+":"+t,_.set(o,"value",t),_.set(o,"name",p),i.zr.modShape(o.id),i.zr.refreshNextFrame(),d.stop(s)}}var S=C("./base"),y=C("zrender/shape/Circle"),g=C("../config");g.island={zlevel:0,z:5,r:15,calculateStep:.1};var _=C("../util/ecData"),c=C("zrender/tool/util"),d=C("zrender/tool/event");return b.prototype={type:g.CHART_TYPE_ISLAND,_combine:function(f,a){var h=C("zrender/tool/color"),n=C("../util/accMath"),l=n.accAdd(_.get(f,"value"),_.get(a,"value")),i=_.get(f,"name")+this._nameConnector+_.get(a,"name");f.style.text=i+this._valueConnector+l,_.set(f,"value",l),_.set(f,"name",i),f.style.r=this.option.island.r,f.style.color=h.mix(f.style.color,a.style.color)},refresh:function(f){f&&(f.island=this.reformOption(f.island),this.option=f,this._nameConnector=this.option.nameConnector,this._valueConnector=this.option.valueConnector)},getOption:function(){return this.option},resize:function(){var f=this.zr.getWidth(),a=this.zr.getHeight(),h=f/(this._zrWidth||f),n=a/(this._zrHeight||a);if(h!==1||n!==1){this._zrWidth=f,this._zrHeight=a;for(var l=0,i=this.shapeList.length;i>l;l++)this.zr.modShape(this.shapeList[l].id,{style:{x:Math.round(this.shapeList[l].style.x*h),y:Math.round(this.shapeList[l].style.y*n)}})}},add:function(f){var a=_.get(f,"name"),h=_.get(f,"value"),n=_.get(f,"series")!=null?_.get(f,"series").name:"",l=this.getFont(this.option.island.textStyle),i=this.option.island,e={zlevel:i.zlevel,z:i.z,style:{x:f.style.x,y:f.style.y,r:this.option.island.r,color:f.style.color||f.style.strokeColor,text:a+this._valueConnector+h,textFont:l},draggable:!0,hoverable:!0,onmousewheel:this.shapeHandler.onmousewheel,_type:"island"};e.style.color==="#fff"&&(e.style.color=f.style.strokeColor),this.setCalculable(e),e.dragEnableTime=0,_.pack(e,{name:n},-1,h,-1,a),e=new y(e),this.shapeList.push(e),this.zr.addShape(e)},del:function(f){this.zr.delShape(f.id);for(var a=[],h=0,n=this.shapeList.length;n>h;h++)this.shapeList[h].id!=f.id&&a.push(this.shapeList[h]);this.shapeList=a},ondrop:function(f,a){if(this.isDrop&&f.target){var h=f.target,n=f.dragged;this._combine(h,n),this.zr.modShape(h.id),a.dragIn=!0,this.isDrop=!1}},ondragend:function(f,a){var h=f.target;this.isDragend?a.dragIn&&(this.del(h),a.needRefresh=!0):a.dragIn||(h.style.x=d.getX(f.event),h.style.y=d.getY(f.event),this.add(h),a.needRefresh=!0),this.isDragend=!1}},c.inherits(b,S),C("../chart").define("island",b),b}),st("echarts/component/toolbox",["require","./base","zrender/shape/Line","zrender/shape/Image","zrender/shape/Rectangle","../util/shape/Icon","../config","zrender/tool/util","zrender/config","zrender/tool/event","./dataView","../component"],function(C){function b(i,e,o,s,u){S.call(this,i,e,o,s,u),this.dom=u.dom,this._magicType={},this._magicMap={},this._isSilence=!1,this._iconList,this._iconShapeMap={},this._featureTitle={},this._featureIcon={},this._featureColor={},this._featureOption={},this._enableColor="red",this._disableColor="#ccc",this._markShapeList=[];var t=this;t._onMark=function(r){t.__onMark(r)},t._onMarkUndo=function(r){t.__onMarkUndo(r)},t._onMarkClear=function(r){t.__onMarkClear(r)},t._onDataZoom=function(r){t.__onDataZoom(r)},t._onDataZoomReset=function(r){t.__onDataZoomReset(r)},t._onDataView=function(r){t.__onDataView(r)},t._onRestore=function(r){t.__onRestore(r)},t._onSaveAsImage=function(r){t.__onSaveAsImage(r)},t._onMagicType=function(r){t.__onMagicType(r)},t._onCustomHandler=function(r){t.__onCustomHandler(r)},t._onmousemove=function(r){return t.__onmousemove(r)},t._onmousedown=function(r){return t.__onmousedown(r)},t._onmouseup=function(r){return t.__onmouseup(r)},t._onclick=function(r){return t.__onclick(r)}}var S=C("./base"),y=C("zrender/shape/Line"),g=C("zrender/shape/Image"),_=C("zrender/shape/Rectangle"),c=C("../util/shape/Icon"),d=C("../config");d.toolbox={zlevel:0,z:6,show:!1,orient:"horizontal",x:"right",y:"top",color:["#1e90ff","#22bb22","#4b0082","#d2691e"],disableColor:"#ddd",effectiveColor:"red",backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderWidth:0,padding:5,itemGap:10,itemSize:16,showTitle:!0,feature:{mark:{show:!1,title:{mark:"辅助线开关",markUndo:"删除辅助线",markClear:"清空辅助线"},lineStyle:{width:1,color:"#1e90ff",type:"dashed"}},dataZoom:{show:!1,title:{dataZoom:"区域缩放",dataZoomReset:"区域缩放后退"}},dataView:{show:!1,title:"数据视图",readOnly:!1,lang:["数据视图","关闭","刷新"]},magicType:{show:!1,title:{line:"折线图切换",bar:"柱形图切换",stack:"堆积",tiled:"平铺",force:"力导向布局图切换",chord:"和弦图切换",pie:"饼图切换",funnel:"漏斗图切换"},type:[]},restore:{show:!1,title:"还原"},saveAsImage:{show:!1,title:"保存为图片",type:"png",lang:["点击保存"]}}};var f=C("zrender/tool/util"),a=C("zrender/config"),h=C("zrender/tool/event"),n="stack",l="tiled";return b.prototype={type:d.COMPONENT_TYPE_TOOLBOX,_buildShape:function(){this._iconList=[];var i=this.option.toolbox;this._enableColor=i.effectiveColor,this._disableColor=i.disableColor;var e=i.feature,o=[];for(var s in e)if(e[s].show)switch(s){case"mark":o.push({key:s,name:"mark"}),o.push({key:s,name:"markUndo"}),o.push({key:s,name:"markClear"});break;case"magicType":for(var u=0,t=e[s].type.length;t>u;u++)e[s].title[e[s].type[u]+"Chart"]=e[s].title[e[s].type[u]],e[s].option&&(e[s].option[e[s].type[u]+"Chart"]=e[s].option[e[s].type[u]]),o.push({key:s,name:e[s].type[u]+"Chart"});break;case"dataZoom":o.push({key:s,name:"dataZoom"}),o.push({key:s,name:"dataZoomReset"});break;case"saveAsImage":this.canvasSupported&&o.push({key:s,name:"saveAsImage"});break;default:o.push({key:s,name:s})}if(o.length>0){for(var r,s,u=0,t=o.length;t>u;u++)r=o[u].name,s=o[u].key,this._iconList.push(r),this._featureTitle[r]=e[s].title[r]||e[s].title,e[s].icon&&(this._featureIcon[r]=e[s].icon[r]||e[s].icon),e[s].color&&(this._featureColor[r]=e[s].color[r]||e[s].color),e[s].option&&(this._featureOption[r]=e[s].option[r]||e[s].option);this._itemGroupLocation=this._getItemGroupLocation(),this._buildBackground(),this._buildItem();for(var u=0,t=this.shapeList.length;t>u;u++)this.zr.addShape(this.shapeList[u]);this._iconShapeMap.mark&&(this._iconDisable(this._iconShapeMap.markUndo),this._iconDisable(this._iconShapeMap.markClear)),this._iconShapeMap.dataZoomReset&&this._zoomQueue.length===0&&this._iconDisable(this._iconShapeMap.dataZoomReset)}},_buildItem:function(){var i,e,o,s,u=this.option.toolbox,t=this._iconList.length,r=this._itemGroupLocation.x,p=this._itemGroupLocation.y,m=u.itemSize,x=u.itemGap,T=u.color instanceof Array?u.color:[u.color],w=this.getFont(u.textStyle);u.orient==="horizontal"?(e=this._itemGroupLocation.y/this.zr.getHeight()<.5?"bottom":"top",o=this._itemGroupLocation.x/this.zr.getWidth()<.5?"left":"right",s=this._itemGroupLocation.y/this.zr.getHeight()<.5?"top":"bottom"):e=this._itemGroupLocation.x/this.zr.getWidth()<.5?"right":"left",this._iconShapeMap={};for(var L=this,M=0;t>M;M++){switch(i={type:"icon",zlevel:this.getZlevelBase(),z:this.getZBase(),style:{x:r,y:p,width:m,height:m,iconType:this._iconList[M],lineWidth:1,strokeColor:this._featureColor[this._iconList[M]]||T[M%T.length],brushType:"stroke"},highlightStyle:{lineWidth:1,text:u.showTitle?this._featureTitle[this._iconList[M]]:void 0,textFont:w,textPosition:e,strokeColor:this._featureColor[this._iconList[M]]||T[M%T.length]},hoverable:!0,clickable:!0},this._featureIcon[this._iconList[M]]&&(i.style.image=this._featureIcon[this._iconList[M]].replace(new RegExp("^image:\\/\\/"),""),i.style.opacity=.8,i.highlightStyle.opacity=1,i.type="image"),u.orient==="horizontal"&&(M===0&&o==="left"&&(i.highlightStyle.textPosition="specific",i.highlightStyle.textAlign=o,i.highlightStyle.textBaseline=s,i.highlightStyle.textX=r,i.highlightStyle.textY=s==="top"?p+m+10:p-10),M===t-1&&o==="right"&&(i.highlightStyle.textPosition="specific",i.highlightStyle.textAlign=o,i.highlightStyle.textBaseline=s,i.highlightStyle.textX=r+m,i.highlightStyle.textY=s==="top"?p+m+10:p-10)),this._iconList[M]){case"mark":i.onclick=L._onMark;break;case"markUndo":i.onclick=L._onMarkUndo;break;case"markClear":i.onclick=L._onMarkClear;break;case"dataZoom":i.onclick=L._onDataZoom;break;case"dataZoomReset":i.onclick=L._onDataZoomReset;break;case"dataView":if(!this._dataView){var P=C("./dataView");this._dataView=new P(this.ecTheme,this.messageCenter,this.zr,this.option,this.myChart)}i.onclick=L._onDataView;break;case"restore":i.onclick=L._onRestore;break;case"saveAsImage":i.onclick=L._onSaveAsImage;break;default:this._iconList[M].match("Chart")?(i._name=this._iconList[M].replace("Chart",""),i.onclick=L._onMagicType):i.onclick=L._onCustomHandler}i.type==="icon"?i=new c(i):i.type==="image"&&(i=new g(i)),this.shapeList.push(i),this._iconShapeMap[this._iconList[M]]=i,u.orient==="horizontal"?r+=m+x:p+=m+x}},_buildBackground:function(){var i=this.option.toolbox,e=this.reformCssArray(this.option.toolbox.padding);this.shapeList.push(new _({zlevel:this.getZlevelBase(),z:this.getZBase(),hoverable:!1,style:{x:this._itemGroupLocation.x-e[3],y:this._itemGroupLocation.y-e[0],width:this._itemGroupLocation.width+e[3]+e[1],height:this._itemGroupLocation.height+e[0]+e[2],brushType:i.borderWidth===0?"fill":"both",color:i.backgroundColor,strokeColor:i.borderColor,lineWidth:i.borderWidth}}))},_getItemGroupLocation:function(){var i=this.option.toolbox,e=this.reformCssArray(this.option.toolbox.padding),o=this._iconList.length,s=i.itemGap,u=i.itemSize,t=0,r=0;i.orient==="horizontal"?(t=(u+s)*o-s,r=u):(r=(u+s)*o-s,t=u);var p,m=this.zr.getWidth();switch(i.x){case"center":p=Math.floor((m-t)/2);break;case"left":p=e[3]+i.borderWidth;break;case"right":p=m-t-e[1]-i.borderWidth;break;default:p=i.x-0,p=isNaN(p)?0:p}var x,T=this.zr.getHeight();switch(i.y){case"top":x=e[0]+i.borderWidth;break;case"bottom":x=T-r-e[2]-i.borderWidth;break;case"center":x=Math.floor((T-r)/2);break;default:x=i.y-0,x=isNaN(x)?0:x}return{x:p,y:x,width:t,height:r}},__onmousemove:function(i){this._marking&&(this._markShape.style.xEnd=h.getX(i.event),this._markShape.style.yEnd=h.getY(i.event),this.zr.addHoverShape(this._markShape)),this._zooming&&(this._zoomShape.style.width=h.getX(i.event)-this._zoomShape.style.x,this._zoomShape.style.height=h.getY(i.event)-this._zoomShape.style.y,this.zr.addHoverShape(this._zoomShape),this.dom.style.cursor="crosshair",h.stop(i.event)),this._zoomStart&&this.dom.style.cursor!="pointer"&&this.dom.style.cursor!="move"&&(this.dom.style.cursor="crosshair")},__onmousedown:function(i){if(!i.target){this._zooming=!0;var e=h.getX(i.event),o=h.getY(i.event),s=this.option.dataZoom||{};return this._zoomShape=new _({zlevel:this.getZlevelBase(),z:this.getZBase(),style:{x:e,y:o,width:1,height:1,brushType:"both"},highlightStyle:{lineWidth:2,color:s.fillerColor||d.dataZoom.fillerColor,strokeColor:s.handleColor||d.dataZoom.handleColor,brushType:"both"}}),this.zr.addHoverShape(this._zoomShape),!0}},__onmouseup:function(){if(!this._zoomShape||Math.abs(this._zoomShape.style.width)<10||Math.abs(this._zoomShape.style.height)<10)return this._zooming=!1,!0;if(this._zooming&&this.component.dataZoom){this._zooming=!1;var i=this.component.dataZoom.rectZoom(this._zoomShape.style);i&&(this._zoomQueue.push({start:i.start,end:i.end,start2:i.start2,end2:i.end2}),this._iconEnable(this._iconShapeMap.dataZoomReset),this.zr.refreshNextFrame())}return!0},__onclick:function(i){if(!i.target){if(this._marking)this._marking=!1,this._markShapeList.push(this._markShape),this._iconEnable(this._iconShapeMap.markUndo),this._iconEnable(this._iconShapeMap.markClear),this.zr.addShape(this._markShape),this.zr.refreshNextFrame();else if(this._markStart){this._marking=!0;var e=h.getX(i.event),o=h.getY(i.event);this._markShape=new y({zlevel:this.getZlevelBase(),z:this.getZBase(),style:{xStart:e,yStart:o,xEnd:e,yEnd:o,lineWidth:this.query(this.option,"toolbox.feature.mark.lineStyle.width"),strokeColor:this.query(this.option,"toolbox.feature.mark.lineStyle.color"),lineType:this.query(this.option,"toolbox.feature.mark.lineStyle.type")}}),this.zr.addHoverShape(this._markShape)}}},__onMark:function(i){var e=i.target;if(this._marking||this._markStart)this._resetMark(),this.zr.refreshNextFrame();else{this._resetZoom(),this.zr.modShape(e.id,{style:{strokeColor:this._enableColor}}),this.zr.refreshNextFrame(),this._markStart=!0;var o=this;setTimeout(function(){o.zr&&o.zr.on(a.EVENT.CLICK,o._onclick)&&o.zr.on(a.EVENT.MOUSEMOVE,o._onmousemove)},10)}return!0},__onMarkUndo:function(){if(this._marking)this._marking=!1;else{var i=this._markShapeList.length;if(i>=1){var e=this._markShapeList[i-1];this.zr.delShape(e.id),this.zr.refreshNextFrame(),this._markShapeList.pop(),i===1&&(this._iconDisable(this._iconShapeMap.markUndo),this._iconDisable(this._iconShapeMap.markClear))}}return!0},__onMarkClear:function(){this._marking&&(this._marking=!1);var i=this._markShapeList.length;if(i>0){for(;i--;)this.zr.delShape(this._markShapeList.pop().id);this._iconDisable(this._iconShapeMap.markUndo),this._iconDisable(this._iconShapeMap.markClear),this.zr.refreshNextFrame()}return!0},__onDataZoom:function(i){var e=i.target;if(this._zooming||this._zoomStart)this._resetZoom(),this.zr.refreshNextFrame(),this.dom.style.cursor="default";else{this._resetMark(),this.zr.modShape(e.id,{style:{strokeColor:this._enableColor}}),this.zr.refreshNextFrame(),this._zoomStart=!0;var o=this;setTimeout(function(){o.zr&&o.zr.on(a.EVENT.MOUSEDOWN,o._onmousedown)&&o.zr.on(a.EVENT.MOUSEUP,o._onmouseup)&&o.zr.on(a.EVENT.MOUSEMOVE,o._onmousemove)},10),this.dom.style.cursor="crosshair"}return!0},__onDataZoomReset:function(){return this._zooming&&(this._zooming=!1),this._zoomQueue.pop(),this._zoomQueue.length>0?this.component.dataZoom.absoluteZoom(this._zoomQueue[this._zoomQueue.length-1]):(this.component.dataZoom.rectZoom(),this._iconDisable(this._iconShapeMap.dataZoomReset),this.zr.refreshNextFrame()),!0},_resetMark:function(){this._marking=!1,this._markStart&&(this._markStart=!1,this._iconShapeMap.mark&&this.zr.modShape(this._iconShapeMap.mark.id,{style:{strokeColor:this._iconShapeMap.mark.highlightStyle.strokeColor}}),this.zr.un(a.EVENT.CLICK,this._onclick),this.zr.un(a.EVENT.MOUSEMOVE,this._onmousemove))},_resetZoom:function(){this._zooming=!1,this._zoomStart&&(this._zoomStart=!1,this._iconShapeMap.dataZoom&&this.zr.modShape(this._iconShapeMap.dataZoom.id,{style:{strokeColor:this._iconShapeMap.dataZoom.highlightStyle.strokeColor}}),this.zr.un(a.EVENT.MOUSEDOWN,this._onmousedown),this.zr.un(a.EVENT.MOUSEUP,this._onmouseup),this.zr.un(a.EVENT.MOUSEMOVE,this._onmousemove))},_iconDisable:function(i){i.type!="image"?this.zr.modShape(i.id,{hoverable:!1,clickable:!1,style:{strokeColor:this._disableColor}}):this.zr.modShape(i.id,{hoverable:!1,clickable:!1,style:{opacity:.3}})},_iconEnable:function(i){i.type!="image"?this.zr.modShape(i.id,{hoverable:!0,clickable:!0,style:{strokeColor:i.highlightStyle.strokeColor}}):this.zr.modShape(i.id,{hoverable:!0,clickable:!0,style:{opacity:.8}})},__onDataView:function(){return this._dataView.show(this.option),!0},__onRestore:function(){return this._resetMark(),this._resetZoom(),this.messageCenter.dispatch(d.EVENT.RESTORE,null,null,this.myChart),!0},__onSaveAsImage:function(){var i=this.option.toolbox.feature.saveAsImage,e=i.type||"png";e!="png"&&e!="jpeg"&&(e="png");var o;o=this.myChart.isConnected()?this.myChart.getConnectedDataURL(e):this.zr.toDataURL("image/"+e,this.option.backgroundColor&&this.option.backgroundColor.replace(" ","")==="rgba(0,0,0,0)"?"#fff":this.option.backgroundColor);var s=document.createElement("div");s.id="__echarts_download_wrap__",s.style.cssText="position:fixed;z-index:99999;display:block;top:0;left:0;background-color:rgba(33,33,33,0.5);text-align:center;width:100%;height:100%;line-height:"+document.documentElement.clientHeight+"px;";var u=document.createElement("a");u.href=o,u.setAttribute("download",(i.name?i.name:this.option.title&&(this.option.title.text||this.option.title.subtext)?this.option.title.text||this.option.title.subtext:"ECharts")+"."+e),u.innerHTML='<img style="vertical-align:middle" src="'+o+'" title="'+(window.ActiveXObject||"ActiveXObject"in window?"右键->图片另存为":i.lang?i.lang[0]:"点击保存")+'"/>',s.appendChild(u),document.body.appendChild(s),u=null,s=null,setTimeout(function(){var t=document.getElementById("__echarts_download_wrap__");t&&(t.onclick=function(){var r=document.getElementById("__echarts_download_wrap__");r.onclick=null,r.innerHTML="",document.body.removeChild(r),r=null},t=null)},500)},__onMagicType:function(i){this._resetMark();var e=i.target._name;return this._magicType[e]||(this._magicType[e]=!0,e===d.CHART_TYPE_LINE?this._magicType[d.CHART_TYPE_BAR]=!1:e===d.CHART_TYPE_BAR&&(this._magicType[d.CHART_TYPE_LINE]=!1),e===d.CHART_TYPE_PIE?this._magicType[d.CHART_TYPE_FUNNEL]=!1:e===d.CHART_TYPE_FUNNEL&&(this._magicType[d.CHART_TYPE_PIE]=!1),e===d.CHART_TYPE_FORCE?this._magicType[d.CHART_TYPE_CHORD]=!1:e===d.CHART_TYPE_CHORD&&(this._magicType[d.CHART_TYPE_FORCE]=!1),e===n?this._magicType[l]=!1:e===l&&(this._magicType[n]=!1),this.messageCenter.dispatch(d.EVENT.MAGIC_TYPE_CHANGED,i.event,{magicType:this._magicType},this.myChart)),!0},setMagicType:function(i){this._resetMark(),this._magicType=i,!this._isSilence&&this.messageCenter.dispatch(d.EVENT.MAGIC_TYPE_CHANGED,null,{magicType:this._magicType},this.myChart)},__onCustomHandler:function(i){var e=i.target.style.iconType,o=this.option.toolbox.feature[e].onclick;typeof o=="function"&&o.call(this,this.option)},reset:function(i,e){if(e&&this.clear(),this.query(i,"toolbox.show")&&this.query(i,"toolbox.feature.magicType.show")){var o=i.toolbox.feature.magicType.type,s=o.length;for(this._magicMap={};s--;)this._magicMap[o[s]]=!0;s=i.series.length;for(var u,t;s--;)u=i.series[s].type,this._magicMap[u]&&(t=i.xAxis instanceof Array?i.xAxis[i.series[s].xAxisIndex||0]:i.xAxis,t&&(t.type||"category")==="category"&&(t.__boundaryGap=t.boundaryGap!=null?t.boundaryGap:!0),t=i.yAxis instanceof Array?i.yAxis[i.series[s].yAxisIndex||0]:i.yAxis,t&&t.type==="category"&&(t.__boundaryGap=t.boundaryGap!=null?t.boundaryGap:!0),i.series[s].__type=u,i.series[s].__itemStyle=f.clone(i.series[s].itemStyle||{})),(this._magicMap[n]||this._magicMap[l])&&(i.series[s].__stack=i.series[s].stack)}this._magicType=e?{}:this._magicType||{};for(var r in this._magicType)if(this._magicType[r]){this.option=i,this.getMagicOption();break}var p=i.dataZoom;if(p&&p.show){var m=p.start!=null&&p.start>=0&&p.start<=100?p.start:0,x=p.end!=null&&p.end>=0&&p.end<=100?p.end:100;m>x&&(m+=x,x=m-x,m-=x),this._zoomQueue=[{start:m,end:x,start2:0,end2:100}]}else this._zoomQueue=[]},getMagicOption:function(){var i,e;if(this._magicType[d.CHART_TYPE_LINE]||this._magicType[d.CHART_TYPE_BAR]){for(var o=!this._magicType[d.CHART_TYPE_LINE],s=0,u=this.option.series.length;u>s;s++)e=this.option.series[s].type,(e==d.CHART_TYPE_LINE||e==d.CHART_TYPE_BAR)&&(i=this.option.xAxis instanceof Array?this.option.xAxis[this.option.series[s].xAxisIndex||0]:this.option.xAxis,i&&(i.type||"category")==="category"&&(i.boundaryGap=o?!0:i.__boundaryGap),i=this.option.yAxis instanceof Array?this.option.yAxis[this.option.series[s].yAxisIndex||0]:this.option.yAxis,i&&i.type==="category"&&(i.boundaryGap=o?!0:i.__boundaryGap));this._defaultMagic(d.CHART_TYPE_LINE,d.CHART_TYPE_BAR)}if(this._defaultMagic(d.CHART_TYPE_CHORD,d.CHART_TYPE_FORCE),this._defaultMagic(d.CHART_TYPE_PIE,d.CHART_TYPE_FUNNEL),this._magicType[n]||this._magicType[l])for(var s=0,u=this.option.series.length;u>s;s++)this._magicType[n]?(this.option.series[s].stack="_ECHARTS_STACK_KENER_2014_",e=n):this._magicType[l]&&(this.option.series[s].stack=null,e=l),this._featureOption[e+"Chart"]&&f.merge(this.option.series[s],this._featureOption[e+"Chart"]||{},!0);return this.option},_defaultMagic:function(i,e){if(this._magicType[i]||this._magicType[e])for(var o=0,s=this.option.series.length;s>o;o++){var u=this.option.series[o].type;(u==i||u==e)&&(this.option.series[o].type=this._magicType[i]?i:e,this.option.series[o].itemStyle=f.clone(this.option.series[o].__itemStyle),u=this.option.series[o].type,this._featureOption[u+"Chart"]&&f.merge(this.option.series[o],this._featureOption[u+"Chart"]||{},!0))}},silence:function(i){this._isSilence=i},resize:function(){this._resetMark(),this.clear(),this.option&&this.option.toolbox&&this.option.toolbox.show&&this._buildShape(),this._dataView&&this._dataView.resize()},hideDataView:function(){this._dataView&&this._dataView.hide()},clear:function(i){this.zr&&(this.zr.delShape(this.shapeList),this.shapeList=[],i||(this.zr.delShape(this._markShapeList),this._markShapeList=[]))},onbeforDispose:function(){this._dataView&&(this._dataView.dispose(),this._dataView=null),this._markShapeList=null},refresh:function(i){i&&(this._resetMark(),this._resetZoom(),i.toolbox=this.reformOption(i.toolbox),this.option=i,this.clear(!0),i.toolbox.show&&this._buildShape(),this.hideDataView())}},f.inherits(b,S),C("../component").define("toolbox",b),b}),st("echarts/component",[],function(){var C={},b={};return C.define=function(S,y){return b[S]=y,C},C.get=function(S){return b[S]},C}),st("echarts/component/title",["require","./base","zrender/shape/Text","zrender/shape/Rectangle","../config","zrender/tool/util","zrender/tool/area","zrender/tool/color","../component"],function(C){function b(a,h,n,l,i){S.call(this,a,h,n,l,i),this.refresh(l)}var S=C("./base"),y=C("zrender/shape/Text"),g=C("zrender/shape/Rectangle"),_=C("../config");_.title={zlevel:0,z:6,show:!0,text:"",subtext:"",x:"left",y:"top",backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderWidth:0,padding:5,itemGap:5,textStyle:{fontSize:18,fontWeight:"bolder",color:"#333"},subtextStyle:{color:"#aaa"}};var c=C("zrender/tool/util"),d=C("zrender/tool/area"),f=C("zrender/tool/color");return b.prototype={type:_.COMPONENT_TYPE_TITLE,_buildShape:function(){if(this.titleOption.show){this._itemGroupLocation=this._getItemGroupLocation(),this._buildBackground(),this._buildItem();for(var a=0,h=this.shapeList.length;h>a;a++)this.zr.addShape(this.shapeList[a])}},_buildItem:function(){var a=this.titleOption.text,h=this.titleOption.link,n=this.titleOption.target,l=this.titleOption.subtext,i=this.titleOption.sublink,e=this.titleOption.subtarget,o=this.getFont(this.titleOption.textStyle),s=this.getFont(this.titleOption.subtextStyle),u=this._itemGroupLocation.x,t=this._itemGroupLocation.y,r=this._itemGroupLocation.width,p=this._itemGroupLocation.height,m={zlevel:this.getZlevelBase(),z:this.getZBase(),style:{y:t,color:this.titleOption.textStyle.color,text:a,textFont:o,textBaseline:"top"},highlightStyle:{color:f.lift(this.titleOption.textStyle.color,1),brushType:"fill"},hoverable:!1};h&&(m.hoverable=!0,m.clickable=!0,m.onclick=function(){n&&n=="self"?window.location=h:window.open(h)});var x={zlevel:this.getZlevelBase(),z:this.getZBase(),style:{y:t+p,color:this.titleOption.subtextStyle.color,text:l,textFont:s,textBaseline:"bottom"},highlightStyle:{color:f.lift(this.titleOption.subtextStyle.color,1),brushType:"fill"},hoverable:!1};switch(i&&(x.hoverable=!0,x.clickable=!0,x.onclick=function(){e&&e=="self"?window.location=i:window.open(i)}),this.titleOption.x){case"center":m.style.x=x.style.x=u+r/2,m.style.textAlign=x.style.textAlign="center";break;case"left":m.style.x=x.style.x=u,m.style.textAlign=x.style.textAlign="left";break;case"right":m.style.x=x.style.x=u+r,m.style.textAlign=x.style.textAlign="right";break;default:u=this.titleOption.x-0,u=isNaN(u)?0:u,m.style.x=x.style.x=u}this.titleOption.textAlign&&(m.style.textAlign=x.style.textAlign=this.titleOption.textAlign),this.shapeList.push(new y(m)),l!==""&&this.shapeList.push(new y(x))},_buildBackground:function(){var a=this.reformCssArray(this.titleOption.padding);this.shapeList.push(new g({zlevel:this.getZlevelBase(),z:this.getZBase(),hoverable:!1,style:{x:this._itemGroupLocation.x-a[3],y:this._itemGroupLocation.y-a[0],width:this._itemGroupLocation.width+a[3]+a[1],height:this._itemGroupLocation.height+a[0]+a[2],brushType:this.titleOption.borderWidth===0?"fill":"both",color:this.titleOption.backgroundColor,strokeColor:this.titleOption.borderColor,lineWidth:this.titleOption.borderWidth}}))},_getItemGroupLocation:function(){var a,h=this.reformCssArray(this.titleOption.padding),n=this.titleOption.text,l=this.titleOption.subtext,i=this.getFont(this.titleOption.textStyle),e=this.getFont(this.titleOption.subtextStyle),o=Math.max(d.getTextWidth(n,i),d.getTextWidth(l,e)),s=d.getTextHeight(n,i)+(l===""?0:this.titleOption.itemGap+d.getTextHeight(l,e)),u=this.zr.getWidth();switch(this.titleOption.x){case"center":a=Math.floor((u-o)/2);break;case"left":a=h[3]+this.titleOption.borderWidth;break;case"right":a=u-o-h[1]-this.titleOption.borderWidth;break;default:a=this.titleOption.x-0,a=isNaN(a)?0:a}var t,r=this.zr.getHeight();switch(this.titleOption.y){case"top":t=h[0]+this.titleOption.borderWidth;break;case"bottom":t=r-s-h[2]-this.titleOption.borderWidth;break;case"center":t=Math.floor((r-s)/2);break;default:t=this.titleOption.y-0,t=isNaN(t)?0:t}return{x:a,y:t,width:o,height:s}},refresh:function(a){a&&(this.option=a,this.option.title=this.reformOption(this.option.title),this.titleOption=this.option.title,this.titleOption.textStyle=this.getTextStyle(this.titleOption.textStyle),this.titleOption.subtextStyle=this.getTextStyle(this.titleOption.subtextStyle)),this.clear(),this._buildShape()}},c.inherits(b,S),C("../component").define("title",b),b}),st("echarts/component/tooltip",["require","./base","../util/shape/Cross","zrender/shape/Line","zrender/shape/Rectangle","../config","../util/ecData","zrender/config","zrender/tool/event","zrender/tool/area","zrender/tool/color","zrender/tool/util","zrender/shape/Base","../component"],function(C){function b(o,s,u,t,r){S.call(this,o,s,u,t,r),this.dom=r.dom;var p=this;p._onmousemove=function(m){return p.__onmousemove(m)},p._onglobalout=function(m){return p.__onglobalout(m)},this.zr.on(a.EVENT.MOUSEMOVE,p._onmousemove),this.zr.on(a.EVENT.GLOBALOUT,p._onglobalout),p._hide=function(m){return p.__hide(m)},p._tryShow=function(m){return p.__tryShow(m)},p._refixed=function(m){return p.__refixed(m)},p._setContent=function(m,x){return p.__setContent(m,x)},this._tDom=this._tDom||document.createElement("div"),this._tDom.onselectstart=function(){return!1},this._tDom.onmouseover=function(){p._mousein=!0},this._tDom.onmouseout=function(){p._mousein=!1},this._tDom.className="echarts-tooltip",this._tDom.style.position="absolute",this.hasAppend=!1,this._axisLineShape&&this.zr.delShape(this._axisLineShape.id),this._axisLineShape=new g({zlevel:this.getZlevelBase(),z:this.getZBase(),invisible:!0,hoverable:!1}),this.shapeList.push(this._axisLineShape),this.zr.addShape(this._axisLineShape),this._axisShadowShape&&this.zr.delShape(this._axisShadowShape.id),this._axisShadowShape=new g({zlevel:this.getZlevelBase(),z:1,invisible:!0,hoverable:!1}),this.shapeList.push(this._axisShadowShape),this.zr.addShape(this._axisShadowShape),this._axisCrossShape&&this.zr.delShape(this._axisCrossShape.id),this._axisCrossShape=new y({zlevel:this.getZlevelBase(),z:this.getZBase(),invisible:!0,hoverable:!1}),this.shapeList.push(this._axisCrossShape),this.zr.addShape(this._axisCrossShape),this.showing=!1,this.refresh(t)}var S=C("./base"),y=C("../util/shape/Cross"),g=C("zrender/shape/Line"),_=C("zrender/shape/Rectangle"),c=new _({}),d=C("../config");d.tooltip={zlevel:1,z:8,show:!0,showContent:!0,trigger:"item",islandFormatter:"{a} <br/>{b} : {c}",showDelay:20,hideDelay:100,transitionDuration:.4,enterable:!1,backgroundColor:"rgba(0,0,0,0.7)",borderColor:"#333",borderRadius:4,borderWidth:0,padding:5,axisPointer:{type:"line",lineStyle:{color:"#48b",width:2,type:"solid"},crossStyle:{color:"#1e90ff",width:1,type:"dashed"},shadowStyle:{color:"rgba(150,150,150,0.3)",width:"auto",type:"default"}},textStyle:{color:"#fff"}};var f=C("../util/ecData"),a=C("zrender/config"),h=C("zrender/tool/event"),n=C("zrender/tool/area"),l=C("zrender/tool/color"),i=C("zrender/tool/util"),e=C("zrender/shape/Base");return b.prototype={type:d.COMPONENT_TYPE_TOOLTIP,_gCssText:"position:absolute;display:block;border-style:solid;white-space:nowrap;",_style:function(o){if(!o)return"";var s=[];if(o.transitionDuration){var u="left "+o.transitionDuration+"s,top "+o.transitionDuration+"s";s.push("transition:"+u),s.push("-moz-transition:"+u),s.push("-webkit-transition:"+u),s.push("-o-transition:"+u)}o.backgroundColor&&(s.push("background-Color:"+l.toHex(o.backgroundColor)),s.push("filter:alpha(opacity=70)"),s.push("background-Color:"+o.backgroundColor)),o.borderWidth!=null&&s.push("border-width:"+o.borderWidth+"px"),o.borderColor!=null&&s.push("border-color:"+o.borderColor),o.borderRadius!=null&&(s.push("border-radius:"+o.borderRadius+"px"),s.push("-moz-border-radius:"+o.borderRadius+"px"),s.push("-webkit-border-radius:"+o.borderRadius+"px"),s.push("-o-border-radius:"+o.borderRadius+"px"));var t=o.textStyle;t&&(t.color&&s.push("color:"+t.color),t.decoration&&s.push("text-decoration:"+t.decoration),t.align&&s.push("text-align:"+t.align),t.fontFamily&&s.push("font-family:"+t.fontFamily),t.fontSize&&s.push("font-size:"+t.fontSize+"px"),t.fontSize&&s.push("line-height:"+Math.round(3*t.fontSize/2)+"px"),t.fontStyle&&s.push("font-style:"+t.fontStyle),t.fontWeight&&s.push("font-weight:"+t.fontWeight));var r=o.padding;return r!=null&&(r=this.reformCssArray(r),s.push("padding:"+r[0]+"px "+r[1]+"px "+r[2]+"px "+r[3]+"px")),s=s.join(";")+";"},__hide:function(){this._lastDataIndex=-1,this._lastSeriesIndex=-1,this._lastItemTriggerId=-1,this._tDom&&(this._tDom.style.display="none");var o=!1;this._axisLineShape.invisible||(this._axisLineShape.invisible=!0,this.zr.modShape(this._axisLineShape.id),o=!0),this._axisShadowShape.invisible||(this._axisShadowShape.invisible=!0,this.zr.modShape(this._axisShadowShape.id),o=!0),this._axisCrossShape.invisible||(this._axisCrossShape.invisible=!0,this.zr.modShape(this._axisCrossShape.id),o=!0),this._lastTipShape&&this._lastTipShape.tipShape.length>0&&(this.zr.delShape(this._lastTipShape.tipShape),this._lastTipShape=!1,this.shapeList.length=2),o&&this.zr.refreshNextFrame(),this.showing=!1},_show:function(o,s,u,t){var r=this._tDom.offsetHeight,p=this._tDom.offsetWidth;o&&(typeof o=="function"&&(o=o([s,u])),o instanceof Array&&(s=o[0],u=o[1])),s+p>this._zrWidth&&(s-=p+40),u+r>this._zrHeight&&(u-=r-20),20>u&&(u=0),this._tDom.style.cssText=this._gCssText+this._defaultCssText+(t||"")+"left:"+s+"px;top:"+u+"px;",(10>r||10>p)&&setTimeout(this._refixed,20),this.showing=!0},__refixed:function(){if(this._tDom){var o="",s=this._tDom.offsetHeight,u=this._tDom.offsetWidth;this._tDom.offsetLeft+u>this._zrWidth&&(o+="left:"+(this._zrWidth-u-20)+"px;"),this._tDom.offsetTop+s>this._zrHeight&&(o+="top:"+(this._zrHeight-s-10)+"px;"),o!==""&&(this._tDom.style.cssText+=o)}},__tryShow:function(){var o,s;if(this._curTarget){if(this._curTarget._type==="island"&&this.option.tooltip.show)return void this._showItemTrigger();var u=f.get(this._curTarget,"series"),t=f.get(this._curTarget,"data");o=this.deepQuery([t,u,this.option],"tooltip.show"),u!=null&&t!=null&&o?(s=this.deepQuery([t,u,this.option],"tooltip.trigger"),s==="axis"?this._showAxisTrigger(u.xAxisIndex,u.yAxisIndex,f.get(this._curTarget,"dataIndex")):this._showItemTrigger()):(clearTimeout(this._hidingTicket),clearTimeout(this._showingTicket),this._hidingTicket=setTimeout(this._hide,this._hideDelay))}else this._findPolarTrigger()||this._findAxisTrigger()},_findAxisTrigger:function(){if(!this.component.xAxis||!this.component.yAxis)return void(this._hidingTicket=setTimeout(this._hide,this._hideDelay));for(var o,s,u=this.option.series,t=0,r=u.length;r>t;t++)if(this.deepQuery([u[t],this.option],"tooltip.trigger")==="axis")return o=u[t].xAxisIndex||0,s=u[t].yAxisIndex||0,this.component.xAxis.getAxis(o)&&this.component.xAxis.getAxis(o).type===d.COMPONENT_TYPE_AXIS_CATEGORY?void this._showAxisTrigger(o,s,this._getNearestDataIndex("x",this.component.xAxis.getAxis(o))):this.component.yAxis.getAxis(s)&&this.component.yAxis.getAxis(s).type===d.COMPONENT_TYPE_AXIS_CATEGORY?void this._showAxisTrigger(o,s,this._getNearestDataIndex("y",this.component.yAxis.getAxis(s))):void this._showAxisTrigger(o,s,-1);this.option.tooltip.axisPointer.type==="cross"&&this._showAxisTrigger(-1,-1,-1)},_findPolarTrigger:function(){if(!this.component.polar)return!1;var o,s=h.getX(this._event),u=h.getY(this._event),t=this.component.polar.getNearestIndex([s,u]);return t?(o=t.valueIndex,t=t.polarIndex):t=-1,t!=-1?this._showPolarTrigger(t,o):!1},_getNearestDataIndex:function(o,s){var u=-1,t=h.getX(this._event),r=h.getY(this._event);if(o==="x"){for(var p,m,x=this.component.grid.getXend(),T=s.getCoordByIndex(u);x>T&&(m=T,t>=T);)p=T,T=s.getCoordByIndex(++u);return 0>=u?u=0:(m-t>=t-p||s.getNameByIndex(u)==null)&&(u-=1),u}for(var w,L,M=this.component.grid.getY(),T=s.getCoordByIndex(u);T>M&&(w=T,T>=r);)L=T,T=s.getCoordByIndex(++u);return 0>=u?u=0:(r-w>=L-r||s.getNameByIndex(u)==null)&&(u-=1),u},_showAxisTrigger:function(o,s,u){if(!this._event.connectTrigger&&this.messageCenter.dispatch(d.EVENT.TOOLTIP_IN_GRID,this._event,null,this.myChart),this.component.xAxis==null||this.component.yAxis==null||o==null||s==null)return clearTimeout(this._hidingTicket),clearTimeout(this._showingTicket),void(this._hidingTicket=setTimeout(this._hide,this._hideDelay));var t,r,p,m,x=this.option.series,T=[],w=[],L="";if(this.option.tooltip.trigger==="axis"){if(!this.option.tooltip.show)return;r=this.option.tooltip.formatter,p=this.option.tooltip.position}var M,P,R=o!=-1&&this.component.xAxis.getAxis(o).type===d.COMPONENT_TYPE_AXIS_CATEGORY?"xAxis":s!=-1&&this.component.yAxis.getAxis(s).type===d.COMPONENT_TYPE_AXIS_CATEGORY?"yAxis":!1;if(R){var W=R=="xAxis"?o:s;t=this.component[R].getAxis(W);for(var F=0,v=x.length;v>F;F++)this._isSelected(x[F].name)&&x[F][R+"Index"]===W&&this.deepQuery([x[F],this.option],"tooltip.trigger")==="axis"&&(m=this.query(x[F],"tooltip.showContent")||m,r=this.query(x[F],"tooltip.formatter")||r,p=this.query(x[F],"tooltip.position")||p,L+=this._style(this.query(x[F],"tooltip")),x[F].stack!=null&&R=="xAxis"?(T.unshift(x[F]),w.unshift(F)):(T.push(x[F]),w.push(F)));this.messageCenter.dispatch(d.EVENT.TOOLTIP_HOVER,this._event,{seriesIndex:w,dataIndex:u},this.myChart);var E;R=="xAxis"?(M=this.subPixelOptimize(t.getCoordByIndex(u),this._axisLineWidth),P=h.getY(this._event),E=[M,this.component.grid.getY(),M,this.component.grid.getYend()]):(M=h.getX(this._event),P=this.subPixelOptimize(t.getCoordByIndex(u),this._axisLineWidth),E=[this.component.grid.getX(),P,this.component.grid.getXend(),P]),this._styleAxisPointer(T,E[0],E[1],E[2],E[3],t.getGap(),M,P)}else M=h.getX(this._event),P=h.getY(this._event),this._styleAxisPointer(x,this.component.grid.getX(),P,this.component.grid.getXend(),P,0,M,P),u>=0?this._showItemTrigger(!0):(clearTimeout(this._hidingTicket),clearTimeout(this._showingTicket),this._tDom.style.display="none");if(T.length>0){if(this._lastItemTriggerId=-1,this._lastDataIndex!=u||this._lastSeriesIndex!=w[0]){this._lastDataIndex=u,this._lastSeriesIndex=w[0];var z,k;if(typeof r=="function"){for(var A=[],F=0,v=T.length;v>F;F++)z=T[F].data[u],k=this.getDataFromOption(z,"-"),A.push({seriesIndex:w[F],seriesName:T[F].name||"",series:T[F],dataIndex:u,data:z,name:t.getNameByIndex(u),value:k,0:T[F].name||"",1:t.getNameByIndex(u),2:k,3:z});this._curTicket="axis:"+u,this._tDom.innerHTML=r.call(this.myChart,A,this._curTicket,this._setContent)}else if(typeof r=="string"){this._curTicket=NaN,r=r.replace("{a}","{a0}").replace("{b}","{b0}").replace("{c}","{c0}");for(var F=0,v=T.length;v>F;F++)r=r.replace("{a"+F+"}",this._encodeHTML(T[F].name||"")),r=r.replace("{b"+F+"}",this._encodeHTML(t.getNameByIndex(u))),z=T[F].data[u],z=this.getDataFromOption(z,"-"),r=r.replace("{c"+F+"}",z instanceof Array?z:this.numAddCommas(z));this._tDom.innerHTML=r}else{this._curTicket=NaN,r=this._encodeHTML(t.getNameByIndex(u));for(var F=0,v=T.length;v>F;F++)r+="<br/>"+this._encodeHTML(T[F].name||"")+" : ",z=T[F].data[u],z=this.getDataFromOption(z,"-"),r+=z instanceof Array?z:this.numAddCommas(z);this._tDom.innerHTML=r}}if(m===!1||!this.option.tooltip.showContent)return;this.hasAppend||(this._tDom.style.left=this._zrWidth/2+"px",this._tDom.style.top=this._zrHeight/2+"px",this.dom.firstChild.appendChild(this._tDom),this.hasAppend=!0),this._show(p,M+10,P+10,L)}},_showPolarTrigger:function(o,s){if(this.component.polar==null||o==null||s==null||0>s)return!1;var u,t,r,p=this.option.series,m=[],x=[],T="";if(this.option.tooltip.trigger==="axis"){if(!this.option.tooltip.show)return!1;u=this.option.tooltip.formatter,t=this.option.tooltip.position}for(var w=this.option.polar[o].indicator[s].text,L=0,M=p.length;M>L;L++)this._isSelected(p[L].name)&&p[L].polarIndex===o&&this.deepQuery([p[L],this.option],"tooltip.trigger")==="axis"&&(r=this.query(p[L],"tooltip.showContent")||r,u=this.query(p[L],"tooltip.formatter")||u,t=this.query(p[L],"tooltip.position")||t,T+=this._style(this.query(p[L],"tooltip")),m.push(p[L]),x.push(L));if(m.length>0){for(var P,R,W,F=[],L=0,M=m.length;M>L;L++){P=m[L].data;for(var v=0,E=P.length;E>v;v++)R=P[v],this._isSelected(R.name)&&(R=R??{name:"",value:{dataIndex:"-"}},W=this.getDataFromOption(R.value[s]),F.push({seriesIndex:x[L],seriesName:m[L].name||"",series:m[L],dataIndex:s,data:R,name:R.name,indicator:w,value:W,0:m[L].name||"",1:R.name,2:W,3:w}))}if(F.length<=0)return;if(this._lastItemTriggerId=-1,this._lastDataIndex!=s||this._lastSeriesIndex!=x[0])if(this._lastDataIndex=s,this._lastSeriesIndex=x[0],typeof u=="function")this._curTicket="axis:"+s,this._tDom.innerHTML=u.call(this.myChart,F,this._curTicket,this._setContent);else if(typeof u=="string"){u=u.replace("{a}","{a0}").replace("{b}","{b0}").replace("{c}","{c0}").replace("{d}","{d0}");for(var L=0,M=F.length;M>L;L++)u=u.replace("{a"+L+"}",this._encodeHTML(F[L].seriesName)),u=u.replace("{b"+L+"}",this._encodeHTML(F[L].name)),u=u.replace("{c"+L+"}",this.numAddCommas(F[L].value)),u=u.replace("{d"+L+"}",this._encodeHTML(F[L].indicator));this._tDom.innerHTML=u}else{u=this._encodeHTML(F[0].name)+"<br/>"+this._encodeHTML(F[0].indicator)+" : "+this.numAddCommas(F[0].value);for(var L=1,M=F.length;M>L;L++)u+="<br/>"+this._encodeHTML(F[L].name)+"<br/>",u+=this._encodeHTML(F[L].indicator)+" : "+this.numAddCommas(F[L].value);this._tDom.innerHTML=u}return r===!1||!this.option.tooltip.showContent?void 0:(this.hasAppend||(this._tDom.style.left=this._zrWidth/2+"px",this._tDom.style.top=this._zrHeight/2+"px",this.dom.firstChild.appendChild(this._tDom),this.hasAppend=!0),this._show(t,h.getX(this._event),h.getY(this._event),T),!0)}},_showItemTrigger:function(o){if(this._curTarget){var s,u,t,r=f.get(this._curTarget,"series"),p=f.get(this._curTarget,"seriesIndex"),m=f.get(this._curTarget,"data"),x=f.get(this._curTarget,"dataIndex"),T=f.get(this._curTarget,"name"),w=f.get(this._curTarget,"value"),L=f.get(this._curTarget,"special"),M=f.get(this._curTarget,"special2"),P=[m,r,this.option],R="";if(this._curTarget._type!="island"){var W=o?"axis":"item";this.option.tooltip.trigger===W&&(s=this.option.tooltip.formatter,u=this.option.tooltip.position),this.query(r,"tooltip.trigger")===W&&(t=this.query(r,"tooltip.showContent")||t,s=this.query(r,"tooltip.formatter")||s,u=this.query(r,"tooltip.position")||u,R+=this._style(this.query(r,"tooltip"))),t=this.query(m,"tooltip.showContent")||t,s=this.query(m,"tooltip.formatter")||s,u=this.query(m,"tooltip.position")||u,R+=this._style(this.query(m,"tooltip"))}else this._lastItemTriggerId=NaN,t=this.deepQuery(P,"tooltip.showContent"),s=this.deepQuery(P,"tooltip.islandFormatter"),u=this.deepQuery(P,"tooltip.islandPosition");this._lastDataIndex=-1,this._lastSeriesIndex=-1,this._lastItemTriggerId!==this._curTarget.id&&(this._lastItemTriggerId=this._curTarget.id,typeof s=="function"?(this._curTicket=(r.name||"")+":"+x,this._tDom.innerHTML=s.call(this.myChart,{seriesIndex:p,seriesName:r.name||"",series:r,dataIndex:x,data:m,name:T,value:w,percent:L,indicator:L,value2:M,indicator2:M,0:r.name||"",1:T,2:w,3:L,4:M,5:m,6:p,7:x},this._curTicket,this._setContent)):typeof s=="string"?(this._curTicket=NaN,s=s.replace("{a}","{a0}").replace("{b}","{b0}").replace("{c}","{c0}"),s=s.replace("{a0}",this._encodeHTML(r.name||"")).replace("{b0}",this._encodeHTML(T)).replace("{c0}",w instanceof Array?w:this.numAddCommas(w)),s=s.replace("{d}","{d0}").replace("{d0}",L||""),s=s.replace("{e}","{e0}").replace("{e0}",f.get(this._curTarget,"special2")||""),this._tDom.innerHTML=s):(this._curTicket=NaN,this._tDom.innerHTML=r.type===d.CHART_TYPE_RADAR&&L?this._itemFormatter.radar.call(this,r,T,w,L):r.type===d.CHART_TYPE_EVENTRIVER?this._itemFormatter.eventRiver.call(this,r,T,w,m):(r.name!=null?this._encodeHTML(r.name)+"<br/>":"")+(T===""?"":this._encodeHTML(T)+" : ")+(w instanceof Array?w:this.numAddCommas(w))));var F=h.getX(this._event),v=h.getY(this._event);this.deepQuery(P,"tooltip.axisPointer.show")&&this.component.grid?this._styleAxisPointer([r],this.component.grid.getX(),v,this.component.grid.getXend(),v,0,F,v):this._hide(),t!==!1&&this.option.tooltip.showContent&&(this.hasAppend||(this._tDom.style.left=this._zrWidth/2+"px",this._tDom.style.top=this._zrHeight/2+"px",this.dom.firstChild.appendChild(this._tDom),this.hasAppend=!0),this._show(u,F+20,v-20,R))}},_itemFormatter:{radar:function(o,s,u,t){var r="";r+=this._encodeHTML(s===""?o.name||"":s),r+=r===""?"":"<br />";for(var p=0;p<t.length;p++)r+=this._encodeHTML(t[p].text)+" : "+this.numAddCommas(u[p])+"<br />";return r},chord:function(o,s,u,t,r){if(r==null)return this._encodeHTML(s)+" ("+this.numAddCommas(u)+")";var p=this._encodeHTML(s),m=this._encodeHTML(t);return(o.name!=null?this._encodeHTML(o.name)+"<br/>":"")+p+" -> "+m+" ("+this.numAddCommas(u)+")<br />"+m+" -> "+p+" ("+this.numAddCommas(r)+")"},eventRiver:function(o,s,u,t){var r="";r+=this._encodeHTML(o.name===""?"":o.name+" : "),r+=this._encodeHTML(s),r+=r===""?"":"<br />",t=t.evolution;for(var p=0,m=t.length;m>p;p++)r+='<div style="padding-top:5px;">',t[p].detail&&(t[p].detail.img&&(r+='<img src="'+t[p].detail.img+'" style="float:left;width:40px;height:40px;">'),r+='<div style="margin-left:45px;">'+t[p].time+"<br/>",r+='<a href="'+t[p].detail.link+'" target="_blank">',r+=t[p].detail.text+"</a></div>",r+="</div>");return r}},_styleAxisPointer:function(o,s,u,t,r,p,m,x){if(o.length>0){var T,w,L=this.option.tooltip.axisPointer,M=L.type,P={line:{},cross:{},shadow:{}};for(var R in P)P[R].color=L[R+"Style"].color,P[R].width=L[R+"Style"].width,P[R].type=L[R+"Style"].type;for(var W=0,F=o.length;F>W;W++)T=o[W],w=this.query(T,"tooltip.axisPointer.type"),M=w||M,w&&(P[w].color=this.query(T,"tooltip.axisPointer."+w+"Style.color")||P[w].color,P[w].width=this.query(T,"tooltip.axisPointer."+w+"Style.width")||P[w].width,P[w].type=this.query(T,"tooltip.axisPointer."+w+"Style.type")||P[w].type);if(M==="line"){var v=P.line.width,E=s==t;this._axisLineShape.style={xStart:E?this.subPixelOptimize(s,v):s,yStart:E?u:this.subPixelOptimize(u,v),xEnd:E?this.subPixelOptimize(t,v):t,yEnd:E?r:this.subPixelOptimize(r,v),strokeColor:P.line.color,lineWidth:v,lineType:P.line.type},this._axisLineShape.invisible=!1,this.zr.modShape(this._axisLineShape.id)}else if(M==="cross"){var z=P.cross.width;this._axisCrossShape.style={brushType:"stroke",rect:this.component.grid.getArea(),x:this.subPixelOptimize(m,z),y:this.subPixelOptimize(x,z),text:("( "+this.component.xAxis.getAxis(0).getValueFromCoord(m)+" , "+this.component.yAxis.getAxis(0).getValueFromCoord(x)+" )").replace("  , "," ").replace(" ,  "," "),textPosition:"specific",strokeColor:P.cross.color,lineWidth:z,lineType:P.cross.type},this.component.grid.getXend()-m>100?(this._axisCrossShape.style.textAlign="left",this._axisCrossShape.style.textX=m+10):(this._axisCrossShape.style.textAlign="right",this._axisCrossShape.style.textX=m-10),x-this.component.grid.getY()>50?(this._axisCrossShape.style.textBaseline="bottom",this._axisCrossShape.style.textY=x-10):(this._axisCrossShape.style.textBaseline="top",this._axisCrossShape.style.textY=x+10),this._axisCrossShape.invisible=!1,this.zr.modShape(this._axisCrossShape.id)}else M==="shadow"&&((P.shadow.width==null||P.shadow.width==="auto"||isNaN(P.shadow.width))&&(P.shadow.width=p),s===t?Math.abs(this.component.grid.getX()-s)<2?(P.shadow.width/=2,s=t+=P.shadow.width/2):Math.abs(this.component.grid.getXend()-s)<2&&(P.shadow.width/=2,s=t-=P.shadow.width/2):u===r&&(Math.abs(this.component.grid.getY()-u)<2?(P.shadow.width/=2,u=r+=P.shadow.width/2):Math.abs(this.component.grid.getYend()-u)<2&&(P.shadow.width/=2,u=r-=P.shadow.width/2)),this._axisShadowShape.style={xStart:s,yStart:u,xEnd:t,yEnd:r,strokeColor:P.shadow.color,lineWidth:P.shadow.width},this._axisShadowShape.invisible=!1,this.zr.modShape(this._axisShadowShape.id));this.zr.refreshNextFrame()}},__onmousemove:function(o){if(clearTimeout(this._hidingTicket),clearTimeout(this._showingTicket),!this._mousein||!this._enterable){var s=o.target,u=h.getX(o.event),t=h.getY(o.event);if(s){this._curTarget=s,this._event=o.event,this._event.zrenderX=u,this._event.zrenderY=t;var r;if(this._needAxisTrigger&&this.component.polar&&(r=this.component.polar.isInside([u,t]))!=-1){for(var p=this.option.series,m=0,x=p.length;x>m;m++)if(p[m].polarIndex===r&&this.deepQuery([p[m],this.option],"tooltip.trigger")==="axis"){this._curTarget=null;break}}this._showingTicket=setTimeout(this._tryShow,this._showDelay)}else this._curTarget=!1,this._event=o.event,this._event.zrenderX=u,this._event.zrenderY=t,this._needAxisTrigger&&this.component.grid&&n.isInside(c,this.component.grid.getArea(),u,t)?this._showingTicket=setTimeout(this._tryShow,this._showDelay):this._needAxisTrigger&&this.component.polar&&this.component.polar.isInside([u,t])!=-1?this._showingTicket=setTimeout(this._tryShow,this._showDelay):(!this._event.connectTrigger&&this.messageCenter.dispatch(d.EVENT.TOOLTIP_OUT_GRID,this._event,null,this.myChart),this._hidingTicket=setTimeout(this._hide,this._hideDelay))}},__onglobalout:function(){clearTimeout(this._hidingTicket),clearTimeout(this._showingTicket),this._hidingTicket=setTimeout(this._hide,this._hideDelay)},__setContent:function(o,s){this._tDom&&(o===this._curTicket&&(this._tDom.innerHTML=s),setTimeout(this._refixed,20))},ontooltipHover:function(o,s){if(!this._lastTipShape||this._lastTipShape&&this._lastTipShape.dataIndex!=o.dataIndex){this._lastTipShape&&this._lastTipShape.tipShape.length>0&&(this.zr.delShape(this._lastTipShape.tipShape),this.shapeList.length=2);for(var u=0,t=s.length;t>u;u++)s[u].zlevel=this.getZlevelBase(),s[u].z=this.getZBase(),s[u].style=e.prototype.getHighlightStyle(s[u].style,s[u].highlightStyle),s[u].draggable=!1,s[u].hoverable=!1,s[u].clickable=!1,s[u].ondragend=null,s[u].ondragover=null,s[u].ondrop=null,this.shapeList.push(s[u]),this.zr.addShape(s[u]);this._lastTipShape={dataIndex:o.dataIndex,tipShape:s}}},ondragend:function(){this._hide()},onlegendSelected:function(o){this._selectedMap=o.selected},_setSelectedMap:function(){this._selectedMap=this.component.legend?i.clone(this.component.legend.getSelectedMap()):{}},_isSelected:function(o){return this._selectedMap[o]!=null?this._selectedMap[o]:!0},showTip:function(o){if(o){var s,u=this.option.series;if(o.seriesIndex!=null)s=o.seriesIndex;else for(var t=o.seriesName,r=0,p=u.length;p>r;r++)if(u[r].name===t){s=r;break}var m=u[s];if(m!=null){var x=this.myChart.chart[m.type],T=this.deepQuery([m,this.option],"tooltip.trigger")==="axis";if(x)if(T){var w=o.dataIndex;switch(x.type){case d.CHART_TYPE_LINE:case d.CHART_TYPE_BAR:case d.CHART_TYPE_K:case d.CHART_TYPE_RADAR:if(this.component.polar==null||m.data[0].value.length<=w)return;var L=m.polarIndex||0,M=this.component.polar.getVector(L,w,"max");this._event={zrenderX:M[0],zrenderY:M[1]},this._showPolarTrigger(L,w)}}else{var P,R,W=x.shapeList;switch(x.type){case d.CHART_TYPE_LINE:case d.CHART_TYPE_BAR:case d.CHART_TYPE_K:case d.CHART_TYPE_TREEMAP:case d.CHART_TYPE_SCATTER:for(var w=o.dataIndex,r=0,p=W.length;p>r;r++)if(W[r]._mark==null&&f.get(W[r],"seriesIndex")==s&&f.get(W[r],"dataIndex")==w){this._curTarget=W[r],P=W[r].style.x,R=x.type!=d.CHART_TYPE_K?W[r].style.y:W[r].style.y[0];break}break;case d.CHART_TYPE_RADAR:for(var w=o.dataIndex,r=0,p=W.length;p>r;r++)if(W[r].type==="polygon"&&f.get(W[r],"seriesIndex")==s&&f.get(W[r],"dataIndex")==w){this._curTarget=W[r];var M=this.component.polar.getCenter(m.polarIndex||0);P=M[0],R=M[1];break}break;case d.CHART_TYPE_PIE:for(var F=o.name,r=0,p=W.length;p>r;r++)if(W[r].type==="sector"&&f.get(W[r],"seriesIndex")==s&&f.get(W[r],"name")==F){this._curTarget=W[r];var v=this._curTarget.style,E=(v.startAngle+v.endAngle)/2*Math.PI/180;P=this._curTarget.style.x+Math.cos(E)*v.r/1.5,R=this._curTarget.style.y-Math.sin(E)*v.r/1.5;break}break;case d.CHART_TYPE_MAP:for(var F=o.name,z=m.mapType,r=0,p=W.length;p>r;r++)if(W[r].type==="text"&&W[r]._mapType===z&&W[r].style._name===F){this._curTarget=W[r],P=this._curTarget.style.x+this._curTarget.position[0],R=this._curTarget.style.y+this._curTarget.position[1];break}break;case d.CHART_TYPE_CHORD:for(var F=o.name,r=0,p=W.length;p>r;r++)if(W[r].type==="sector"&&f.get(W[r],"name")==F){this._curTarget=W[r];var v=this._curTarget.style,E=(v.startAngle+v.endAngle)/2*Math.PI/180;return P=this._curTarget.style.x+Math.cos(E)*(v.r-2),R=this._curTarget.style.y-Math.sin(E)*(v.r-2),void this.zr.trigger(a.EVENT.MOUSEMOVE,{zrenderX:P,zrenderY:R})}break;case d.CHART_TYPE_FORCE:for(var F=o.name,r=0,p=W.length;p>r;r++)if(W[r].type==="circle"&&f.get(W[r],"name")==F){this._curTarget=W[r],P=this._curTarget.position[0],R=this._curTarget.position[1];break}}P!=null&&R!=null&&(this._event={zrenderX:P,zrenderY:R},this.zr.addHoverShape(this._curTarget),this.zr.refreshHover(),this._showItemTrigger())}}}},hideTip:function(){this._hide()},refresh:function(o){if(this._zrHeight=this.zr.getHeight(),this._zrWidth=this.zr.getWidth(),this._lastTipShape&&this._lastTipShape.tipShape.length>0&&this.zr.delShape(this._lastTipShape.tipShape),this._lastTipShape=!1,this.shapeList.length=2,this._lastDataIndex=-1,this._lastSeriesIndex=-1,this._lastItemTriggerId=-1,o){this.option=o,this.option.tooltip=this.reformOption(this.option.tooltip),this.option.tooltip.textStyle=i.merge(this.option.tooltip.textStyle,this.ecTheme.textStyle),this._needAxisTrigger=!1,this.option.tooltip.trigger==="axis"&&(this._needAxisTrigger=!0);for(var s=this.option.series,u=0,t=s.length;t>u;u++)if(this.query(s[u],"tooltip.trigger")==="axis"){this._needAxisTrigger=!0;break}this._showDelay=this.option.tooltip.showDelay,this._hideDelay=this.option.tooltip.hideDelay,this._defaultCssText=this._style(this.option.tooltip),this._setSelectedMap(),this._axisLineWidth=this.option.tooltip.axisPointer.lineStyle.width,this._enterable=this.option.tooltip.enterable,!this._enterable&&this._tDom.className.indexOf(a.elementClassName)<0&&(this._tDom.className+=" "+a.elementClassName)}if(this.showing){var r=this;setTimeout(function(){r.zr.trigger(a.EVENT.MOUSEMOVE,r.zr.handler._event)},50)}},onbeforDispose:function(){this._lastTipShape&&this._lastTipShape.tipShape.length>0&&this.zr.delShape(this._lastTipShape.tipShape),clearTimeout(this._hidingTicket),clearTimeout(this._showingTicket),this.zr.un(a.EVENT.MOUSEMOVE,this._onmousemove),this.zr.un(a.EVENT.GLOBALOUT,this._onglobalout),this.hasAppend&&this.dom.firstChild&&this.dom.firstChild.removeChild(this._tDom),this._tDom=null},_encodeHTML:function(o){return String(o).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;")}},i.inherits(b,S),C("../component").define("tooltip",b),b}),st("echarts/component/legend",["require","./base","zrender/shape/Text","zrender/shape/Rectangle","zrender/shape/Sector","../util/shape/Icon","../util/shape/Candle","../config","zrender/tool/util","zrender/tool/area","../component"],function(C){function b(i,e,o,s,u){if(!this.query(s,"legend.data"))return void console.error("option.legend.data has not been defined.");S.call(this,i,e,o,s,u);var t=this;t._legendSelected=function(r){t.__legendSelected(r)},t._dispatchHoverLink=function(r){return t.__dispatchHoverLink(r)},this._colorIndex=0,this._colorMap={},this._selectedMap={},this._hasDataMap={},this.refresh(s)}var S=C("./base"),y=C("zrender/shape/Text"),g=C("zrender/shape/Rectangle"),_=C("zrender/shape/Sector"),c=C("../util/shape/Icon"),d=C("../util/shape/Candle"),f=C("../config");f.legend={zlevel:0,z:4,show:!0,orient:"horizontal",x:"center",y:"top",backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderWidth:0,padding:5,itemGap:10,itemWidth:20,itemHeight:14,textStyle:{color:"#333"},selectedMode:!0};var a=C("zrender/tool/util"),h=C("zrender/tool/area");b.prototype={type:f.COMPONENT_TYPE_LEGEND,_buildShape:function(){if(this.legendOption.show){this._itemGroupLocation=this._getItemGroupLocation(),this._buildBackground(),this._buildItem();for(var i=0,e=this.shapeList.length;e>i;i++)this.zr.addShape(this.shapeList[i])}},_buildItem:function(){var i,e,o,s,u,t,r,p,m=this.legendOption.data,x=m.length,T=this.legendOption.textStyle,w=this.zr.getWidth(),L=this.zr.getHeight(),M=this._itemGroupLocation.x,P=this._itemGroupLocation.y,R=this.legendOption.itemWidth,W=this.legendOption.itemHeight,F=this.legendOption.itemGap;this.legendOption.orient==="vertical"&&this.legendOption.x==="right"&&(M=this._itemGroupLocation.x+this._itemGroupLocation.width-R);for(var v=0;x>v;v++)u=a.merge(m[v].textStyle||{},T),t=this.getFont(u),i=this._getName(m[v]),r=this._getFormatterName(i),i!==""?(e=m[v].icon||this._getSomethingByName(i).type,p=this.getColor(i),this.legendOption.orient==="horizontal"?200>w-M&&R+5+h.getTextWidth(r,t)+(v===x-1||m[v+1]===""?0:F)>=w-M&&(M=this._itemGroupLocation.x,P+=W+F):200>L-P&&W+(v===x-1||m[v+1]===""?0:F)>=L-P&&(this.legendOption.x==="right"?M-=this._itemGroupLocation.maxWidth+F:M+=this._itemGroupLocation.maxWidth+F,P=this._itemGroupLocation.y),o=this._getItemShapeByType(M,P,R,W,this._selectedMap[i]&&this._hasDataMap[i]?p:"#ccc",e,p),o._name=i,o=new c(o),s={zlevel:this.getZlevelBase(),z:this.getZBase(),style:{x:M+R+5,y:P+W/2,color:this._selectedMap[i]?u.color==="auto"?p:u.color:"#ccc",text:r,textFont:t,textBaseline:"middle"},highlightStyle:{color:p,brushType:"fill"},hoverable:!!this.legendOption.selectedMode,clickable:!!this.legendOption.selectedMode},this.legendOption.orient==="vertical"&&this.legendOption.x==="right"&&(s.style.x-=R+10,s.style.textAlign="right"),s._name=i,s=new y(s),this.legendOption.selectedMode&&(o.onclick=s.onclick=this._legendSelected,o.onmouseover=s.onmouseover=this._dispatchHoverLink,o.hoverConnect=s.id,s.hoverConnect=o.id),this.shapeList.push(o),this.shapeList.push(s),this.legendOption.orient==="horizontal"?M+=R+5+h.getTextWidth(r,t)+F:P+=W+F):this.legendOption.orient==="horizontal"?(M=this._itemGroupLocation.x,P+=W+F):(this.legendOption.x==="right"?M-=this._itemGroupLocation.maxWidth+F:M+=this._itemGroupLocation.maxWidth+F,P=this._itemGroupLocation.y);this.legendOption.orient==="horizontal"&&this.legendOption.x==="center"&&P!=this._itemGroupLocation.y&&this._mLineOptimize()},_getName:function(i){return typeof i.name<"u"?i.name:i},_getFormatterName:function(i){var e=this.legendOption.formatter;return typeof e=="function"?e.call(this.myChart,i):typeof e=="string"?e.replace("{name}",i):i},_getFormatterNameFromData:function(i){var e=this._getName(i);return this._getFormatterName(e)},_mLineOptimize:function(){for(var i=[],e=this._itemGroupLocation.x,o=2,s=this.shapeList.length;s>o;o++)this.shapeList[o].style.x===e?i.push((this._itemGroupLocation.width-(this.shapeList[o-1].style.x+h.getTextWidth(this.shapeList[o-1].style.text,this.shapeList[o-1].style.textFont)-e))/2):o===s-1&&i.push((this._itemGroupLocation.width-(this.shapeList[o].style.x+h.getTextWidth(this.shapeList[o].style.text,this.shapeList[o].style.textFont)-e))/2);for(var u=-1,o=1,s=this.shapeList.length;s>o;o++)this.shapeList[o].style.x===e&&u++,i[u]!==0&&(this.shapeList[o].style.x+=i[u])},_buildBackground:function(){var i=this.reformCssArray(this.legendOption.padding);this.shapeList.push(new g({zlevel:this.getZlevelBase(),z:this.getZBase(),hoverable:!1,style:{x:this._itemGroupLocation.x-i[3],y:this._itemGroupLocation.y-i[0],width:this._itemGroupLocation.width+i[3]+i[1],height:this._itemGroupLocation.height+i[0]+i[2],brushType:this.legendOption.borderWidth===0?"fill":"both",color:this.legendOption.backgroundColor,strokeColor:this.legendOption.borderColor,lineWidth:this.legendOption.borderWidth}}))},_getItemGroupLocation:function(){var i=this.legendOption.data,e=i.length,o=this.legendOption.itemGap,s=this.legendOption.itemWidth+5,u=this.legendOption.itemHeight,t=this.legendOption.textStyle,r=this.getFont(t),p=0,m=0,x=this.reformCssArray(this.legendOption.padding),T=this.zr.getWidth()-x[1]-x[3],w=this.zr.getHeight()-x[0]-x[2],L=0,M=0;if(this.legendOption.orient==="horizontal"){m=u;for(var P=0;e>P;P++)if(this._getName(i[P])!==""){var R=h.getTextWidth(this._getFormatterNameFromData(i[P]),i[P].textStyle?this.getFont(a.merge(i[P].textStyle||{},t)):r);L+s+R+o>T?(L-=o,p=Math.max(p,L),m+=u+o,L=0):(L+=s+R+o,p=Math.max(p,L-o))}else L-=o,p=Math.max(p,L),m+=u+o,L=0}else{for(var P=0;e>P;P++)M=Math.max(M,h.getTextWidth(this._getFormatterNameFromData(i[P]),i[P].textStyle?this.getFont(a.merge(i[P].textStyle||{},t)):r));M+=s,p=M;for(var P=0;e>P;P++)this._getName(i[P])!==""?L+u+o>w?(p+=M+o,L-=o,m=Math.max(m,L),L=0):(L+=u+o,m=Math.max(m,L-o)):(p+=M+o,L-=o,m=Math.max(m,L),L=0)}T=this.zr.getWidth(),w=this.zr.getHeight();var W;switch(this.legendOption.x){case"center":W=Math.floor((T-p)/2);break;case"left":W=x[3]+this.legendOption.borderWidth;break;case"right":W=T-p-x[1]-x[3]-2*this.legendOption.borderWidth;break;default:W=this.parsePercent(this.legendOption.x,T)}var F;switch(this.legendOption.y){case"top":F=x[0]+this.legendOption.borderWidth;break;case"bottom":F=w-m-x[0]-x[2]-2*this.legendOption.borderWidth;break;case"center":F=Math.floor((w-m)/2);break;default:F=this.parsePercent(this.legendOption.y,w)}return{x:W,y:F,width:p,height:m,maxWidth:M}},_getSomethingByName:function(i){for(var e,o=this.option.series,s=0,u=o.length;u>s;s++){if(o[s].name===i)return{type:o[s].type,series:o[s],seriesIndex:s,data:null,dataIndex:-1};if(o[s].type===f.CHART_TYPE_PIE||o[s].type===f.CHART_TYPE_RADAR||o[s].type===f.CHART_TYPE_CHORD||o[s].type===f.CHART_TYPE_FORCE||o[s].type===f.CHART_TYPE_FUNNEL||o[s].type===f.CHART_TYPE_TREEMAP){e=o[s].categories||o[s].data||o[s].nodes;for(var t=0,r=e.length;r>t;t++)if(e[t].name===i)return{type:o[s].type,series:o[s],seriesIndex:s,data:e[t],dataIndex:t}}}return{type:"bar",series:null,seriesIndex:-1,data:null,dataIndex:-1}},_getItemShapeByType:function(i,e,o,s,u,t,r){var p,m=u==="#ccc"?r:u,x={zlevel:this.getZlevelBase(),z:this.getZBase(),style:{iconType:"legendicon"+t,x:i,y:e,width:o,height:s,color:u,strokeColor:u,lineWidth:2},highlightStyle:{color:m,strokeColor:m,lineWidth:1},hoverable:this.legendOption.selectedMode,clickable:this.legendOption.selectedMode};if(t.match("image")){var p=t.replace(new RegExp("^image:\\/\\/"),"");t="image"}switch(t){case"line":x.style.brushType="stroke",x.highlightStyle.lineWidth=3;break;case"radar":case"venn":case"tree":case"treemap":case"scatter":x.highlightStyle.lineWidth=3;break;case"k":x.style.brushType="both",x.highlightStyle.lineWidth=3,x.highlightStyle.color=x.style.color=this.deepQuery([this.ecTheme,f],"k.itemStyle.normal.color")||"#fff",x.style.strokeColor=u!="#ccc"?this.deepQuery([this.ecTheme,f],"k.itemStyle.normal.lineStyle.color")||"#ff3200":u;break;case"image":x.style.iconType="image",x.style.image=p,u==="#ccc"&&(x.style.opacity=.5)}return x},__legendSelected:function(i){var e=i.target._name;if(this.legendOption.selectedMode==="single")for(var o in this._selectedMap)this._selectedMap[o]=!1;this._selectedMap[e]=!this._selectedMap[e],this.messageCenter.dispatch(f.EVENT.LEGEND_SELECTED,i.event,{selected:this._selectedMap,target:e},this.myChart)},__dispatchHoverLink:function(i){this.messageCenter.dispatch(f.EVENT.LEGEND_HOVERLINK,i.event,{target:i.target._name},this.myChart)},refresh:function(i){if(i){this.option=i||this.option,this.option.legend=this.reformOption(this.option.legend),this.legendOption=this.option.legend;var e,o,s,u,t=this.legendOption.data||[];if(this.legendOption.selected)for(var r in this.legendOption.selected)this._selectedMap[r]=typeof this._selectedMap[r]<"u"?this._selectedMap[r]:this.legendOption.selected[r];for(var p=0,m=t.length;m>p;p++)e=this._getName(t[p]),e!==""&&(o=this._getSomethingByName(e),o.series?(this._hasDataMap[e]=!0,u=!o.data||o.type!==f.CHART_TYPE_PIE&&o.type!==f.CHART_TYPE_FORCE&&o.type!==f.CHART_TYPE_FUNNEL?[o.series]:[o.data,o.series],s=this.getItemStyleColor(this.deepQuery(u,"itemStyle.normal.color"),o.seriesIndex,o.dataIndex,o.data),s&&o.type!=f.CHART_TYPE_K&&this.setColor(e,s),this._selectedMap[e]=this._selectedMap[e]!=null?this._selectedMap[e]:!0):this._hasDataMap[e]=!1)}this.clear(),this._buildShape()},getRelatedAmount:function(i){for(var e,o=0,s=this.option.series,u=0,t=s.length;t>u;u++)if(s[u].name===i&&o++,s[u].type===f.CHART_TYPE_PIE||s[u].type===f.CHART_TYPE_RADAR||s[u].type===f.CHART_TYPE_CHORD||s[u].type===f.CHART_TYPE_FORCE||s[u].type===f.CHART_TYPE_FUNNEL){e=s[u].type!=f.CHART_TYPE_FORCE?s[u].data:s[u].categories;for(var r=0,p=e.length;p>r;r++)e[r].name===i&&e[r].value!="-"&&o++}return o},setColor:function(i,e){this._colorMap[i]=e},getColor:function(i){return this._colorMap[i]||(this._colorMap[i]=this.zr.getColor(this._colorIndex++)),this._colorMap[i]},hasColor:function(i){return this._colorMap[i]?this._colorMap[i]:!1},add:function(i,e){for(var o=this.legendOption.data,s=0,u=o.length;u>s;s++)if(this._getName(o[s])===i)return;this.legendOption.data.push(i),this.setColor(i,e),this._selectedMap[i]=!0,this._hasDataMap[i]=!0},del:function(i){for(var e=this.legendOption.data,o=0,s=e.length;s>o;o++)if(this._getName(e[o])===i)return this.legendOption.data.splice(o,1)},getItemShape:function(i){if(i!=null){for(var e,o=0,s=this.shapeList.length;s>o;o++)if(e=this.shapeList[o],e._name===i&&e.type!="text")return e}},setItemShape:function(i,e){for(var o,s=0,u=this.shapeList.length;u>s;s++)o=this.shapeList[s],o._name===i&&o.type!="text"&&(this._selectedMap[i]||(e.style.color="#ccc",e.style.strokeColor="#ccc"),this.zr.modShape(o.id,e))},isSelected:function(i){return typeof this._selectedMap[i]<"u"?this._selectedMap[i]:!0},getSelectedMap:function(){return this._selectedMap},setSelected:function(i,e){if(this.legendOption.selectedMode==="single")for(var o in this._selectedMap)this._selectedMap[o]=!1;this._selectedMap[i]=e,this.messageCenter.dispatch(f.EVENT.LEGEND_SELECTED,null,{selected:this._selectedMap,target:i},this.myChart)},onlegendSelected:function(i,e){var o=i.selected;for(var s in o)this._selectedMap[s]!=o[s]&&(e.needRefresh=!0),this._selectedMap[s]=o[s]}};var n={line:function(i,e){var o=e.height/2;i.moveTo(e.x,e.y+o),i.lineTo(e.x+e.width,e.y+o)},pie:function(i,e){var o=e.x,s=e.y,u=e.width,t=e.height;_.prototype.buildPath(i,{x:o+u/2,y:s+t+2,r:t,r0:6,startAngle:45,endAngle:135})},eventRiver:function(i,e){var o=e.x,s=e.y,u=e.width,t=e.height;i.moveTo(o,s+t),i.bezierCurveTo(o+u,s+t,o,s+4,o+u,s+4),i.lineTo(o+u,s),i.bezierCurveTo(o,s,o+u,s+t-4,o,s+t-4),i.lineTo(o,s+t)},k:function(i,e){var o=e.x,s=e.y,u=e.width,t=e.height;d.prototype.buildPath(i,{x:o+u/2,y:[s+1,s+1,s+t-6,s+t],width:u-6})},bar:function(i,e){var o=e.x,s=e.y+1,u=e.width,t=e.height-2,r=3;i.moveTo(o+r,s),i.lineTo(o+u-r,s),i.quadraticCurveTo(o+u,s,o+u,s+r),i.lineTo(o+u,s+t-r),i.quadraticCurveTo(o+u,s+t,o+u-r,s+t),i.lineTo(o+r,s+t),i.quadraticCurveTo(o,s+t,o,s+t-r),i.lineTo(o,s+r),i.quadraticCurveTo(o,s,o+r,s)},force:function(i,e){c.prototype.iconLibrary.circle(i,e)},radar:function(i,e){var o=6,s=e.x+e.width/2,u=e.y+e.height/2,t=e.height/2,r=2*Math.PI/o,p=-Math.PI/2,m=s+t*Math.cos(p),x=u+t*Math.sin(p);i.moveTo(m,x),p+=r;for(var T=0,w=o-1;w>T;T++)i.lineTo(s+t*Math.cos(p),u+t*Math.sin(p)),p+=r;i.lineTo(m,x)}};n.chord=n.pie,n.map=n.bar;for(var l in n)c.prototype.iconLibrary["legendicon"+l]=n[l];return a.inherits(b,S),C("../component").define("legend",b),b}),st("echarts/util/ecData",[],function(){function C(g,_,c,d,f,a,h,n){var l;return typeof d<"u"&&(l=d.value==null?d:d.value),g._echartsData={_series:_,_seriesIndex:c,_data:d,_dataIndex:f,_name:a,_value:l,_special:h,_special2:n},g._echartsData}function b(g,_){var c=g._echartsData;if(!_)return c;switch(_){case"series":case"seriesIndex":case"data":case"dataIndex":case"name":case"value":case"special":case"special2":return c&&c["_"+_]}return null}function S(g,_,c){switch(g._echartsData=g._echartsData||{},_){case"series":case"seriesIndex":case"data":case"dataIndex":case"name":case"value":case"special":case"special2":g._echartsData["_"+_]=c}}function y(g,_){_._echartsData={_series:g._echartsData._series,_seriesIndex:g._echartsData._seriesIndex,_data:g._echartsData._data,_dataIndex:g._echartsData._dataIndex,_name:g._echartsData._name,_value:g._echartsData._value,_special:g._echartsData._special,_special2:g._echartsData._special2}}return{pack:C,set:S,get:b,clone:y}}),st("echarts/chart",[],function(){var C={},b={};return C.define=function(S,y){return b[S]=y,C},C.get=function(S){return b[S]},C}),st("zrender/tool/color",["require","../tool/util"],function(C){function b(G){$=G}function S(){$=it}function y(G,X){return G=0|G,X=X||$,X[G%X.length]}function g(G){rt=G}function _(){}function c(){return rt}function d(G,X,et,J,tt,I,N){j||(j=U.getContext());for(var Q=j.createRadialGradient(G,X,et,J,tt,I),K=0,B=N.length;B>K;K++)Q.addColorStop(N[K][0],N[K][1]);return Q.__nonRecursion=!0,Q}function f(G,X,et,J,tt){j||(j=U.getContext());for(var I=j.createLinearGradient(G,X,et,J),N=0,Q=tt.length;Q>N;N++)I.addColorStop(tt[N][0],tt[N][1]);return I.__nonRecursion=!0,I}function a(G,X,et){G=e(G),X=e(X),G=F(G),X=F(X);for(var J=[],tt=(X[0]-G[0])/et,I=(X[1]-G[1])/et,N=(X[2]-G[2])/et,Q=(X[3]-G[3])/et,K=0,B=G[0],Z=G[1],V=G[2],q=G[3];et>K;K++)J[K]=n([z(Math.floor(B),[0,255]),z(Math.floor(Z),[0,255]),z(Math.floor(V),[0,255]),q.toFixed(4)-0],"rgba"),B+=tt,Z+=I,V+=N,q+=Q;return B=X[0],Z=X[1],V=X[2],q=X[3],J[K]=n([B,Z,V,q],"rgba"),J}function h(G,X){var et=[],J=G.length;if(X===void 0&&(X=20),J===1)et=a(G[0],G[0],X);else if(J>1)for(var tt=0,I=J-1;I>tt;tt++){var N=a(G[tt],G[tt+1],X);I-1>tt&&N.pop(),et=et.concat(N)}return et}function n(G,X){if(X=X||"rgb",G&&(G.length===3||G.length===4)){if(G=E(G,function(J){return J>1?Math.ceil(J):J}),X.indexOf("hex")>-1)return"#"+((1<<24)+(G[0]<<16)+(G[1]<<8)+ +G[2]).toString(16).slice(1);if(X.indexOf("hs")>-1){var et=E(G.slice(1,3),function(J){return J+"%"});G[1]=et[0],G[2]=et[1]}return X.indexOf("a")>-1?(G.length===3&&G.push(1),G[3]=z(G[3],[0,1]),X+"("+G.slice(0,4).join(",")+")"):X+"("+G.slice(0,3).join(",")+")"}}function l(G){G=w(G),G.indexOf("rgba")<0&&(G=e(G));var X=[],et=0;return G.replace(/[\d.]+/g,function(J){J=3>et?0|J:+J,X[et++]=J}),X}function i(G,X){if(!k(G))return G;var et=F(G),J=et[3];return typeof J>"u"&&(J=1),G.indexOf("hsb")>-1?et=A(et):G.indexOf("hsl")>-1&&(et=O(et)),X.indexOf("hsb")>-1||X.indexOf("hsv")>-1?et=H(et):X.indexOf("hsl")>-1&&(et=Y(et)),et[3]=J,n(et,X)}function e(G){return i(G,"rgba")}function o(G){return i(G,"rgb")}function s(G){return i(G,"hex")}function u(G){return i(G,"hsva")}function t(G){return i(G,"hsv")}function r(G){return i(G,"hsba")}function p(G){return i(G,"hsb")}function m(G){return i(G,"hsla")}function x(G){return i(G,"hsl")}function T(G){for(var X in at)if(s(at[X])===s(G))return X;return null}function w(G){return String(G).replace(/\s+/g,"")}function L(G){if(at[G]&&(G=at[G]),G=w(G),G=G.replace(/hsv/i,"hsb"),/^#[\da-f]{3}$/i.test(G)){G=parseInt(G.slice(1),16);var X=(3840&G)<<8,et=(240&G)<<4,J=15&G;G="#"+((1<<24)+(X<<4)+X+(et<<4)+et+(J<<4)+J).toString(16).slice(1)}return G}function M(G,X){if(!k(G))return G;var et=X>0?1:-1;typeof X>"u"&&(X=0),X=Math.abs(X)>1?1:Math.abs(X),G=o(G);for(var J=F(G),tt=0;3>tt;tt++)J[tt]=et===1?J[tt]*(1-X)|0:(255-J[tt])*X+J[tt]|0;return"rgb("+J.join(",")+")"}function P(G){if(!k(G))return G;var X=F(e(G));return X=E(X,function(et){return 255-et}),n(X,"rgb")}function R(G,X,et){if(!k(G)||!k(X))return G;typeof et>"u"&&(et=.5),et=1-z(et,[0,1]);for(var J=2*et-1,tt=F(e(G)),I=F(e(X)),N=tt[3]-I[3],Q=((J*N===-1?J:(J+N)/(1+J*N))+1)/2,K=1-Q,B=[],Z=0;3>Z;Z++)B[Z]=tt[Z]*Q+I[Z]*K;var V=tt[3]*et+I[3]*(1-et);return V=Math.max(0,Math.min(1,V)),tt[3]===1&&I[3]===1?n(B,"rgb"):(B[3]=V,n(B,"rgba"))}function W(){return"#"+(Math.random().toString(16)+"0000").slice(2,8)}function F(G){G=L(G);var X=G.match(lt);if(X===null)throw new Error("The color format error");var et,J,tt,I=[];if(X[2])et=X[2].replace("#","").split(""),tt=[et[0]+et[1],et[2]+et[3],et[4]+et[5]],I=E(tt,function(V){return z(parseInt(V,16),[0,255])});else if(X[4]){var N=X[4].split(",");J=N[3],tt=N.slice(0,3),I=E(tt,function(V){return V=Math.floor(V.indexOf("%")>0?2.55*parseInt(V,0):V),z(V,[0,255])}),typeof J<"u"&&I.push(z(parseFloat(J),[0,1]))}else if(X[5]||X[6]){var Q=(X[5]||X[6]).split(","),K=parseInt(Q[0],0)/360,B=Q[1],Z=Q[2];J=Q[3],I=E([B,Z],function(V){return z(parseFloat(V)/100,[0,1])}),I.unshift(K),typeof J<"u"&&I.push(z(parseFloat(J),[0,1]))}return I}function v(G,X){if(!k(G))return G;X===null&&(X=1);var et=F(e(G));return et[3]=z(Number(X).toFixed(4),[0,1]),n(et,"rgba")}function E(G,X){if(typeof X!="function")throw new TypeError;for(var et=G?G.length:0,J=0;et>J;J++)G[J]=X(G[J]);return G}function z(G,X){return G<=X[0]?G=X[0]:G>=X[1]&&(G=X[1]),G}function k(G){return G instanceof Array||typeof G=="string"}function A(G){var X,et,J,tt=G[0],I=G[1],N=G[2];if(I===0)X=255*N,et=255*N,J=255*N;else{var Q=6*tt;Q===6&&(Q=0);var K=0|Q,B=N*(1-I),Z=N*(1-I*(Q-K)),V=N*(1-I*(1-(Q-K))),q=0,ot=0,nt=0;K===0?(q=N,ot=V,nt=B):K===1?(q=Z,ot=N,nt=B):K===2?(q=B,ot=N,nt=V):K===3?(q=B,ot=Z,nt=N):K===4?(q=V,ot=B,nt=N):(q=N,ot=B,nt=Z),X=255*q,et=255*ot,J=255*nt}return[X,et,J]}function O(G){var X,et,J,tt=G[0],I=G[1],N=G[2];if(I===0)X=255*N,et=255*N,J=255*N;else{var Q;Q=.5>N?N*(1+I):N+I-I*N;var K=2*N-Q;X=255*D(K,Q,tt+1/3),et=255*D(K,Q,tt),J=255*D(K,Q,tt-1/3)}return[X,et,J]}function D(G,X,et){return 0>et&&(et+=1),et>1&&(et-=1),1>6*et?G+6*(X-G)*et:1>2*et?X:2>3*et?G+(X-G)*(2/3-et)*6:G}function H(G){var X,et,J=G[0]/255,tt=G[1]/255,I=G[2]/255,N=Math.min(J,tt,I),Q=Math.max(J,tt,I),K=Q-N,B=Q;if(K===0)X=0,et=0;else{et=K/Q;var Z=((Q-J)/6+K/2)/K,V=((Q-tt)/6+K/2)/K,q=((Q-I)/6+K/2)/K;J===Q?X=q-V:tt===Q?X=1/3+Z-q:I===Q&&(X=2/3+V-Z),0>X&&(X+=1),X>1&&(X-=1)}return X=360*X,et=100*et,B=100*B,[X,et,B]}function Y(G){var X,et,J=G[0]/255,tt=G[1]/255,I=G[2]/255,N=Math.min(J,tt,I),Q=Math.max(J,tt,I),K=Q-N,B=(Q+N)/2;if(K===0)X=0,et=0;else{et=.5>B?K/(Q+N):K/(2-Q-N);var Z=((Q-J)/6+K/2)/K,V=((Q-tt)/6+K/2)/K,q=((Q-I)/6+K/2)/K;J===Q?X=q-V:tt===Q?X=1/3+Z-q:I===Q&&(X=2/3+V-Z),0>X&&(X+=1),X>1&&(X-=1)}return X=360*X,et=100*et,B=100*B,[X,et,B]}var j,U=C("../tool/util"),$=["#ff9277"," #dddd00"," #ffc877"," #bbe3ff"," #d5ffbb","#bbbbff"," #ddb000"," #b0dd00"," #e2bbff"," #ffbbe3","#ff7777"," #ff9900"," #83dd00"," #77e3ff"," #778fff","#c877ff"," #ff77ab"," #ff6600"," #aa8800"," #77c7ff","#ad77ff"," #ff77ff"," #dd0083"," #777700"," #00aa00","#0088aa"," #8400dd"," #aa0088"," #dd0000"," #772e00"],it=$,rt="rgba(255,255,0,0.5)",lt=/^\s*((#[a-f\d]{6})|(#[a-f\d]{3})|rgba?\(\s*([\d\.]+%?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+%?(?:\s*,\s*[\d\.]+%?)?)\s*\)|hsba?\(\s*([\d\.]+(?:deg|\xb0|%)?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+%?(?:\s*,\s*[\d\.]+)?)%?\s*\)|hsla?\(\s*([\d\.]+(?:deg|\xb0|%)?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+%?(?:\s*,\s*[\d\.]+)?)%?\s*\))\s*$/i,at={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#0ff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000",blanchedalmond:"#ffebcd",blue:"#00f",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#0ff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgrey:"#a9a9a9",darkgreen:"#006400",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#f0f",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",grey:"#808080",green:"#008000",greenyellow:"#adff2f",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgrey:"#d3d3d3",lightgreen:"#90ee90",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#789",lightslategrey:"#789",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#0f0",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#f0f",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370d8",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#d87093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",red:"#f00",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#fff",whitesmoke:"#f5f5f5",yellow:"#ff0",yellowgreen:"#9acd32"};return{customPalette:b,resetPalette:S,getColor:y,getHighlightColor:c,customHighlight:g,resetHighlight:_,getRadialGradient:d,getLinearGradient:f,getGradientColors:h,getStepColors:a,reverse:P,mix:R,lift:M,trim:w,random:W,toRGB:o,toRGBA:e,toHex:s,toHSL:x,toHSLA:m,toHSB:p,toHSBA:r,toHSV:t,toHSVA:u,toName:T,toColor:n,toArray:l,alpha:v,getData:F}}),st("echarts/component/timeline",["require","./base","zrender/shape/Rectangle","../util/shape/Icon","../util/shape/Chain","../config","zrender/tool/util","zrender/tool/area","zrender/tool/event","../component"],function(C){function b(n,l,i,e,o){y.call(this,n,l,i,e,o);var s=this;if(s._onclick=function(u){return s.__onclick(u)},s._ondrift=function(u,t){return s.__ondrift(this,u,t)},s._ondragend=function(){return s.__ondragend()},s._setCurrentOption=function(){var u=s.timelineOption;s.currentIndex%=u.data.length;var t=s.options[s.currentIndex]||{};s.myChart._setOption(t,u.notMerge,!0),s.messageCenter.dispatch(d.EVENT.TIMELINE_CHANGED,null,{currentIndex:s.currentIndex,data:u.data[s.currentIndex].name!=null?u.data[s.currentIndex].name:u.data[s.currentIndex]},s.myChart)},s._onFrame=function(){s._setCurrentOption(),s._syncHandleShape(),s.timelineOption.autoPlay&&(s.playTicket=setTimeout(function(){return s.currentIndex+=1,!s.timelineOption.loop&&s.currentIndex>=s.timelineOption.data.length?(s.currentIndex=s.timelineOption.data.length-1,void s.stop()):void s._onFrame()},s.timelineOption.playInterval))},this.setTheme(!1),this.options=this.option.options,this.currentIndex=this.timelineOption.currentIndex%this.timelineOption.data.length,this.timelineOption.notMerge||this.currentIndex===0||(this.options[this.currentIndex]=f.merge(this.options[this.currentIndex],this.options[0])),this.timelineOption.show&&(this._buildShape(),this._syncHandleShape()),this._setCurrentOption(),this.timelineOption.autoPlay){var s=this;this.playTicket=setTimeout(function(){s.play()},this.ecTheme.animationDuration!=null?this.ecTheme.animationDuration:d.animationDuration)}}function S(n,l){var i=2,e=l.x+i,o=l.y+i+2,s=l.width-i,u=l.height-i,t=l.symbol;if(t==="last")n.moveTo(e+s-2,o+u/3),n.lineTo(e+s-2,o),n.lineTo(e+2,o+u/2),n.lineTo(e+s-2,o+u),n.lineTo(e+s-2,o+u/3*2),n.moveTo(e,o),n.lineTo(e,o);else if(t==="next")n.moveTo(e+2,o+u/3),n.lineTo(e+2,o),n.lineTo(e+s-2,o+u/2),n.lineTo(e+2,o+u),n.lineTo(e+2,o+u/3*2),n.moveTo(e,o),n.lineTo(e,o);else if(t==="play")if(l.status==="stop")n.moveTo(e+2,o),n.lineTo(e+s-2,o+u/2),n.lineTo(e+2,o+u),n.lineTo(e+2,o);else{var r=l.brushType==="both"?2:3;n.rect(e+2,o,r,u),n.rect(e+s-r-2,o,r,u)}else if(t.match("image")){var p="";p=t.replace(new RegExp("^image:\\/\\/"),""),t=_.prototype.iconLibrary.image,t(n,{x:e,y:o,width:s,height:u,image:p})}}var y=C("./base"),g=C("zrender/shape/Rectangle"),_=C("../util/shape/Icon"),c=C("../util/shape/Chain"),d=C("../config");d.timeline={zlevel:0,z:4,show:!0,type:"time",notMerge:!1,realtime:!0,x:80,x2:80,y2:0,height:50,backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderWidth:0,padding:5,controlPosition:"left",autoPlay:!1,loop:!0,playInterval:2e3,lineStyle:{width:1,color:"#666",type:"dashed"},label:{show:!0,interval:"auto",rotate:0,textStyle:{color:"#333"}},checkpointStyle:{symbol:"auto",symbolSize:"auto",color:"auto",borderColor:"auto",borderWidth:"auto",label:{show:!1,textStyle:{color:"auto"}}},controlStyle:{itemSize:15,itemGap:5,normal:{color:"#333"},emphasis:{color:"#1e90ff"}},symbol:"emptyDiamond",symbolSize:4,currentIndex:0};var f=C("zrender/tool/util"),a=C("zrender/tool/area"),h=C("zrender/tool/event");return b.prototype={type:d.COMPONENT_TYPE_TIMELINE,_buildShape:function(){if(this._location=this._getLocation(),this._buildBackground(),this._buildControl(),this._chainPoint=this._getChainPoint(),this.timelineOption.label.show)for(var n=this._getInterval(),l=0,i=this._chainPoint.length;i>l;l+=n)this._chainPoint[l].showLabel=!0;this._buildChain(),this._buildHandle();for(var l=0,e=this.shapeList.length;e>l;l++)this.zr.addShape(this.shapeList[l])},_getLocation:function(){var n,l=this.timelineOption,i=this.reformCssArray(this.timelineOption.padding),e=this.zr.getWidth(),o=this.parsePercent(l.x,e),s=this.parsePercent(l.x2,e);l.width==null?(n=e-o-s,s=e-s):(n=this.parsePercent(l.width,e),s=o+n);var u,t,r=this.zr.getHeight(),p=this.parsePercent(l.height,r);return l.y!=null?(u=this.parsePercent(l.y,r),t=u+p):(t=r-this.parsePercent(l.y2,r),u=t-p),{x:o+i[3],y:u+i[0],x2:s-i[1],y2:t-i[2],width:n-i[1]-i[3],height:p-i[0]-i[2]}},_getReformedLabel:function(n){var l=this.timelineOption,i=l.data[n].name!=null?l.data[n].name:l.data[n],e=l.data[n].formatter||l.label.formatter;return e&&(typeof e=="function"?i=e.call(this.myChart,i):typeof e=="string"&&(i=e.replace("{value}",i))),i},_getInterval:function(){var n=this._chainPoint,l=this.timelineOption,i=l.label.interval;if(i==="auto"){var e=l.label.textStyle.fontSize,o=l.data,s=l.data.length;if(s>3){var u,t,r=!1;for(i=0;!r&&s>i;){i++,r=!0;for(var p=i;s>p;p+=i){if(u=n[p].x-n[p-i].x,l.label.rotate!==0)t=e;else if(o[p].textStyle)t=a.getTextWidth(n[p].name,n[p].textFont);else{var m=n[p].name+"",x=(m.match(/\w/g)||"").length,T=m.length-x;t=x*e*2/3+T*e}if(t>u){r=!1;break}}}}else i=1}else i=i-0+1;return i},_getChainPoint:function(){function n(z){return r[z].name!=null?r[z].name:r[z]+""}var l,i=this.timelineOption,e=i.symbol.toLowerCase(),o=i.symbolSize,s=i.label.rotate,u=i.label.textStyle,t=this.getFont(u),r=i.data,p=this._location.x,m=this._location.y+this._location.height/4*3,x=this._location.x2-this._location.x,T=r.length,w=[];if(T>1){var L=x/T;if(L=L>50?50:20>L?5:L,x-=2*L,i.type==="number")for(var M=0;T>M;M++)w.push(p+L+x/(T-1)*M);else{w[0]=new Date(n(0).replace(/-/g,"/")),w[T-1]=new Date(n(T-1).replace(/-/g,"/"))-w[0];for(var M=1;T>M;M++)w[M]=p+L+x*(new Date(n(M).replace(/-/g,"/"))-w[0])/w[T-1];w[0]=p+L}}else w.push(p+x/2);for(var P,R,W,F,v,E=[],M=0;T>M;M++)p=w[M],P=r[M].symbol&&r[M].symbol.toLowerCase()||e,P.match("empty")?(P=P.replace("empty",""),W=!0):W=!1,P.match("star")&&(R=P.replace("star","")-0||5,P="star"),l=r[M].textStyle?f.merge(r[M].textStyle||{},u):u,F=l.align||"center",s?(F=s>0?"right":"left",v=[s*Math.PI/180,p,m-5]):v=!1,E.push({x:p,n:R,isEmpty:W,symbol:P,symbolSize:r[M].symbolSize||o,color:r[M].color,borderColor:r[M].borderColor,borderWidth:r[M].borderWidth,name:this._getReformedLabel(M),textColor:l.color,textAlign:F,textBaseline:l.baseline||"middle",textX:p,textY:m-(s?5:0),textFont:r[M].textStyle?this.getFont(l):t,rotation:v,showLabel:!1});return E},_buildBackground:function(){var n=this.timelineOption,l=this.reformCssArray(this.timelineOption.padding),i=this._location.width,e=this._location.height;(n.borderWidth!==0||n.backgroundColor.replace(/\s/g,"")!="rgba(0,0,0,0)")&&this.shapeList.push(new g({zlevel:this.getZlevelBase(),z:this.getZBase(),hoverable:!1,style:{x:this._location.x-l[3],y:this._location.y-l[0],width:i+l[1]+l[3],height:e+l[0]+l[2],brushType:n.borderWidth===0?"fill":"both",color:n.backgroundColor,strokeColor:n.borderColor,lineWidth:n.borderWidth}}))},_buildControl:function(){var n=this,l=this.timelineOption,i=l.lineStyle,e=l.controlStyle;if(l.controlPosition!=="none"){var o,s=e.itemSize,u=e.itemGap;l.controlPosition==="left"?(o=this._location.x,this._location.x+=3*(s+u)):(o=this._location.x2-(3*(s+u)-u),this._location.x2-=3*(s+u));var t=this._location.y,r={zlevel:this.getZlevelBase(),z:this.getZBase()+1,style:{iconType:"timelineControl",symbol:"last",x:o,y:t,width:s,height:s,brushType:"stroke",color:e.normal.color,strokeColor:e.normal.color,lineWidth:i.width},highlightStyle:{color:e.emphasis.color,strokeColor:e.emphasis.color,lineWidth:i.width+1},clickable:!0};this._ctrLastShape=new _(r),this._ctrLastShape.onclick=function(){n.last()},this.shapeList.push(this._ctrLastShape),o+=s+u,this._ctrPlayShape=new _(f.clone(r)),this._ctrPlayShape.style.brushType="fill",this._ctrPlayShape.style.symbol="play",this._ctrPlayShape.style.status=this.timelineOption.autoPlay?"playing":"stop",this._ctrPlayShape.style.x=o,this._ctrPlayShape.onclick=function(){n._ctrPlayShape.style.status==="stop"?n.play():n.stop()},this.shapeList.push(this._ctrPlayShape),o+=s+u,this._ctrNextShape=new _(f.clone(r)),this._ctrNextShape.style.symbol="next",this._ctrNextShape.style.x=o,this._ctrNextShape.onclick=function(){n.next()},this.shapeList.push(this._ctrNextShape)}},_buildChain:function(){var n=this.timelineOption,l=n.lineStyle;this._timelineShae={zlevel:this.getZlevelBase(),z:this.getZBase(),style:{x:this._location.x,y:this.subPixelOptimize(this._location.y,l.width),width:this._location.x2-this._location.x,height:this._location.height,chainPoint:this._chainPoint,brushType:"both",strokeColor:l.color,lineWidth:l.width,lineType:l.type},hoverable:!1,clickable:!0,onclick:this._onclick},this._timelineShae=new c(this._timelineShae),this.shapeList.push(this._timelineShae)},_buildHandle:function(){var n=this._chainPoint[this.currentIndex],l=n.symbolSize+1;l=5>l?5:l,this._handleShape={zlevel:this.getZlevelBase(),z:this.getZBase()+1,hoverable:!1,draggable:!0,style:{iconType:"diamond",n:n.n,x:n.x-l,y:this._location.y+this._location.height/4-l,width:2*l,height:2*l,brushType:"both",textPosition:"specific",textX:n.x,textY:this._location.y-this._location.height/4,textAlign:"center",textBaseline:"middle"},highlightStyle:{},ondrift:this._ondrift,ondragend:this._ondragend},this._handleShape=new _(this._handleShape),this.shapeList.push(this._handleShape)},_syncHandleShape:function(){if(this.timelineOption.show){var n=this.timelineOption,l=n.checkpointStyle,i=this._chainPoint[this.currentIndex];this._handleShape.style.text=l.label.show?i.name:"",this._handleShape.style.textFont=i.textFont,this._handleShape.style.n=i.n,l.symbol==="auto"?this._handleShape.style.iconType=i.symbol!="none"?i.symbol:"diamond":(this._handleShape.style.iconType=l.symbol,l.symbol.match("star")&&(this._handleShape.style.n=l.symbol.replace("star","")-0||5,this._handleShape.style.iconType="star"));var e;l.symbolSize==="auto"?(e=i.symbolSize+2,e=5>e?5:e):e=l.symbolSize-0,this._handleShape.style.color=l.color==="auto"?i.color?i.color:n.controlStyle.emphasis.color:l.color,this._handleShape.style.textColor=l.label.textStyle.color==="auto"?this._handleShape.style.color:l.label.textStyle.color,this._handleShape.highlightStyle.strokeColor=this._handleShape.style.strokeColor=l.borderColor==="auto"?i.borderColor?i.borderColor:"#fff":l.borderColor,this._handleShape.style.lineWidth=l.borderWidth==="auto"?i.borderWidth?i.borderWidth:0:l.borderWidth-0,this._handleShape.highlightStyle.lineWidth=this._handleShape.style.lineWidth+1,this.zr.animate(this._handleShape.id,"style").when(500,{x:i.x-e,textX:i.x,y:this._location.y+this._location.height/4-e,width:2*e,height:2*e}).start("ExponentialOut")}},_findChainIndex:function(n){var l=this._chainPoint,i=l.length;if(n<=l[0].x)return 0;if(n>=l[i-1].x)return i-1;for(var e=0;i-1>e;e++)if(n>=l[e].x&&n<=l[e+1].x)return Math.abs(n-l[e].x)<Math.abs(n-l[e+1].x)?e:e+1},__onclick:function(n){var l=h.getX(n.event),i=this._findChainIndex(l);return i===this.currentIndex?!0:(this.currentIndex=i,this.timelineOption.autoPlay&&this.stop(),clearTimeout(this.playTicket),void this._onFrame())},__ondrift:function(n,l){this.timelineOption.autoPlay&&this.stop();var i,e=this._chainPoint,o=e.length;n.style.x+l<=e[0].x-e[0].symbolSize?(n.style.x=e[0].x-e[0].symbolSize,i=0):n.style.x+l>=e[o-1].x-e[o-1].symbolSize?(n.style.x=e[o-1].x-e[o-1].symbolSize,i=o-1):(n.style.x+=l,i=this._findChainIndex(n.style.x));var s=e[i],u=s.symbolSize+2;if(n.style.iconType=s.symbol,n.style.n=s.n,n.style.textX=n.style.x+u/2,n.style.y=this._location.y+this._location.height/4-u,n.style.width=2*u,n.style.height=2*u,n.style.text=s.name,i===this.currentIndex)return!0;if(this.currentIndex=i,this.timelineOption.realtime){clearTimeout(this.playTicket);var t=this;this.playTicket=setTimeout(function(){t._setCurrentOption()},200)}return!0},__ondragend:function(){this.isDragend=!0},ondragend:function(n,l){this.isDragend&&n.target&&(!this.timelineOption.realtime&&this._setCurrentOption(),l.dragOut=!0,l.dragIn=!0,l.needRefresh=!1,this.isDragend=!1,this._syncHandleShape())},last:function(){return this.timelineOption.autoPlay&&this.stop(),this.currentIndex-=1,this.currentIndex<0&&(this.currentIndex=this.timelineOption.data.length-1),this._onFrame(),this.currentIndex},next:function(){return this.timelineOption.autoPlay&&this.stop(),this.currentIndex+=1,this.currentIndex>=this.timelineOption.data.length&&(this.currentIndex=0),this._onFrame(),this.currentIndex},play:function(n,l){return this._ctrPlayShape&&this._ctrPlayShape.style.status!="playing"&&(this._ctrPlayShape.style.status="playing",this.zr.modShape(this._ctrPlayShape.id),this.zr.refreshNextFrame()),this.timelineOption.autoPlay=l??!0,this.timelineOption.autoPlay||clearTimeout(this.playTicket),this.currentIndex=n??this.currentIndex+1,this.currentIndex>=this.timelineOption.data.length&&(this.currentIndex=0),this._onFrame(),this.currentIndex},stop:function(){return this._ctrPlayShape&&this._ctrPlayShape.style.status!="stop"&&(this._ctrPlayShape.style.status="stop",this.zr.modShape(this._ctrPlayShape.id),this.zr.refreshNextFrame()),this.timelineOption.autoPlay=!1,clearTimeout(this.playTicket),this.currentIndex},resize:function(){this.timelineOption.show&&(this.clear(),this._buildShape(),this._syncHandleShape())},setTheme:function(n){this.timelineOption=this.reformOption(f.clone(this.option.timeline)),this.timelineOption.label.textStyle=this.getTextStyle(this.timelineOption.label.textStyle),this.timelineOption.checkpointStyle.label.textStyle=this.getTextStyle(this.timelineOption.checkpointStyle.label.textStyle),this.myChart.canvasSupported||(this.timelineOption.realtime=!1),this.timelineOption.show&&n&&(this.clear(),this._buildShape(),this._syncHandleShape())},onbeforDispose:function(){clearTimeout(this.playTicket)}},_.prototype.iconLibrary.timelineControl=S,f.inherits(b,y),C("../component").define("timeline",b),b}),st("zrender/shape/Image",["require","./Base","../tool/util"],function(C){var b=C("./Base"),S=function(y){b.call(this,y)};return S.prototype={type:"image",brush:function(y,g,_){var c=this.style||{};g&&(c=this.getHighlightStyle(c,this.highlightStyle||{}));var d=c.image,f=this;if(this._imageCache||(this._imageCache={}),typeof d=="string"){var a=d;this._imageCache[a]?d=this._imageCache[a]:(d=new Image,d.onload=function(){d.onload=null,f.modSelf(),_()},d.src=a,this._imageCache[a]=d)}if(d){if(d.nodeName.toUpperCase()=="IMG"){if(window.ActiveXObject){if(d.readyState!="complete")return}else if(!d.complete)return}var h=c.width||d.width,n=c.height||d.height,l=c.x,i=c.y;if(!d.width||!d.height)return;if(y.save(),this.doClip(y),this.setContext(y,c),this.setTransform(y),c.sWidth&&c.sHeight){var e=c.sx||0,o=c.sy||0;y.drawImage(d,e,o,c.sWidth,c.sHeight,l,i,h,n)}else if(c.sx&&c.sy){var e=c.sx,o=c.sy,s=h-e,u=n-o;y.drawImage(d,e,o,s,u,l,i,h,n)}else y.drawImage(d,l,i,h,n);c.width||(c.width=h),c.height||(c.height=n),this.style.width||(this.style.width=h),this.style.height||(this.style.height=n),this.drawText(y,c,this.style),y.restore()}},getRect:function(y){return{x:y.x,y:y.y,width:y.width,height:y.height}},clearCache:function(){this._imageCache={}}},C("../tool/util").inherits(S,b),S}),st("zrender/loadingEffect/Bar",["require","./Base","../tool/util","../tool/color","../shape/Rectangle"],function(C){function b(c){S.call(this,c)}var S=C("./Base"),y=C("../tool/util"),g=C("../tool/color"),_=C("../shape/Rectangle");return y.inherits(b,S),b.prototype._start=function(c,d){var f=y.merge(this.options,{textStyle:{color:"#888"},backgroundColor:"rgba(250, 250, 250, 0.8)",effectOption:{x:0,y:this.canvasHeight/2-30,width:this.canvasWidth,height:5,brushType:"fill",timeInterval:100}}),a=this.createTextShape(f.textStyle),h=this.createBackgroundShape(f.backgroundColor),n=f.effectOption,l=new _({highlightStyle:y.clone(n)});return l.highlightStyle.color=n.color||g.getLinearGradient(n.x,n.y,n.x+n.width,n.y+n.height,[[0,"#ff6400"],[.5,"#ffe100"],[1,"#b1ff00"]]),f.progress!=null?(c(h),l.highlightStyle.width=this.adjust(f.progress,[0,1])*f.effectOption.width,c(l),c(a),void d()):(l.highlightStyle.width=0,setInterval(function(){c(h),l.highlightStyle.width<n.width?l.highlightStyle.width+=8:l.highlightStyle.width=0,c(l),c(a),d()},n.timeInterval))},b}),st("zrender/loadingEffect/Bubble",["require","./Base","../tool/util","../tool/color","../shape/Circle"],function(C){function b(c){S.call(this,c)}var S=C("./Base"),y=C("../tool/util"),g=C("../tool/color"),_=C("../shape/Circle");return y.inherits(b,S),b.prototype._start=function(c,d){for(var f=y.merge(this.options,{textStyle:{color:"#888"},backgroundColor:"rgba(250, 250, 250, 0.8)",effect:{n:50,lineWidth:2,brushType:"stroke",color:"random",timeInterval:100}}),a=this.createTextShape(f.textStyle),h=this.createBackgroundShape(f.backgroundColor),n=f.effect,l=n.n,i=n.brushType,e=n.lineWidth,o=[],s=this.canvasWidth,u=this.canvasHeight,t=0;l>t;t++){var r=n.color=="random"?g.alpha(g.random(),.3):n.color;o[t]=new _({highlightStyle:{x:Math.ceil(Math.random()*s),y:Math.ceil(Math.random()*u),r:Math.ceil(40*Math.random()),brushType:i,color:r,strokeColor:r,lineWidth:e},animationY:Math.ceil(20*Math.random())})}return setInterval(function(){c(h);for(var p=0;l>p;p++){var m=o[p].highlightStyle;m.y-o[p].animationY+m.r<=0&&(o[p].highlightStyle.y=u+m.r,o[p].highlightStyle.x=Math.ceil(Math.random()*s)),o[p].highlightStyle.y-=o[p].animationY,c(o[p])}c(a),d()},n.timeInterval)},b}),st("zrender/loadingEffect/DynamicLine",["require","./Base","../tool/util","../tool/color","../shape/Line"],function(C){function b(c){S.call(this,c)}var S=C("./Base"),y=C("../tool/util"),g=C("../tool/color"),_=C("../shape/Line");return y.inherits(b,S),b.prototype._start=function(c,d){for(var f=y.merge(this.options,{textStyle:{color:"#fff"},backgroundColor:"rgba(0, 0, 0, 0.8)",effectOption:{n:30,lineWidth:1,color:"random",timeInterval:100}}),a=this.createTextShape(f.textStyle),h=this.createBackgroundShape(f.backgroundColor),n=f.effectOption,l=n.n,i=n.lineWidth,e=[],o=this.canvasWidth,s=this.canvasHeight,u=0;l>u;u++){var t=-Math.ceil(1e3*Math.random()),r=Math.ceil(400*Math.random()),p=Math.ceil(Math.random()*s),m=n.color=="random"?g.random():n.color;e[u]=new _({highlightStyle:{xStart:t,yStart:p,xEnd:t+r,yEnd:p,strokeColor:m,lineWidth:i},animationX:Math.ceil(100*Math.random()),len:r})}return setInterval(function(){c(h);for(var x=0;l>x;x++){var T=e[x].highlightStyle;T.xStart>=o&&(e[x].len=Math.ceil(400*Math.random()),T.xStart=-400,T.xEnd=-400+e[x].len,T.yStart=Math.ceil(Math.random()*s),T.yEnd=T.yStart),T.xStart+=e[x].animationX,T.xEnd+=e[x].animationX,c(e[x])}c(a),d()},n.timeInterval)},b}),st("zrender/loadingEffect/Ring",["require","./Base","../tool/util","../tool/color","../shape/Ring","../shape/Sector"],function(C){function b(d){S.call(this,d)}var S=C("./Base"),y=C("../tool/util"),g=C("../tool/color"),_=C("../shape/Ring"),c=C("../shape/Sector");return y.inherits(b,S),b.prototype._start=function(d,f){var a=y.merge(this.options,{textStyle:{color:"#07a"},backgroundColor:"rgba(250, 250, 250, 0.8)",effect:{x:this.canvasWidth/2,y:this.canvasHeight/2,r0:60,r:100,color:"#bbdcff",brushType:"fill",textPosition:"inside",textFont:"normal 30px verdana",textColor:"rgba(30, 144, 255, 0.6)",timeInterval:100}}),h=a.effect,n=a.textStyle;n.x==null&&(n.x=h.x),n.y==null&&(n.y=h.y+(h.r0+h.r)/2-5);for(var l=this.createTextShape(a.textStyle),i=this.createBackgroundShape(a.backgroundColor),e=h.x,o=h.y,s=h.r0+6,u=h.r-6,t=h.color,r=g.lift(t,.1),p=new _({highlightStyle:y.clone(h)}),m=[],x=g.getGradientColors(["#ff6400","#ffe100","#97ff00"],25),T=15,w=240,L=0;16>L;L++)m.push(new c({highlightStyle:{x:e,y:o,r0:s,r:u,startAngle:w-T,endAngle:w,brushType:"fill",color:r},_color:g.getLinearGradient(e+s*Math.cos(w,!0),o-s*Math.sin(w,!0),e+s*Math.cos(w-T,!0),o-s*Math.sin(w-T,!0),[[0,x[2*L]],[1,x[2*L+1]]])})),w-=T;w=360;for(var L=0;4>L;L++)m.push(new c({highlightStyle:{x:e,y:o,r0:s,r:u,startAngle:w-T,endAngle:w,brushType:"fill",color:r},_color:g.getLinearGradient(e+s*Math.cos(w,!0),o-s*Math.sin(w,!0),e+s*Math.cos(w-T,!0),o-s*Math.sin(w-T,!0),[[0,x[2*L+32]],[1,x[2*L+33]]])})),w-=T;var M=0;if(a.progress!=null){d(i),M=100*this.adjust(a.progress,[0,1]).toFixed(2)/5,p.highlightStyle.text=5*M+"%",d(p);for(var L=0;20>L;L++)m[L].highlightStyle.color=M>L?m[L]._color:r,d(m[L]);return d(l),void f()}return setInterval(function(){d(i),M+=M>=20?-20:1,d(p);for(var P=0;20>P;P++)m[P].highlightStyle.color=M>P?m[P]._color:r,d(m[P]);d(l),f()},h.timeInterval)},b}),st("zrender/loadingEffect/Spin",["require","./Base","../tool/util","../tool/color","../tool/area","../shape/Sector"],function(C){function b(d){S.call(this,d)}var S=C("./Base"),y=C("../tool/util"),g=C("../tool/color"),_=C("../tool/area"),c=C("../shape/Sector");return y.inherits(b,S),b.prototype._start=function(d,f){var a=y.merge(this.options,{textStyle:{color:"#fff",textAlign:"start"},backgroundColor:"rgba(0, 0, 0, 0.8)"}),h=this.createTextShape(a.textStyle),n=10,l=_.getTextWidth(h.highlightStyle.text,h.highlightStyle.textFont),i=_.getTextHeight(h.highlightStyle.text,h.highlightStyle.textFont),e=y.merge(this.options.effect||{},{r0:9,r:15,n:18,color:"#fff",timeInterval:100}),o=this.getLocation(this.options.textStyle,l+n+2*e.r,Math.max(2*e.r,i));e.x=o.x+e.r,e.y=h.highlightStyle.y=o.y+o.height/2,h.highlightStyle.x=e.x+e.r+n;for(var s=this.createBackgroundShape(a.backgroundColor),u=e.n,t=e.x,r=e.y,p=e.r0,m=e.r,x=e.color,T=[],w=Math.round(180/u),L=0;u>L;L++)T[L]=new c({highlightStyle:{x:t,y:r,r0:p,r:m,startAngle:w*L*2,endAngle:w*L*2+w,color:g.alpha(x,(L+1)/u),brushType:"fill"}});var M=[0,t,r];return setInterval(function(){d(s),M[0]-=.3;for(var P=0;u>P;P++)T[P].rotation=M,d(T[P]);d(h),f()},e.timeInterval)},b}),st("zrender/loadingEffect/Whirling",["require","./Base","../tool/util","../tool/area","../shape/Ring","../shape/Droplet","../shape/Circle"],function(C){function b(f){S.call(this,f)}var S=C("./Base"),y=C("../tool/util"),g=C("../tool/area"),_=C("../shape/Ring"),c=C("../shape/Droplet"),d=C("../shape/Circle");return y.inherits(b,S),b.prototype._start=function(f,a){var h=y.merge(this.options,{textStyle:{color:"#888",textAlign:"start"},backgroundColor:"rgba(250, 250, 250, 0.8)"}),n=this.createTextShape(h.textStyle),l=10,i=g.getTextWidth(n.highlightStyle.text,n.highlightStyle.textFont),e=g.getTextHeight(n.highlightStyle.text,n.highlightStyle.textFont),o=y.merge(this.options.effect||{},{r:18,colorIn:"#fff",colorOut:"#555",colorWhirl:"#6cf",timeInterval:50}),s=this.getLocation(this.options.textStyle,i+l+2*o.r,Math.max(2*o.r,e));o.x=s.x+o.r,o.y=n.highlightStyle.y=s.y+s.height/2,n.highlightStyle.x=o.x+o.r+l;var u=this.createBackgroundShape(h.backgroundColor),t=new c({highlightStyle:{a:Math.round(o.r/2),b:Math.round(o.r-o.r/6),brushType:"fill",color:o.colorWhirl}}),r=new d({highlightStyle:{r:Math.round(o.r/6),brushType:"fill",color:o.colorIn}}),p=new _({highlightStyle:{r0:Math.round(o.r-o.r/3),r:o.r,brushType:"fill",color:o.colorOut}}),m=[0,o.x,o.y];return t.highlightStyle.x=r.highlightStyle.x=p.highlightStyle.x=m[1],t.highlightStyle.y=r.highlightStyle.y=p.highlightStyle.y=m[2],setInterval(function(){f(u),f(p),m[0]-=.3,t.rotation=m,f(t),f(r),f(n),a()},o.timeInterval)},b}),st("echarts/theme/macarons",[],function(){var C={color:["#2ec7c9","#b6a2de","#5ab1ef","#ffb980","#d87a80","#8d98b3","#e5cf0d","#97b552","#95706d","#dc69aa","#07a2a4","#9a7fd1","#588dd5","#f5994e","#c05050","#59678c","#c9ab00","#7eb00a","#6f5553","#c14089"],title:{textStyle:{fontWeight:"normal",color:"#008acd"}},dataRange:{itemWidth:15,color:["#5ab1ef","#e0ffff"]},toolbox:{color:["#1e90ff","#1e90ff","#1e90ff","#1e90ff"],effectiveColor:"#ff4500"},tooltip:{backgroundColor:"rgba(50,50,50,0.5)",axisPointer:{type:"line",lineStyle:{color:"#008acd"},crossStyle:{color:"#008acd"},shadowStyle:{color:"rgba(200,200,200,0.2)"}}},dataZoom:{dataBackgroundColor:"#efefff",fillerColor:"rgba(182,162,222,0.2)",handleColor:"#008acd"},grid:{borderColor:"#eee"},categoryAxis:{axisLine:{lineStyle:{color:"#008acd"}},splitLine:{lineStyle:{color:["#eee"]}}},valueAxis:{axisLine:{lineStyle:{color:"#008acd"}},splitArea:{show:!0,areaStyle:{color:["rgba(250,250,250,0.1)","rgba(200,200,200,0.1)"]}},splitLine:{lineStyle:{color:["#eee"]}}},polar:{axisLine:{lineStyle:{color:"#ddd"}},splitArea:{show:!0,areaStyle:{color:["rgba(250,250,250,0.2)","rgba(200,200,200,0.2)"]}},splitLine:{lineStyle:{color:"#ddd"}}},timeline:{lineStyle:{color:"#008acd"},controlStyle:{normal:{color:"#008acd"},emphasis:{color:"#008acd"}},symbol:"emptyCircle",symbolSize:3},bar:{itemStyle:{normal:{barBorderRadius:5},emphasis:{barBorderRadius:5}}},line:{smooth:!0,symbol:"emptyCircle",symbolSize:3},k:{itemStyle:{normal:{color:"#d87a80",color0:"#2ec7c9",lineStyle:{color:"#d87a80",color0:"#2ec7c9"}}}},scatter:{symbol:"circle",symbolSize:4},radar:{symbol:"emptyCircle",symbolSize:3},map:{itemStyle:{normal:{areaStyle:{color:"#ddd"},label:{textStyle:{color:"#d87a80"}}},emphasis:{areaStyle:{color:"#fe994e"}}}},force:{itemStyle:{normal:{linkStyle:{color:"#1e90ff"}}}},chord:{itemStyle:{normal:{borderWidth:1,borderColor:"rgba(128, 128, 128, 0.5)",chordStyle:{lineStyle:{color:"rgba(128, 128, 128, 0.5)"}}},emphasis:{borderWidth:1,borderColor:"rgba(128, 128, 128, 0.5)",chordStyle:{lineStyle:{color:"rgba(128, 128, 128, 0.5)"}}}}},gauge:{axisLine:{lineStyle:{color:[[.2,"#2ec7c9"],[.8,"#5ab1ef"],[1,"#d87a80"]],width:10}},axisTick:{splitNumber:10,length:15,lineStyle:{color:"auto"}},splitLine:{length:22,lineStyle:{color:"auto"}},pointer:{width:5}},textStyle:{fontFamily:"微软雅黑, Arial, Verdana, sans-serif"}};return C}),st("echarts/theme/infographic",[],function(){var C={color:["#C1232B","#B5C334","#FCCE10","#E87C25","#27727B","#FE8463","#9BCA63","#FAD860","#F3A43B","#60C0DD","#D7504B","#C6E579","#F4E001","#F0805A","#26C0C0"],title:{textStyle:{fontWeight:"normal",color:"#27727B"}},dataRange:{x:"right",y:"center",itemWidth:5,itemHeight:25,color:["#C1232B","#FCCE10"]},toolbox:{color:["#C1232B","#B5C334","#FCCE10","#E87C25","#27727B","#FE8463","#9BCA63","#FAD860","#F3A43B","#60C0DD"],effectiveColor:"#ff4500"},tooltip:{backgroundColor:"rgba(50,50,50,0.5)",axisPointer:{type:"line",lineStyle:{color:"#27727B",type:"dashed"},crossStyle:{color:"#27727B"},shadowStyle:{color:"rgba(200,200,200,0.3)"}}},dataZoom:{dataBackgroundColor:"rgba(181,195,52,0.3)",fillerColor:"rgba(181,195,52,0.2)",handleColor:"#27727B"},grid:{borderWidth:0},categoryAxis:{axisLine:{lineStyle:{color:"#27727B"}},splitLine:{show:!1}},valueAxis:{axisLine:{show:!1},splitArea:{show:!1},splitLine:{lineStyle:{color:["#ccc"],type:"dashed"}}},polar:{axisLine:{lineStyle:{color:"#ddd"}},splitArea:{show:!0,areaStyle:{color:["rgba(250,250,250,0.2)","rgba(200,200,200,0.2)"]}},splitLine:{lineStyle:{color:"#ddd"}}},timeline:{lineStyle:{color:"#27727B"},controlStyle:{normal:{color:"#27727B"},emphasis:{color:"#27727B"}},symbol:"emptyCircle",symbolSize:3},line:{itemStyle:{normal:{borderWidth:2,borderColor:"#fff",lineStyle:{width:3}},emphasis:{borderWidth:0}},symbol:"circle",symbolSize:3.5},k:{itemStyle:{normal:{color:"#C1232B",color0:"#B5C334",lineStyle:{width:1,color:"#C1232B",color0:"#B5C334"}}}},scatter:{itemStyle:{normal:{borderWidth:1,borderColor:"rgba(200,200,200,0.5)"},emphasis:{borderWidth:0}},symbol:"star4",symbolSize:4},radar:{symbol:"emptyCircle",symbolSize:3},map:{itemStyle:{normal:{areaStyle:{color:"#ddd"},label:{textStyle:{color:"#C1232B"}}},emphasis:{areaStyle:{color:"#fe994e"},label:{textStyle:{color:"rgb(100,0,0)"}}}}},force:{itemStyle:{normal:{linkStyle:{color:"#27727B"}}}},chord:{itemStyle:{normal:{borderWidth:1,borderColor:"rgba(128, 128, 128, 0.5)",chordStyle:{lineStyle:{color:"rgba(128, 128, 128, 0.5)"}}},emphasis:{borderWidth:1,borderColor:"rgba(128, 128, 128, 0.5)",chordStyle:{lineStyle:{color:"rgba(128, 128, 128, 0.5)"}}}}},gauge:{center:["50%","80%"],radius:"100%",startAngle:180,endAngle:0,axisLine:{show:!0,lineStyle:{color:[[.2,"#B5C334"],[.8,"#27727B"],[1,"#C1232B"]],width:"40%"}},axisTick:{splitNumber:2,length:5,lineStyle:{color:"#fff"}},axisLabel:{textStyle:{color:"#fff",fontWeight:"bolder"}},splitLine:{length:"5%",lineStyle:{color:"#fff"}},pointer:{width:"40%",length:"80%",color:"#fff"},title:{offsetCenter:[0,-20],textStyle:{color:"auto",fontSize:20}},detail:{offsetCenter:[0,0],textStyle:{color:"auto",fontSize:40}}},textStyle:{fontFamily:"微软雅黑, Arial, Verdana, sans-serif"}};return C}),st("zrender/dep/excanvas",["require"],function(){return document.createElement("canvas").getContext?G_vmlCanvasManager=!1:function(){function C(){return this.context_||(this.context_=new p(this))}function b(I,N){var Q=j.call(arguments,2);return function(){return I.apply(N,Q.concat(j.call(arguments)))}}function S(I){return String(I).replace(/&/g,"&amp;").replace(/"/g,"&quot;")}function y(I,N,Q){I.namespaces[N]||I.namespaces.add(N,Q,"#default#VML")}function g(I){if(y(I,"g_vml_","urn:schemas-microsoft-com:vml"),y(I,"g_o_","urn:schemas-microsoft-com:office:office"),!I.styleSheets.ex_canvas_){var N=I.createStyleSheet();N.owningElement.id="ex_canvas_",N.cssText="canvas{display:inline-block;overflow:hidden;text-align:left;width:300px;height:150px}"}}function _(I){var N=I.srcElement;switch(I.propertyName){case"width":N.getContext().clearRect(),N.style.width=N.attributes.width.nodeValue+"px",N.firstChild.style.width=N.clientWidth+"px";break;case"height":N.getContext().clearRect(),N.style.height=N.attributes.height.nodeValue+"px",N.firstChild.style.height=N.clientHeight+"px"}}function c(I){var N=I.srcElement;N.firstChild&&(N.firstChild.style.width=N.clientWidth+"px",N.firstChild.style.height=N.clientHeight+"px")}function d(){return[[1,0,0],[0,1,0],[0,0,1]]}function f(I,N){for(var Q=d(),K=0;3>K;K++)for(var B=0;3>B;B++){for(var Z=0,V=0;3>V;V++)Z+=I[K][V]*N[V][B];Q[K][B]=Z}return Q}function a(I,N){N.fillStyle=I.fillStyle,N.lineCap=I.lineCap,N.lineJoin=I.lineJoin,N.lineWidth=I.lineWidth,N.miterLimit=I.miterLimit,N.shadowBlur=I.shadowBlur,N.shadowColor=I.shadowColor,N.shadowOffsetX=I.shadowOffsetX,N.shadowOffsetY=I.shadowOffsetY,N.strokeStyle=I.strokeStyle,N.globalAlpha=I.globalAlpha,N.font=I.font,N.textAlign=I.textAlign,N.textBaseline=I.textBaseline,N.scaleX_=I.scaleX_,N.scaleY_=I.scaleY_,N.lineScale_=I.lineScale_}function h(I){var N=I.indexOf("(",3),Q=I.indexOf(")",N+1),K=I.substring(N+1,Q).split(",");return(K.length!=4||I.charAt(3)!="a")&&(K[3]=1),K}function n(I){return parseFloat(I)/100}function l(I,N,Q){return Math.min(Q,Math.max(N,I))}function i(I){var N,Q,K,B,Z,V;if(B=parseFloat(I[0])/360%360,0>B&&B++,Z=l(n(I[1]),0,1),V=l(n(I[2]),0,1),Z==0)N=Q=K=V;else{var q=.5>V?V*(1+Z):V+Z-V*Z,ot=2*V-q;N=e(ot,q,B+1/3),Q=e(ot,q,B),K=e(ot,q,B-1/3)}return"#"+$[Math.floor(255*N)]+$[Math.floor(255*Q)]+$[Math.floor(255*K)]}function e(I,N,Q){return 0>Q&&Q++,Q>1&&Q--,1>6*Q?I+6*(N-I)*Q:1>2*Q?N:2>3*Q?I+(N-I)*(2/3-Q)*6:I}function o(I){if(I in at)return at[I];var N,Q=1;if(I=String(I),I.charAt(0)=="#")N=I;else if(/^rgb/.test(I)){for(var K,B=h(I),N="#",Z=0;3>Z;Z++)K=B[Z].indexOf("%")!=-1?Math.floor(255*n(B[Z])):+B[Z],N+=$[l(K,0,255)];Q=+B[3]}else if(/^hsl/.test(I)){var B=h(I);N=i(B),Q=B[3]}else N=lt[I]||I;return at[I]={color:N,alpha:Q}}function s(I){if(X[I])return X[I];var N,Q=document.createElement("div"),K=Q.style;try{K.font=I,N=K.fontFamily.split(",")[0]}catch{}return X[I]={style:K.fontStyle||G.style,variant:K.fontVariant||G.variant,weight:K.fontWeight||G.weight,size:K.fontSize||G.size,family:N||G.family}}function u(I,N){var Q={};for(var K in I)Q[K]=I[K];var B=parseFloat(N.currentStyle.fontSize),Z=parseFloat(I.size);return Q.size=typeof I.size=="number"?I.size:I.size.indexOf("px")!=-1?Z:I.size.indexOf("em")!=-1?B*Z:I.size.indexOf("%")!=-1?B/100*Z:I.size.indexOf("pt")!=-1?Z/.75:B,Q}function t(I){return I.style+" "+I.variant+" "+I.weight+" "+I.size+"px '"+I.family+"'"}function r(I){return et[I]||"square"}function p(I){this.m_=d(),this.mStack_=[],this.aStack_=[],this.currentPath_=[],this.strokeStyle="#000",this.fillStyle="#000",this.lineWidth=1,this.lineJoin="miter",this.lineCap="butt",this.miterLimit=1*H,this.globalAlpha=1,this.font="12px 微软雅黑",this.textAlign="left",this.textBaseline="alphabetic",this.canvas=I;var N="width:"+I.clientWidth+"px;height:"+I.clientHeight+"px;overflow:hidden;position:absolute",Q=I.ownerDocument.createElement("div");Q.style.cssText=N,I.appendChild(Q);var K=Q.cloneNode(!1);K.style.backgroundColor="#fff",K.style.filter="alpha(opacity=0)",I.appendChild(K),this.element_=Q,this.scaleX_=1,this.scaleY_=1,this.lineScale_=1}function m(I,N,Q,K){I.currentPath_.push({type:"bezierCurveTo",cp1x:N.x,cp1y:N.y,cp2x:Q.x,cp2y:Q.y,x:K.x,y:K.y}),I.currentX_=K.x,I.currentY_=K.y}function x(I,N){var Q=o(I.strokeStyle),K=Q.color,B=Q.alpha*I.globalAlpha,Z=I.lineScale_*I.lineWidth;1>Z&&(B*=Z),N.push("<g_vml_:stroke",' opacity="',B,'"',' joinstyle="',I.lineJoin,'"',' miterlimit="',I.miterLimit,'"',' endcap="',r(I.lineCap),'"',' weight="',Z,'px"',' color="',K,'" />')}function T(I,N,Q,K){var B=I.fillStyle,Z=I.scaleX_,V=I.scaleY_,q=K.x-Q.x,ot=K.y-Q.y;if(B instanceof P){var nt=0,ct={x:0,y:0},ht=0,dt=1;if(B.type_=="gradient"){var ut=B.x0_/Z,pt=B.y0_/V,gt=B.x1_/Z,ft=B.y1_/V,mt=w(I,ut,pt),yt=w(I,gt,ft),vt=yt.x-mt.x,xt=yt.y-mt.y;nt=180*Math.atan2(vt,xt)/Math.PI,0>nt&&(nt+=360),1e-6>nt&&(nt=0)}else{var mt=w(I,B.x0_,B.y0_);ct={x:(mt.x-Q.x)/q,y:(mt.y-Q.y)/ot},q/=Z*H,ot/=V*H;var Tt=E.max(q,ot);ht=2*B.r0_/Tt,dt=2*B.r1_/Tt-ht}var _t=B.colors_;_t.sort(function(Dt,Rt){return Dt.offset-Rt.offset});for(var bt=_t.length,wt=_t[0].color,At=_t[bt-1].color,Lt=_t[0].alpha*I.globalAlpha,Mt=_t[bt-1].alpha*I.globalAlpha,zt=[],St=0;bt>St;St++){var Ct=_t[St];zt.push(Ct.offset*dt+ht+" "+Ct.color)}N.push('<g_vml_:fill type="',B.type_,'"',' method="none" focus="100%"',' color="',wt,'"',' color2="',At,'"',' colors="',zt.join(","),'"',' opacity="',Mt,'"',' g_o_:opacity2="',Lt,'"',' angle="',nt,'"',' focusposition="',ct.x,",",ct.y,'" />')}else if(B instanceof R){if(q&&ot){var kt=-Q.x,Ot=-Q.y;N.push("<g_vml_:fill",' position="',kt/q*Z*Z,",",Ot/ot*V*V,'"',' type="tile"',' src="',B.src_,'" />')}}else{var Et=o(I.fillStyle),Pt=Et.color,It=Et.alpha*I.globalAlpha;N.push('<g_vml_:fill color="',Pt,'" opacity="',It,'" />')}}function w(I,N,Q){var K=I.m_;return{x:H*(N*K[0][0]+Q*K[1][0]+K[2][0])-Y,y:H*(N*K[0][1]+Q*K[1][1]+K[2][1])-Y}}function L(I){return isFinite(I[0][0])&&isFinite(I[0][1])&&isFinite(I[1][0])&&isFinite(I[1][1])&&isFinite(I[2][0])&&isFinite(I[2][1])}function M(I,N,Q){if(L(N)&&(I.m_=N,I.scaleX_=Math.sqrt(N[0][0]*N[0][0]+N[0][1]*N[0][1]),I.scaleY_=Math.sqrt(N[1][0]*N[1][0]+N[1][1]*N[1][1]),Q)){var K=N[0][0]*N[1][1]-N[0][1]*N[1][0];I.lineScale_=D(O(K))}}function P(I){this.type_=I,this.x0_=0,this.y0_=0,this.r0_=0,this.x1_=0,this.y1_=0,this.r1_=0,this.colors_=[]}function R(I,N){switch(F(I),N){case"repeat":case null:case"":this.repetition_="repeat";break;case"repeat-x":case"repeat-y":case"no-repeat":this.repetition_=N;break;default:W("SYNTAX_ERR")}this.src_=I.src,this.width_=I.width,this.height_=I.height}function W(I){throw new v(I)}function F(I){I&&I.nodeType==1&&I.tagName=="IMG"||W("TYPE_MISMATCH_ERR"),I.readyState!="complete"&&W("INVALID_STATE_ERR")}function v(I){this.code=this[I],this.message=I+": DOM Exception "+this.code}var E=Math,z=E.round,k=E.sin,A=E.cos,O=E.abs,D=E.sqrt,H=10,Y=H/2,j=(+navigator.userAgent.match(/MSIE ([\d.]+)?/)[1],Array.prototype.slice);g(document);var U={init:function(I){var N=I||document;N.createElement("canvas"),N.attachEvent("onreadystatechange",b(this.init_,this,N))},init_:function(I){for(var N=I.getElementsByTagName("canvas"),Q=0;Q<N.length;Q++)this.initElement(N[Q])},initElement:function(I){if(!I.getContext){I.getContext=C,g(I.ownerDocument),I.innerHTML="",I.attachEvent("onpropertychange",_),I.attachEvent("onresize",c);var N=I.attributes;N.width&&N.width.specified?I.style.width=N.width.nodeValue+"px":I.width=I.clientWidth,N.height&&N.height.specified?I.style.height=N.height.nodeValue+"px":I.height=I.clientHeight}return I}};U.init();for(var $=[],it=0;16>it;it++)for(var rt=0;16>rt;rt++)$[16*it+rt]=it.toString(16)+rt.toString(16);var lt={aliceblue:"#F0F8FF",antiquewhite:"#FAEBD7",aquamarine:"#7FFFD4",azure:"#F0FFFF",beige:"#F5F5DC",bisque:"#FFE4C4",black:"#000000",blanchedalmond:"#FFEBCD",blueviolet:"#8A2BE2",brown:"#A52A2A",burlywood:"#DEB887",cadetblue:"#5F9EA0",chartreuse:"#7FFF00",chocolate:"#D2691E",coral:"#FF7F50",cornflowerblue:"#6495ED",cornsilk:"#FFF8DC",crimson:"#DC143C",cyan:"#00FFFF",darkblue:"#00008B",darkcyan:"#008B8B",darkgoldenrod:"#B8860B",darkgray:"#A9A9A9",darkgreen:"#006400",darkgrey:"#A9A9A9",darkkhaki:"#BDB76B",darkmagenta:"#8B008B",darkolivegreen:"#556B2F",darkorange:"#FF8C00",darkorchid:"#9932CC",darkred:"#8B0000",darksalmon:"#E9967A",darkseagreen:"#8FBC8F",darkslateblue:"#483D8B",darkslategray:"#2F4F4F",darkslategrey:"#2F4F4F",darkturquoise:"#00CED1",darkviolet:"#9400D3",deeppink:"#FF1493",deepskyblue:"#00BFFF",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1E90FF",firebrick:"#B22222",floralwhite:"#FFFAF0",forestgreen:"#228B22",gainsboro:"#DCDCDC",ghostwhite:"#F8F8FF",gold:"#FFD700",goldenrod:"#DAA520",grey:"#808080",greenyellow:"#ADFF2F",honeydew:"#F0FFF0",hotpink:"#FF69B4",indianred:"#CD5C5C",indigo:"#4B0082",ivory:"#FFFFF0",khaki:"#F0E68C",lavender:"#E6E6FA",lavenderblush:"#FFF0F5",lawngreen:"#7CFC00",lemonchiffon:"#FFFACD",lightblue:"#ADD8E6",lightcoral:"#F08080",lightcyan:"#E0FFFF",lightgoldenrodyellow:"#FAFAD2",lightgreen:"#90EE90",lightgrey:"#D3D3D3",lightpink:"#FFB6C1",lightsalmon:"#FFA07A",lightseagreen:"#20B2AA",lightskyblue:"#87CEFA",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#B0C4DE",lightyellow:"#FFFFE0",limegreen:"#32CD32",linen:"#FAF0E6",magenta:"#FF00FF",mediumaquamarine:"#66CDAA",mediumblue:"#0000CD",mediumorchid:"#BA55D3",mediumpurple:"#9370DB",mediumseagreen:"#3CB371",mediumslateblue:"#7B68EE",mediumspringgreen:"#00FA9A",mediumturquoise:"#48D1CC",mediumvioletred:"#C71585",midnightblue:"#191970",mintcream:"#F5FFFA",mistyrose:"#FFE4E1",moccasin:"#FFE4B5",navajowhite:"#FFDEAD",oldlace:"#FDF5E6",olivedrab:"#6B8E23",orange:"#FFA500",orangered:"#FF4500",orchid:"#DA70D6",palegoldenrod:"#EEE8AA",palegreen:"#98FB98",paleturquoise:"#AFEEEE",palevioletred:"#DB7093",papayawhip:"#FFEFD5",peachpuff:"#FFDAB9",peru:"#CD853F",pink:"#FFC0CB",plum:"#DDA0DD",powderblue:"#B0E0E6",rosybrown:"#BC8F8F",royalblue:"#4169E1",saddlebrown:"#8B4513",salmon:"#FA8072",sandybrown:"#F4A460",seagreen:"#2E8B57",seashell:"#FFF5EE",sienna:"#A0522D",skyblue:"#87CEEB",slateblue:"#6A5ACD",slategray:"#708090",slategrey:"#708090",snow:"#FFFAFA",springgreen:"#00FF7F",steelblue:"#4682B4",tan:"#D2B48C",thistle:"#D8BFD8",tomato:"#FF6347",turquoise:"#40E0D0",violet:"#EE82EE",wheat:"#F5DEB3",whitesmoke:"#F5F5F5",yellowgreen:"#9ACD32"},at={},G={style:"normal",variant:"normal",weight:"normal",size:12,family:"微软雅黑"},X={},et={butt:"flat",round:"round"},J=p.prototype;J.clearRect=function(){this.textMeasureEl_&&(this.textMeasureEl_.removeNode(!0),this.textMeasureEl_=null),this.element_.innerHTML=""},J.beginPath=function(){this.currentPath_=[]},J.moveTo=function(I,N){var Q=w(this,I,N);this.currentPath_.push({type:"moveTo",x:Q.x,y:Q.y}),this.currentX_=Q.x,this.currentY_=Q.y},J.lineTo=function(I,N){var Q=w(this,I,N);this.currentPath_.push({type:"lineTo",x:Q.x,y:Q.y}),this.currentX_=Q.x,this.currentY_=Q.y},J.bezierCurveTo=function(I,N,Q,K,B,Z){var V=w(this,B,Z),q=w(this,I,N),ot=w(this,Q,K);m(this,q,ot,V)},J.quadraticCurveTo=function(I,N,Q,K){var B=w(this,I,N),Z=w(this,Q,K),V={x:this.currentX_+2/3*(B.x-this.currentX_),y:this.currentY_+2/3*(B.y-this.currentY_)},q={x:V.x+(Z.x-this.currentX_)/3,y:V.y+(Z.y-this.currentY_)/3};m(this,V,q,Z)},J.arc=function(I,N,Q,K,B,Z){Q*=H;var V=Z?"at":"wa",q=I+A(K)*Q-Y,ot=N+k(K)*Q-Y,nt=I+A(B)*Q-Y,ct=N+k(B)*Q-Y;q!=nt||Z||(q+=.125);var ht=w(this,I,N),dt=w(this,q,ot),ut=w(this,nt,ct);this.currentPath_.push({type:V,x:ht.x,y:ht.y,radius:Q,xStart:dt.x,yStart:dt.y,xEnd:ut.x,yEnd:ut.y})},J.rect=function(I,N,Q,K){this.moveTo(I,N),this.lineTo(I+Q,N),this.lineTo(I+Q,N+K),this.lineTo(I,N+K),this.closePath()},J.strokeRect=function(I,N,Q,K){var B=this.currentPath_;this.beginPath(),this.moveTo(I,N),this.lineTo(I+Q,N),this.lineTo(I+Q,N+K),this.lineTo(I,N+K),this.closePath(),this.stroke(),this.currentPath_=B},J.fillRect=function(I,N,Q,K){var B=this.currentPath_;this.beginPath(),this.moveTo(I,N),this.lineTo(I+Q,N),this.lineTo(I+Q,N+K),this.lineTo(I,N+K),this.closePath(),this.fill(),this.currentPath_=B},J.createLinearGradient=function(I,N,Q,K){var B=new P("gradient");return B.x0_=I,B.y0_=N,B.x1_=Q,B.y1_=K,B},J.createRadialGradient=function(I,N,Q,K,B,Z){var V=new P("gradientradial");return V.x0_=I,V.y0_=N,V.r0_=Q,V.x1_=K,V.y1_=B,V.r1_=Z,V},J.drawImage=function(I){var N,Q,K,B,Z,V,q,ot,nt=I.runtimeStyle.width,ct=I.runtimeStyle.height;I.runtimeStyle.width="auto",I.runtimeStyle.height="auto";var ht=I.width,dt=I.height;if(I.runtimeStyle.width=nt,I.runtimeStyle.height=ct,arguments.length==3)N=arguments[1],Q=arguments[2],Z=V=0,q=K=ht,ot=B=dt;else if(arguments.length==5)N=arguments[1],Q=arguments[2],K=arguments[3],B=arguments[4],Z=V=0,q=ht,ot=dt;else{if(arguments.length!=9)throw Error("Invalid number of arguments");Z=arguments[1],V=arguments[2],q=arguments[3],ot=arguments[4],N=arguments[5],Q=arguments[6],K=arguments[7],B=arguments[8]}var ut=w(this,N,Q),pt=[],gt=10,ft=10,mt=vt=1;if(pt.push(" <g_vml_:group",' coordsize="',H*gt,",",H*ft,'"',' coordorigin="0,0"',' style="width:',gt,"px;height:",ft,"px;position:absolute;"),this.m_[0][0]!=1||this.m_[0][1]||this.m_[1][1]!=1||this.m_[1][0]){var yt=[],mt=this.scaleX_,vt=this.scaleY_;yt.push("M11=",this.m_[0][0]/mt,",","M12=",this.m_[1][0]/vt,",","M21=",this.m_[0][1]/mt,",","M22=",this.m_[1][1]/vt,",","Dx=",z(ut.x/H),",","Dy=",z(ut.y/H),"");var xt=ut,Tt=w(this,N+K,Q),_t=w(this,N,Q+B),bt=w(this,N+K,Q+B);xt.x=E.max(xt.x,Tt.x,_t.x,bt.x),xt.y=E.max(xt.y,Tt.y,_t.y,bt.y),pt.push("padding:0 ",z(xt.x/H),"px ",z(xt.y/H),"px 0;filter:progid:DXImageTransform.Microsoft.Matrix(",yt.join(""),", SizingMethod='clip');")}else pt.push("top:",z(ut.y/H),"px;left:",z(ut.x/H),"px;");pt.push(' ">'),(Z||V)&&pt.push('<div style="overflow: hidden; width:',Math.ceil((K+Z*K/q)*mt),"px;"," height:",Math.ceil((B+V*B/ot)*vt),"px;"," filter:progid:DxImageTransform.Microsoft.Matrix(Dx=",-Z*K/q*mt,",Dy=",-V*B/ot*vt,');">'),pt.push('<div style="width:',Math.round(mt*ht*K/q),"px;"," height:",Math.round(vt*dt*B/ot),"px;"," filter:"),this.globalAlpha<1&&pt.push(" progid:DXImageTransform.Microsoft.Alpha(opacity="+100*this.globalAlpha+")"),pt.push(" progid:DXImageTransform.Microsoft.AlphaImageLoader(src=",I.src,',sizingMethod=scale)">'),(Z||V)&&pt.push("</div>"),pt.push("</div></div>"),this.element_.insertAdjacentHTML("BeforeEnd",pt.join(""))},J.stroke=function(I){var N=[],Q=10,K=10;N.push("<g_vml_:shape",' filled="',!!I,'"',' style="position:absolute;width:',Q,"px;height:",K,'px;"',' coordorigin="0,0"',' coordsize="',H*Q,",",H*K,'"',' stroked="',!I,'"',' path="');for(var B={x:null,y:null},Z={x:null,y:null},V=0;V<this.currentPath_.length;V++){var q=this.currentPath_[V];switch(q.type){case"moveTo":N.push(" m ",z(q.x),",",z(q.y));break;case"lineTo":N.push(" l ",z(q.x),",",z(q.y));break;case"close":N.push(" x "),q=null;break;case"bezierCurveTo":N.push(" c ",z(q.cp1x),",",z(q.cp1y),",",z(q.cp2x),",",z(q.cp2y),",",z(q.x),",",z(q.y));break;case"at":case"wa":N.push(" ",q.type," ",z(q.x-this.scaleX_*q.radius),",",z(q.y-this.scaleY_*q.radius)," ",z(q.x+this.scaleX_*q.radius),",",z(q.y+this.scaleY_*q.radius)," ",z(q.xStart),",",z(q.yStart)," ",z(q.xEnd),",",z(q.yEnd))}q&&((B.x==null||q.x<B.x)&&(B.x=q.x),(Z.x==null||q.x>Z.x)&&(Z.x=q.x),(B.y==null||q.y<B.y)&&(B.y=q.y),(Z.y==null||q.y>Z.y)&&(Z.y=q.y))}N.push(' ">'),I?T(this,N,B,Z):x(this,N),N.push("</g_vml_:shape>"),this.element_.insertAdjacentHTML("beforeEnd",N.join(""))},J.fill=function(){this.stroke(!0)},J.closePath=function(){this.currentPath_.push({type:"close"})},J.save=function(){var I={};a(this,I),this.aStack_.push(I),this.mStack_.push(this.m_),this.m_=f(d(),this.m_)},J.restore=function(){this.aStack_.length&&(a(this.aStack_.pop(),this),this.m_=this.mStack_.pop())},J.translate=function(I,N){var Q=[[1,0,0],[0,1,0],[I,N,1]];M(this,f(Q,this.m_),!1)},J.rotate=function(I){var N=A(I),Q=k(I),K=[[N,Q,0],[-Q,N,0],[0,0,1]];M(this,f(K,this.m_),!1)},J.scale=function(I,N){var Q=[[I,0,0],[0,N,0],[0,0,1]];M(this,f(Q,this.m_),!0)},J.transform=function(I,N,Q,K,B,Z){var V=[[I,N,0],[Q,K,0],[B,Z,1]];M(this,f(V,this.m_),!0)},J.setTransform=function(I,N,Q,K,B,Z){var V=[[I,N,0],[Q,K,0],[B,Z,1]];M(this,V,!0)},J.drawText_=function(I,N,Q,K,B){var Z=this.m_,V=1e3,q=0,ot=V,nt={x:0,y:0},ct=[],ht=u(s(this.font),this.element_),dt=t(ht),ut=this.element_.currentStyle,pt=this.textAlign.toLowerCase();switch(pt){case"left":case"center":case"right":break;case"end":pt=ut.direction=="ltr"?"right":"left";break;case"start":pt=ut.direction=="rtl"?"right":"left";break;default:pt="left"}switch(this.textBaseline){case"hanging":case"top":nt.y=ht.size/1.75;break;case"middle":break;default:case null:case"alphabetic":case"ideographic":case"bottom":nt.y=-ht.size/2.25}switch(pt){case"right":q=V,ot=.05;break;case"center":q=ot=V/2}var gt=w(this,N+nt.x,Q+nt.y);ct.push('<g_vml_:line from="',-q,' 0" to="',ot,' 0.05" ',' coordsize="100 100" coordorigin="0 0"',' filled="',!B,'" stroked="',!!B,'" style="position:absolute;width:1px;height:1px;">'),B?x(this,ct):T(this,ct,{x:-q,y:0},{x:ot,y:ht.size});var ft=Z[0][0].toFixed(3)+","+Z[1][0].toFixed(3)+","+Z[0][1].toFixed(3)+","+Z[1][1].toFixed(3)+",0,0",mt=z(gt.x/H)+","+z(gt.y/H);ct.push('<g_vml_:skew on="t" matrix="',ft,'" ',' offset="',mt,'" origin="',q,' 0" />','<g_vml_:path textpathok="true" />','<g_vml_:textpath on="true" string="',S(I),'" style="v-text-align:',pt,";font:",S(dt),'" /></g_vml_:line>'),this.element_.insertAdjacentHTML("beforeEnd",ct.join(""))},J.fillText=function(I,N,Q,K){this.drawText_(I,N,Q,K,!1)},J.strokeText=function(I,N,Q,K){this.drawText_(I,N,Q,K,!0)},J.measureText=function(I){if(!this.textMeasureEl_){var N='<span style="position:absolute;top:-20000px;left:0;padding:0;margin:0;border:none;white-space:pre;"></span>';this.element_.insertAdjacentHTML("beforeEnd",N),this.textMeasureEl_=this.element_.lastChild}var Q=this.element_.ownerDocument;this.textMeasureEl_.innerHTML="";try{this.textMeasureEl_.style.font=this.font}catch{}return this.textMeasureEl_.appendChild(Q.createTextNode(I)),{width:this.textMeasureEl_.offsetWidth}},J.clip=function(){},J.arcTo=function(){},J.createPattern=function(I,N){return new R(I,N)},P.prototype.addColorStop=function(I,N){N=o(N),this.colors_.push({offset:I,color:N.color,alpha:N.alpha})};var tt=v.prototype=new Error;tt.INDEX_SIZE_ERR=1,tt.DOMSTRING_SIZE_ERR=2,tt.HIERARCHY_REQUEST_ERR=3,tt.WRONG_DOCUMENT_ERR=4,tt.INVALID_CHARACTER_ERR=5,tt.NO_DATA_ALLOWED_ERR=6,tt.NO_MODIFICATION_ALLOWED_ERR=7,tt.NOT_FOUND_ERR=8,tt.NOT_SUPPORTED_ERR=9,tt.INUSE_ATTRIBUTE_ERR=10,tt.INVALID_STATE_ERR=11,tt.SYNTAX_ERR=12,tt.INVALID_MODIFICATION_ERR=13,tt.NAMESPACE_ERR=14,tt.INVALID_ACCESS_ERR=15,tt.VALIDATION_ERR=16,tt.TYPE_MISMATCH_ERR=17,G_vmlCanvasManager=U,CanvasRenderingContext2D=p,CanvasGradient=P,CanvasPattern=R,DOMException=v}(),G_vmlCanvasManager}),st("zrender/mixin/Eventful",["require"],function(){var C=function(){this._handlers={}};return C.prototype.one=function(b,S,y){var g=this._handlers;return S&&b?(g[b]||(g[b]=[]),g[b].push({h:S,one:!0,ctx:y||this}),this):this},C.prototype.bind=function(b,S,y){var g=this._handlers;return S&&b?(g[b]||(g[b]=[]),g[b].push({h:S,one:!1,ctx:y||this}),this):this},C.prototype.unbind=function(b,S){var y=this._handlers;if(!b)return this._handlers={},this;if(S){if(y[b]){for(var g=[],_=0,c=y[b].length;c>_;_++)y[b][_].h!=S&&g.push(y[b][_]);y[b]=g}y[b]&&y[b].length===0&&delete y[b]}else delete y[b];return this},C.prototype.dispatch=function(b){if(this._handlers[b]){var S=arguments,y=S.length;y>3&&(S=Array.prototype.slice.call(S,1));for(var g=this._handlers[b],_=g.length,c=0;_>c;){switch(y){case 1:g[c].h.call(g[c].ctx);break;case 2:g[c].h.call(g[c].ctx,S[1]);break;case 3:g[c].h.call(g[c].ctx,S[1],S[2]);break;default:g[c].h.apply(g[c].ctx,S)}g[c].one?(g.splice(c,1),_--):c++}}return this},C.prototype.dispatchWithContext=function(b){if(this._handlers[b]){var S=arguments,y=S.length;y>4&&(S=Array.prototype.slice.call(S,1,S.length-1));for(var g=S[S.length-1],_=this._handlers[b],c=_.length,d=0;c>d;){switch(y){case 1:_[d].h.call(g);break;case 2:_[d].h.call(g,S[1]);break;case 3:_[d].h.call(g,S[1],S[2]);break;default:_[d].h.apply(g,S)}_[d].one?(_.splice(d,1),c--):d++}}return this},C}),st("zrender/tool/log",["require","../config"],function(C){var b=C("../config");return function(){if(b.debugMode!==0){if(b.debugMode==1)for(var S in arguments)throw new Error(arguments[S]);else if(b.debugMode>1)for(var S in arguments)console.log(arguments[S])}}}),st("zrender/tool/guid",[],function(){var C=2311;return function(){return"zrender__"+C++}}),st("zrender/Handler",["require","./config","./tool/env","./tool/event","./tool/util","./tool/vector","./tool/matrix","./mixin/Eventful"],function(C){function b(t,r){return function(p,m){return t.call(r,p,m)}}function S(t,r){return function(p,m,x){return t.call(r,p,m,x)}}function y(t){for(var r=i.length;r--;){var p=i[r];t["_"+p+"Handler"]=b(o[p],t)}}function g(t,r,p){if(this._draggingTarget&&this._draggingTarget.id==t.id||t.isSilent())return!1;var m=this._event;if(t.isCover(r,p)){t.hoverable&&this.storage.addHover(t);for(var x=t.parent;x;){if(x.clipShape&&!x.clipShape.isCover(this._mouseX,this._mouseY))return!1;x=x.parent}return this._lastHover!=t&&(this._processOutShape(m),this._processDragLeave(m),this._lastHover=t,this._processDragEnter(m)),this._processOverShape(m),this._processDragOver(m),this._hasfound=1,!0}return!1}var _=C("./config"),c=C("./tool/env"),d=C("./tool/event"),f=C("./tool/util"),a=C("./tool/vector"),h=C("./tool/matrix"),n=_.EVENT,l=C("./mixin/Eventful"),i=["resize","click","dblclick","mousewheel","mousemove","mouseout","mouseup","mousedown","touchstart","touchend","touchmove"],e=function(t){if(window.G_vmlCanvasManager)return!0;t=t||window.event;var r=t.toElement||t.relatedTarget||t.srcElement||t.target;return r&&r.className.match(_.elementClassName)},o={resize:function(t){t=t||window.event,this._lastHover=null,this._isMouseDown=0,this.dispatch(n.RESIZE,t)},click:function(t,r){if(e(t)||r){t=this._zrenderEventFixed(t);var p=this._lastHover;(p&&p.clickable||!p)&&this._clickThreshold<5&&this._dispatchAgency(p,n.CLICK,t),this._mousemoveHandler(t)}},dblclick:function(t,r){if(e(t)||r){t=t||window.event,t=this._zrenderEventFixed(t);var p=this._lastHover;(p&&p.clickable||!p)&&this._clickThreshold<5&&this._dispatchAgency(p,n.DBLCLICK,t),this._mousemoveHandler(t)}},mousewheel:function(t,r){if(e(t)||r){t=this._zrenderEventFixed(t);var p=t.wheelDelta||-t.detail,m=p>0?1.1:1/1.1,x=!1,T=this._mouseX,w=this._mouseY;this.painter.eachBuildinLayer(function(L){var M=L.position;if(L.zoomable){L.__zoom=L.__zoom||1;var P=L.__zoom;P*=m,P=Math.max(Math.min(L.maxZoom,P),L.minZoom),m=P/L.__zoom,L.__zoom=P,M[0]-=(T-M[0])*(m-1),M[1]-=(w-M[1])*(m-1),L.scale[0]*=m,L.scale[1]*=m,L.dirty=!0,x=!0,d.stop(t)}}),x&&this.painter.refresh(),this._dispatchAgency(this._lastHover,n.MOUSEWHEEL,t),this._mousemoveHandler(t)}},mousemove:function(t,r){if((e(t)||r)&&!this.painter.isLoading()){t=this._zrenderEventFixed(t),this._lastX=this._mouseX,this._lastY=this._mouseY,this._mouseX=d.getX(t),this._mouseY=d.getY(t);var p=this._mouseX-this._lastX,m=this._mouseY-this._lastY;this._processDragStart(t),this._hasfound=0,this._event=t,this._iterateAndFindHover(),this._hasfound||((!this._draggingTarget||this._lastHover&&this._lastHover!=this._draggingTarget)&&(this._processOutShape(t),this._processDragLeave(t)),this._lastHover=null,this.storage.delHover(),this.painter.clearHover());var x="default";if(this._draggingTarget)this.storage.drift(this._draggingTarget.id,p,m),this._draggingTarget.modSelf(),this.storage.addHover(this._draggingTarget),this._clickThreshold++;else if(this._isMouseDown){var T=!1;this.painter.eachBuildinLayer(function(w){w.panable&&(x="move",w.position[0]+=p,w.position[1]+=m,T=!0,w.dirty=!0)}),T&&this.painter.refresh()}this._draggingTarget||this._hasfound&&this._lastHover.draggable?x="move":this._hasfound&&this._lastHover.clickable&&(x="pointer"),this.root.style.cursor=x,this._dispatchAgency(this._lastHover,n.MOUSEMOVE,t),(this._draggingTarget||this._hasfound||this.storage.hasHoverShape())&&this.painter.refreshHover()}},mouseout:function(t,r){if(e(t)||r){t=this._zrenderEventFixed(t);var p=t.toElement||t.relatedTarget;if(p!=this.root)for(;p&&p.nodeType!=9;){if(p==this.root)return void this._mousemoveHandler(t);p=p.parentNode}t.zrenderX=this._lastX,t.zrenderY=this._lastY,this.root.style.cursor="default",this._isMouseDown=0,this._processOutShape(t),this._processDrop(t),this._processDragEnd(t),this.painter.isLoading()||this.painter.refreshHover(),this.dispatch(n.GLOBALOUT,t)}},mousedown:function(t,r){if(e(t)||r){if(this._clickThreshold=0,this._lastDownButton==2)return this._lastDownButton=t.button,void(this._mouseDownTarget=null);this._lastMouseDownMoment=new Date,t=this._zrenderEventFixed(t),this._isMouseDown=1,this._mouseDownTarget=this._lastHover,this._dispatchAgency(this._lastHover,n.MOUSEDOWN,t),this._lastDownButton=t.button}},mouseup:function(t,r){(e(t)||r)&&(t=this._zrenderEventFixed(t),this.root.style.cursor="default",this._isMouseDown=0,this._mouseDownTarget=null,this._dispatchAgency(this._lastHover,n.MOUSEUP,t),this._processDrop(t),this._processDragEnd(t))},touchstart:function(t,r){(e(t)||r)&&(t=this._zrenderEventFixed(t,!0),this._lastTouchMoment=new Date,this._mobileFindFixed(t),this._mousedownHandler(t))},touchmove:function(t,r){(e(t)||r)&&(t=this._zrenderEventFixed(t,!0),this._mousemoveHandler(t),this._isDragging&&d.stop(t))},touchend:function(t,r){if(e(t)||r){t=this._zrenderEventFixed(t,!0),this._mouseupHandler(t);var p=new Date;p-this._lastTouchMoment<n.touchClickDelay&&(this._mobileFindFixed(t),this._clickHandler(t),p-this._lastClickMoment<n.touchClickDelay/2&&(this._dblclickHandler(t),this._lastHover&&this._lastHover.clickable&&d.stop(t)),this._lastClickMoment=p),this.painter.clearHover()}}},s=function(t,r,p){l.call(this),this.root=t,this.storage=r,this.painter=p,this._lastX=this._lastY=this._mouseX=this._mouseY=0,this._findHover=S(g,this),this._domHover=p.getDomHover(),y(this),window.addEventListener?(window.addEventListener("resize",this._resizeHandler),c.os.tablet||c.os.phone?(t.addEventListener("touchstart",this._touchstartHandler),t.addEventListener("touchmove",this._touchmoveHandler),t.addEventListener("touchend",this._touchendHandler)):(t.addEventListener("click",this._clickHandler),t.addEventListener("dblclick",this._dblclickHandler),t.addEventListener("mousewheel",this._mousewheelHandler),t.addEventListener("mousemove",this._mousemoveHandler),t.addEventListener("mousedown",this._mousedownHandler),t.addEventListener("mouseup",this._mouseupHandler)),t.addEventListener("DOMMouseScroll",this._mousewheelHandler),t.addEventListener("mouseout",this._mouseoutHandler)):(window.attachEvent("onresize",this._resizeHandler),t.attachEvent("onclick",this._clickHandler),t.ondblclick=this._dblclickHandler,t.attachEvent("onmousewheel",this._mousewheelHandler),t.attachEvent("onmousemove",this._mousemoveHandler),t.attachEvent("onmouseout",this._mouseoutHandler),t.attachEvent("onmousedown",this._mousedownHandler),t.attachEvent("onmouseup",this._mouseupHandler))};s.prototype.on=function(t,r,p){return this.bind(t,r,p),this},s.prototype.un=function(t,r){return this.unbind(t,r),this},s.prototype.trigger=function(t,r){switch(t){case n.RESIZE:case n.CLICK:case n.DBLCLICK:case n.MOUSEWHEEL:case n.MOUSEMOVE:case n.MOUSEDOWN:case n.MOUSEUP:case n.MOUSEOUT:this["_"+t+"Handler"](r,!0)}},s.prototype.dispose=function(){var t=this.root;window.removeEventListener?(window.removeEventListener("resize",this._resizeHandler),c.os.tablet||c.os.phone?(t.removeEventListener("touchstart",this._touchstartHandler),t.removeEventListener("touchmove",this._touchmoveHandler),t.removeEventListener("touchend",this._touchendHandler)):(t.removeEventListener("click",this._clickHandler),t.removeEventListener("dblclick",this._dblclickHandler),t.removeEventListener("mousewheel",this._mousewheelHandler),t.removeEventListener("mousemove",this._mousemoveHandler),t.removeEventListener("mousedown",this._mousedownHandler),t.removeEventListener("mouseup",this._mouseupHandler)),t.removeEventListener("DOMMouseScroll",this._mousewheelHandler),t.removeEventListener("mouseout",this._mouseoutHandler)):(window.detachEvent("onresize",this._resizeHandler),t.detachEvent("onclick",this._clickHandler),t.detachEvent("dblclick",this._dblclickHandler),t.detachEvent("onmousewheel",this._mousewheelHandler),t.detachEvent("onmousemove",this._mousemoveHandler),t.detachEvent("onmouseout",this._mouseoutHandler),t.detachEvent("onmousedown",this._mousedownHandler),t.detachEvent("onmouseup",this._mouseupHandler)),this.root=this._domHover=this.storage=this.painter=null,this.un()},s.prototype._processDragStart=function(t){var r=this._lastHover;if(this._isMouseDown&&r&&r.draggable&&!this._draggingTarget&&this._mouseDownTarget==r){if(r.dragEnableTime&&new Date-this._lastMouseDownMoment<r.dragEnableTime)return;var p=r;this._draggingTarget=p,this._isDragging=1,p.invisible=!0,this.storage.mod(p.id),this._dispatchAgency(p,n.DRAGSTART,t),this.painter.refresh()}},s.prototype._processDragEnter=function(t){this._draggingTarget&&this._dispatchAgency(this._lastHover,n.DRAGENTER,t,this._draggingTarget)},s.prototype._processDragOver=function(t){this._draggingTarget&&this._dispatchAgency(this._lastHover,n.DRAGOVER,t,this._draggingTarget)},s.prototype._processDragLeave=function(t){this._draggingTarget&&this._dispatchAgency(this._lastHover,n.DRAGLEAVE,t,this._draggingTarget)},s.prototype._processDrop=function(t){this._draggingTarget&&(this._draggingTarget.invisible=!1,this.storage.mod(this._draggingTarget.id),this.painter.refresh(),this._dispatchAgency(this._lastHover,n.DROP,t,this._draggingTarget))},s.prototype._processDragEnd=function(t){this._draggingTarget&&(this._dispatchAgency(this._draggingTarget,n.DRAGEND,t),this._lastHover=null),this._isDragging=0,this._draggingTarget=null},s.prototype._processOverShape=function(t){this._dispatchAgency(this._lastHover,n.MOUSEOVER,t)},s.prototype._processOutShape=function(t){this._dispatchAgency(this._lastHover,n.MOUSEOUT,t)},s.prototype._dispatchAgency=function(t,r,p,m){var x="on"+r,T={type:r,event:p,target:t,cancelBubble:!1},w=t;for(m&&(T.dragged=m);w&&(w[x]&&(T.cancelBubble=w[x](T)),w.dispatch(r,T),w=w.parent,!T.cancelBubble););if(t)T.cancelBubble||this.dispatch(r,T);else if(!m){var L={type:r,event:p};this.dispatch(r,L),this.painter.eachOtherLayer(function(M){typeof M[x]=="function"&&M[x](L),M.dispatch&&M.dispatch(r,L)})}},s.prototype._iterateAndFindHover=function(){var t=h.create();return function(){for(var r,p,m=this.storage.getShapeList(),x=[0,0],T=m.length-1;T>=0;T--){var w=m[T];if(r!==w.zlevel&&(p=this.painter.getLayer(w.zlevel,p),x[0]=this._mouseX,x[1]=this._mouseY,p.needTransform&&(h.invert(t,p.transform),a.applyTransform(x,x,t))),this._findHover(w,x[0],x[1]))break}}}();var u=[{x:10},{x:-20},{x:10,y:10},{y:-20}];return s.prototype._mobileFindFixed=function(t){this._lastHover=null,this._mouseX=t.zrenderX,this._mouseY=t.zrenderY,this._event=t,this._iterateAndFindHover();for(var r=0;!this._lastHover&&r<u.length;r++){var p=u[r];p.x&&(this._mouseX+=p.x),p.y&&(this._mouseY+=p.y),this._iterateAndFindHover()}this._lastHover&&(t.zrenderX=this._mouseX,t.zrenderY=this._mouseY)},s.prototype._zrenderEventFixed=function(t,r){if(t.zrenderFixed)return t;if(r){var p=t.type!="touchend"?t.targetTouches[0]:t.changedTouches[0];if(p){var m=this.painter._domRoot.getBoundingClientRect();t.zrenderX=p.clientX-m.left,t.zrenderY=p.clientY-m.top}}else{t=t||window.event;var x=t.toElement||t.relatedTarget||t.srcElement||t.target;x&&x!=this._domHover&&(t.zrenderX=(typeof t.offsetX<"u"?t.offsetX:t.layerX)+x.offsetLeft,t.zrenderY=(typeof t.offsetY<"u"?t.offsetY:t.layerY)+x.offsetTop)}return t.zrenderFixed=1,t},f.merge(s.prototype,l.prototype,!0),s}),st("zrender/Painter",["require","./config","./tool/util","./tool/log","./loadingEffect/Base","./Layer","./shape/Image"],function(C){function b(){return!1}function S(){}function y(h){return h?h.isBuildin?!0:!(typeof h.resize!="function"||typeof h.refresh!="function"):!1}var g=C("./config"),_=C("./tool/util"),c=C("./tool/log"),d=C("./loadingEffect/Base"),f=C("./Layer"),a=function(h,n){this.root=h,h.style["-webkit-tap-highlight-color"]="transparent",h.style["-webkit-user-select"]="none",h.style["user-select"]="none",h.style["-webkit-touch-callout"]="none",this.storage=n,h.innerHTML="",this._width=this._getWidth(),this._height=this._getHeight();var l=document.createElement("div");this._domRoot=l,l.style.position="relative",l.style.overflow="hidden",l.style.width=this._width+"px",l.style.height=this._height+"px",h.appendChild(l),this._layers={},this._zlevelList=[],this._layerConfig={},this._loadingEffect=new d({}),this.shapeToImage=this._createShapeToImageProcessor(),this._bgDom=document.createElement("div"),this._bgDom.style.cssText=["position:absolute;left:0px;top:0px;width:",this._width,"px;height:",this._height+"px;","-webkit-user-select:none;user-select;none;","-webkit-touch-callout:none;"].join(""),this._bgDom.setAttribute("data-zr-dom-id","bg"),this._bgDom.className=g.elementClassName,l.appendChild(this._bgDom),this._bgDom.onselectstart=b;var i=new f("_zrender_hover_",this);this._layers.hover=i,l.appendChild(i.dom),i.initContext(),i.dom.onselectstart=b,i.dom.style["-webkit-user-select"]="none",i.dom.style["user-select"]="none",i.dom.style["-webkit-touch-callout"]="none",this.refreshNextFrame=null};return a.prototype.render=function(h){return this.isLoading()&&this.hideLoading(),this.refresh(h,!0),this},a.prototype.refresh=function(h,n){var l=this.storage.getShapeList(!0);this._paintList(l,n);for(var i=0;i<this._zlevelList.length;i++){var e=this._zlevelList[i],o=this._layers[e];!o.isBuildin&&o.refresh&&o.refresh()}return typeof h=="function"&&h(),this},a.prototype._preProcessLayer=function(h){h.unusedCount++,h.updateTransform()},a.prototype._postProcessLayer=function(h){h.dirty=!1,h.unusedCount==1&&h.clear()},a.prototype._paintList=function(h,n){typeof n>"u"&&(n=!1),this._updateLayerStatus(h);var l,i,e;this.eachBuildinLayer(this._preProcessLayer);for(var o=0,s=h.length;s>o;o++){var u=h[o];if(i!==u.zlevel&&(l&&(l.needTransform&&e.restore(),e.flush&&e.flush()),i=u.zlevel,l=this.getLayer(i),l.isBuildin||c("ZLevel "+i+" has been used by unkown layer "+l.id),e=l.ctx,l.unusedCount=0,(l.dirty||n)&&l.clear(),l.needTransform&&(e.save(),l.setTransform(e))),(l.dirty||n)&&!u.invisible&&(!u.onbrush||u.onbrush&&!u.onbrush(e,!1)))if(g.catchBrushException)try{u.brush(e,!1,this.refreshNextFrame)}catch(t){c(t,"brush error of "+u.type,u)}else u.brush(e,!1,this.refreshNextFrame);u.__dirty=!1}l&&(l.needTransform&&e.restore(),e.flush&&e.flush()),this.eachBuildinLayer(this._postProcessLayer)},a.prototype.getLayer=function(h){var n=this._layers[h];return n||(n=new f(h,this),n.isBuildin=!0,this._layerConfig[h]&&_.merge(n,this._layerConfig[h],!0),n.updateTransform(),this.insertLayer(h,n),n.initContext()),n},a.prototype.insertLayer=function(h,n){if(this._layers[h])return void c("ZLevel "+h+" has been used already");if(!y(n))return void c("Layer of zlevel "+h+" is not valid");var l=this._zlevelList.length,i=null,e=-1;if(l>0&&h>this._zlevelList[0]){for(e=0;l-1>e&&!(this._zlevelList[e]<h&&this._zlevelList[e+1]>h);e++);i=this._layers[this._zlevelList[e]]}this._zlevelList.splice(e+1,0,h);var o=i?i.dom:this._bgDom;o.nextSibling?o.parentNode.insertBefore(n.dom,o.nextSibling):o.parentNode.appendChild(n.dom),this._layers[h]=n},a.prototype.eachLayer=function(h,n){for(var l=0;l<this._zlevelList.length;l++){var i=this._zlevelList[l];h.call(n,this._layers[i],i)}},a.prototype.eachBuildinLayer=function(h,n){for(var l=0;l<this._zlevelList.length;l++){var i=this._zlevelList[l],e=this._layers[i];e.isBuildin&&h.call(n,e,i)}},a.prototype.eachOtherLayer=function(h,n){for(var l=0;l<this._zlevelList.length;l++){var i=this._zlevelList[l],e=this._layers[i];e.isBuildin||h.call(n,e,i)}},a.prototype.getLayers=function(){return this._layers},a.prototype._updateLayerStatus=function(h){var n=this._layers,l={};this.eachBuildinLayer(function(t,r){l[r]=t.elCount,t.elCount=0});for(var i=0,e=h.length;e>i;i++){var o=h[i],s=o.zlevel,u=n[s];if(u){if(u.elCount++,u.dirty)continue;u.dirty=o.__dirty}}this.eachBuildinLayer(function(t,r){l[r]!==t.elCount&&(t.dirty=!0)})},a.prototype.refreshShapes=function(h,n){for(var l=0,i=h.length;i>l;l++){var e=h[l];e.modSelf()}return this.refresh(n),this},a.prototype.setLoadingEffect=function(h){return this._loadingEffect=h,this},a.prototype.clear=function(){return this.eachBuildinLayer(this._clearLayer),this},a.prototype._clearLayer=function(h){h.clear()},a.prototype.modLayer=function(h,n){if(n){this._layerConfig[h]?_.merge(this._layerConfig[h],n,!0):this._layerConfig[h]=n;var l=this._layers[h];l&&_.merge(l,this._layerConfig[h],!0)}},a.prototype.delLayer=function(h){var n=this._layers[h];n&&(this.modLayer(h,{position:n.position,rotation:n.rotation,scale:n.scale}),n.dom.parentNode.removeChild(n.dom),delete this._layers[h],this._zlevelList.splice(_.indexOf(this._zlevelList,h),1))},a.prototype.refreshHover=function(){this.clearHover();for(var h=this.storage.getHoverShapes(!0),n=0,l=h.length;l>n;n++)this._brushHover(h[n]);var i=this._layers.hover.ctx;return i.flush&&i.flush(),this.storage.delHover(),this},a.prototype.clearHover=function(){var h=this._layers.hover;return h&&h.clear(),this},a.prototype.showLoading=function(h){return this._loadingEffect&&this._loadingEffect.stop(),h&&this.setLoadingEffect(h),this._loadingEffect.start(this),this.loading=!0,this},a.prototype.hideLoading=function(){return this._loadingEffect.stop(),this.clearHover(),this.loading=!1,this},a.prototype.isLoading=function(){return this.loading},a.prototype.resize=function(){var h=this._domRoot;h.style.display="none";var n=this._getWidth(),l=this._getHeight();if(h.style.display="",this._width!=n||l!=this._height){this._width=n,this._height=l,h.style.width=n+"px",h.style.height=l+"px";for(var i in this._layers)this._layers[i].resize(n,l);this.refresh(null,!0)}return this},a.prototype.clearLayer=function(h){var n=this._layers[h];n&&n.clear()},a.prototype.dispose=function(){this.isLoading()&&this.hideLoading(),this.root.innerHTML="",this.root=this.storage=this._domRoot=this._layers=null},a.prototype.getDomHover=function(){return this._layers.hover.dom},a.prototype.toDataURL=function(h,n,l){if(window.G_vmlCanvasManager)return null;var i=new f("image",this);this._bgDom.appendChild(i.dom),i.initContext();var e=i.ctx;i.clearColor=n||"#fff",i.clear();var o=this;this.storage.iterShape(function(u){if(!u.invisible&&(!u.onbrush||u.onbrush&&!u.onbrush(e,!1)))if(g.catchBrushException)try{u.brush(e,!1,o.refreshNextFrame)}catch(t){c(t,"brush error of "+u.type,u)}else u.brush(e,!1,o.refreshNextFrame)},{normal:"up",update:!0});var s=i.dom.toDataURL(h,l);return e=null,this._bgDom.removeChild(i.dom),s},a.prototype.getWidth=function(){return this._width},a.prototype.getHeight=function(){return this._height},a.prototype._getWidth=function(){var h=this.root,n=h.currentStyle||document.defaultView.getComputedStyle(h);return((h.clientWidth||parseInt(n.width,10))-parseInt(n.paddingLeft,10)-parseInt(n.paddingRight,10)).toFixed(0)-0},a.prototype._getHeight=function(){var h=this.root,n=h.currentStyle||document.defaultView.getComputedStyle(h);return((h.clientHeight||parseInt(n.height,10))-parseInt(n.paddingTop,10)-parseInt(n.paddingBottom,10)).toFixed(0)-0},a.prototype._brushHover=function(h){var n=this._layers.hover.ctx;if(!h.onbrush||h.onbrush&&!h.onbrush(n,!0)){var l=this.getLayer(h.zlevel);if(l.needTransform&&(n.save(),l.setTransform(n)),g.catchBrushException)try{h.brush(n,!0,this.refreshNextFrame)}catch(i){c(i,"hoverBrush error of "+h.type,h)}else h.brush(n,!0,this.refreshNextFrame);l.needTransform&&n.restore()}},a.prototype._shapeToImage=function(h,n,l,i,e){var o=document.createElement("canvas"),s=o.getContext("2d");o.style.width=l+"px",o.style.height=i+"px",o.setAttribute("width",l*e),o.setAttribute("height",i*e),s.clearRect(0,0,l*e,i*e);var u={position:n.position,rotation:n.rotation,scale:n.scale};n.position=[0,0,0],n.rotation=0,n.scale=[1,1],n&&n.brush(s,!1);var t=C("./shape/Image"),r=new t({id:h,style:{x:0,y:0,image:o}});return u.position!=null&&(r.position=n.position=u.position),u.rotation!=null&&(r.rotation=n.rotation=u.rotation),u.scale!=null&&(r.scale=n.scale=u.scale),r},a.prototype._createShapeToImageProcessor=function(){if(window.G_vmlCanvasManager)return S;var h=this;return function(n,l,i,e){return h._shapeToImage(n,l,i,e,g.devicePixelRatio)}},a}),st("zrender/Storage",["require","./tool/util","./Group"],function(C){function b(c,d){return c.zlevel==d.zlevel?c.z==d.z?c.__renderidx-d.__renderidx:c.z-d.z:c.zlevel-d.zlevel}var S=C("./tool/util"),y=C("./Group"),g={hover:!1,normal:"down",update:!1},_=function(){this._elements={},this._hoverElements=[],this._roots=[],this._shapeList=[],this._shapeListOffset=0};return _.prototype.iterShape=function(c,d){if(d||(d=g),d.hover)for(var f=0,a=this._hoverElements.length;a>f;f++){var h=this._hoverElements[f];if(h.updateTransform(),c(h))return this}switch(d.update&&this.updateShapeList(),d.normal){case"down":for(var a=this._shapeList.length;a--;)if(c(this._shapeList[a]))return this;break;default:for(var f=0,a=this._shapeList.length;a>f;f++)if(c(this._shapeList[f]))return this}return this},_.prototype.getHoverShapes=function(c){for(var d=[],f=0,a=this._hoverElements.length;a>f;f++){d.push(this._hoverElements[f]);var h=this._hoverElements[f].hoverConnect;if(h){var n;h=h instanceof Array?h:[h];for(var l=0,i=h.length;i>l;l++)n=h[l].id?h[l]:this.get(h[l]),n&&d.push(n)}}if(d.sort(b),c)for(var f=0,a=d.length;a>f;f++)d[f].updateTransform();return d},_.prototype.getShapeList=function(c){return c&&this.updateShapeList(),this._shapeList},_.prototype.updateShapeList=function(){this._shapeListOffset=0;for(var c=0,d=this._roots.length;d>c;c++){var f=this._roots[c];this._updateAndAddShape(f)}this._shapeList.length=this._shapeListOffset;for(var c=0,d=this._shapeList.length;d>c;c++)this._shapeList[c].__renderidx=c;this._shapeList.sort(b)},_.prototype._updateAndAddShape=function(c,d){if(!c.ignore)if(c.updateTransform(),c.clipShape&&(c.clipShape.parent=c,c.clipShape.updateTransform(),d?(d=d.slice(),d.push(c.clipShape)):d=[c.clipShape]),c.type=="group"){for(var f=0;f<c._children.length;f++){var a=c._children[f];a.__dirty=c.__dirty||a.__dirty,this._updateAndAddShape(a,d)}c.__dirty=!1}else c.__clipShapes=d,this._shapeList[this._shapeListOffset++]=c},_.prototype.mod=function(c,d){if(typeof c=="string"&&(c=this._elements[c]),c&&(c.modSelf(),d))if(d.parent||d._storage||d.__clipShapes){var f={};for(var a in d)a!=="parent"&&a!=="_storage"&&a!=="__clipShapes"&&d.hasOwnProperty(a)&&(f[a]=d[a]);S.merge(c,f,!0)}else S.merge(c,d,!0);return this},_.prototype.drift=function(c,d,f){var a=this._elements[c];return a&&(a.needTransform=!0,a.draggable==="horizontal"?f=0:a.draggable==="vertical"&&(d=0),(!a.ondrift||a.ondrift&&!a.ondrift(d,f))&&a.drift(d,f)),this},_.prototype.addHover=function(c){return c.updateNeedTransform(),this._hoverElements.push(c),this},_.prototype.delHover=function(){return this._hoverElements=[],this},_.prototype.hasHoverShape=function(){return this._hoverElements.length>0},_.prototype.addRoot=function(c){this._elements[c.id]||(c instanceof y&&c.addChildrenToStorage(this),this.addToMap(c),this._roots.push(c))},_.prototype.delRoot=function(c){if(typeof c>"u"){for(var d=0;d<this._roots.length;d++){var f=this._roots[d];f instanceof y&&f.delChildrenFromStorage(this)}return this._elements={},this._hoverElements=[],this._roots=[],this._shapeList=[],void(this._shapeListOffset=0)}if(c instanceof Array)for(var d=0,a=c.length;a>d;d++)this.delRoot(c[d]);else{var h;h=typeof c=="string"?this._elements[c]:c;var n=S.indexOf(this._roots,h);n>=0&&(this.delFromMap(h.id),this._roots.splice(n,1),h instanceof y&&h.delChildrenFromStorage(this))}},_.prototype.addToMap=function(c){return c instanceof y&&(c._storage=this),c.modSelf(),this._elements[c.id]=c,this},_.prototype.get=function(c){return this._elements[c]},_.prototype.delFromMap=function(c){var d=this._elements[c];return d&&(delete this._elements[c],d instanceof y&&(d._storage=null)),this},_.prototype.dispose=function(){this._elements=this._renderList=this._roots=this._hoverElements=null},_}),st("zrender/animation/Animation",["require","./Clip","../tool/color","../tool/util","../tool/event"],function(C){function b(t,r){return t[r]}function S(t,r,p){t[r]=p}function y(t,r,p){return(r-t)*p+t}function g(t,r,p,m,x){var T=t.length;if(x==1)for(var w=0;T>w;w++)m[w]=y(t[w],r[w],p);else for(var L=t[0].length,w=0;T>w;w++)for(var M=0;L>M;M++)m[w][M]=y(t[w][M],r[w][M],p)}function _(t){switch(typeof t){case"undefined":case"string":return!1}return typeof t.length<"u"}function c(t,r,p,m,x,T,w,L,M){var P=t.length;if(M==1)for(var R=0;P>R;R++)L[R]=d(t[R],r[R],p[R],m[R],x,T,w);else for(var W=t[0].length,R=0;P>R;R++)for(var F=0;W>F;F++)L[R][F]=d(t[R][F],r[R][F],p[R][F],m[R][F],x,T,w)}function d(t,r,p,m,x,T,w){var L=.5*(p-t),M=.5*(m-r);return(2*(r-p)+L+M)*w+(-3*(r-p)-2*L-M)*T+L*x+r}function f(t){if(_(t)){var r=t.length;if(_(t[0])){for(var p=[],m=0;r>m;m++)p.push(o.call(t[m]));return p}return o.call(t)}return t}function a(t){return t[0]=Math.floor(t[0]),t[1]=Math.floor(t[1]),t[2]=Math.floor(t[2]),"rgba("+t.join(",")+")"}var h=C("./Clip"),n=C("../tool/color"),l=C("../tool/util"),i=C("../tool/event").Dispatcher,e=window.requestAnimationFrame||window.msRequestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||function(t){setTimeout(t,16)},o=Array.prototype.slice,s=function(t){t=t||{},this.stage=t.stage||{},this.onframe=t.onframe||function(){},this._clips=[],this._running=!1,this._time=0,i.call(this)};s.prototype={add:function(t){this._clips.push(t)},remove:function(t){if(t.__inStep)t.__needsRemove=!0;else{var r=l.indexOf(this._clips,t);r>=0&&this._clips.splice(r,1)}},_update:function(){for(var t=new Date().getTime(),r=t-this._time,p=this._clips,m=p.length,x=[],T=[],w=0;m>w;w++){var L=p[w];L.__inStep=!0;var M=L.step(t);L.__inStep=!1,M&&(x.push(M),T.push(L))}for(var w=0;m>w;)p[w].__needsRemove?(p[w]=p[m-1],p.pop(),m--):w++;m=x.length;for(var w=0;m>w;w++)T[w].fire(x[w]);this._time=t,this.onframe(r),this.dispatch("frame",r),this.stage.update&&this.stage.update()},start:function(){function t(){r._running&&(e(t),r._update())}var r=this;this._running=!0,this._time=new Date().getTime(),e(t)},stop:function(){this._running=!1},clear:function(){this._clips=[]},animate:function(t,r){r=r||{};var p=new u(t,r.loop,r.getter,r.setter);return p.animation=this,p},constructor:s},l.merge(s.prototype,i.prototype,!0);var u=function(t,r,p,m){this._tracks={},this._target=t,this._loop=r||!1,this._getter=p||b,this._setter=m||S,this._clipCount=0,this._delay=0,this._doneList=[],this._onframeList=[],this._clipList=[]};return u.prototype={when:function(t,r){for(var p in r)this._tracks[p]||(this._tracks[p]=[],t!==0&&this._tracks[p].push({time:0,value:f(this._getter(this._target,p))})),this._tracks[p].push({time:parseInt(t,10),value:r[p]});return this},during:function(t){return this._onframeList.push(t),this},start:function(t){var r=this,p=this._setter,m=this._getter,x=t==="spline",T=function(){if(r._clipCount--,r._clipCount===0){r._tracks={};for(var M=r._doneList.length,P=0;M>P;P++)r._doneList[P].call(r)}},w=function(M,P){var R=M.length;if(R){var W=M[0].value,F=_(W),v=!1,E=F&&_(W[0])?2:1;M.sort(function(et,J){return et.time-J.time});var z;if(R){z=M[R-1].time;for(var k=[],A=[],H=0;R>H;H++){k.push(M[H].time/z);var O=M[H].value;typeof O=="string"&&(O=n.toArray(O),O.length===0&&(O[0]=O[1]=O[2]=0,O[3]=1),v=!0),A.push(O)}var D,H,Y,j,U,$,it,rt=0,lt=0;if(v)var at=[0,0,0,0];var G=function(et,J){if(lt>J){for(D=Math.min(rt+1,R-1),H=D;H>=0&&!(k[H]<=J);H--);H=Math.min(H,R-2)}else{for(H=rt;R>H&&!(k[H]>J);H++);H=Math.min(H-1,R-2)}rt=H,lt=J;var tt=k[H+1]-k[H];if(tt!==0){if(Y=(J-k[H])/tt,x)if(U=A[H],j=A[H===0?H:H-1],$=A[H>R-2?R-1:H+1],it=A[H>R-3?R-1:H+2],F)c(j,U,$,it,Y,Y*Y,Y*Y*Y,m(et,P),E);else{var I;v?(I=c(j,U,$,it,Y,Y*Y,Y*Y*Y,at,1),I=a(at)):I=d(j,U,$,it,Y,Y*Y,Y*Y*Y),p(et,P,I)}else if(F)g(A[H],A[H+1],Y,m(et,P),E);else{var I;v?(g(A[H],A[H+1],Y,at,1),I=a(at)):I=y(A[H],A[H+1],Y),p(et,P,I)}for(H=0;H<r._onframeList.length;H++)r._onframeList[H](et,J)}},X=new h({target:r._target,life:z,loop:r._loop,delay:r._delay,onframe:G,ondestroy:T});t&&t!=="spline"&&(X.easing=t),r._clipList.push(X),r._clipCount++,r.animation.add(X)}}};for(var L in this._tracks)w(this._tracks[L],L);return this},stop:function(){for(var t=0;t<this._clipList.length;t++){var r=this._clipList[t];this.animation.remove(r)}this._clipList=[]},delay:function(t){return this._delay=t,this},done:function(t){return t&&this._doneList.push(t),this}},s}),st("zrender/tool/vector",[],function(){var C=typeof Float32Array>"u"?Array:Float32Array,b={create:function(S,y){var g=new C(2);return g[0]=S||0,g[1]=y||0,g},copy:function(S,y){return S[0]=y[0],S[1]=y[1],S},clone:function(S){var y=new C(2);return y[0]=S[0],y[1]=S[1],y},set:function(S,y,g){return S[0]=y,S[1]=g,S},add:function(S,y,g){return S[0]=y[0]+g[0],S[1]=y[1]+g[1],S},scaleAndAdd:function(S,y,g,_){return S[0]=y[0]+g[0]*_,S[1]=y[1]+g[1]*_,S},sub:function(S,y,g){return S[0]=y[0]-g[0],S[1]=y[1]-g[1],S},len:function(S){return Math.sqrt(this.lenSquare(S))},lenSquare:function(S){return S[0]*S[0]+S[1]*S[1]},mul:function(S,y,g){return S[0]=y[0]*g[0],S[1]=y[1]*g[1],S},div:function(S,y,g){return S[0]=y[0]/g[0],S[1]=y[1]/g[1],S},dot:function(S,y){return S[0]*y[0]+S[1]*y[1]},scale:function(S,y,g){return S[0]=y[0]*g,S[1]=y[1]*g,S},normalize:function(S,y){var g=b.len(y);return g===0?(S[0]=0,S[1]=0):(S[0]=y[0]/g,S[1]=y[1]/g),S},distance:function(S,y){return Math.sqrt((S[0]-y[0])*(S[0]-y[0])+(S[1]-y[1])*(S[1]-y[1]))},distanceSquare:function(S,y){return(S[0]-y[0])*(S[0]-y[0])+(S[1]-y[1])*(S[1]-y[1])},negate:function(S,y){return S[0]=-y[0],S[1]=-y[1],S},lerp:function(S,y,g,_){return S[0]=y[0]+_*(g[0]-y[0]),S[1]=y[1]+_*(g[1]-y[1]),S},applyTransform:function(S,y,g){var _=y[0],c=y[1];return S[0]=g[0]*_+g[2]*c+g[4],S[1]=g[1]*_+g[3]*c+g[5],S},min:function(S,y,g){return S[0]=Math.min(y[0],g[0]),S[1]=Math.min(y[1],g[1]),S},max:function(S,y,g){return S[0]=Math.max(y[0],g[0]),S[1]=Math.max(y[1],g[1]),S}};return b.length=b.len,b.lengthSquare=b.lenSquare,b.dist=b.distance,b.distSquare=b.distanceSquare,b}),st("zrender/tool/matrix",[],function(){var C=typeof Float32Array>"u"?Array:Float32Array,b={create:function(){var S=new C(6);return b.identity(S),S},identity:function(S){return S[0]=1,S[1]=0,S[2]=0,S[3]=1,S[4]=0,S[5]=0,S},copy:function(S,y){return S[0]=y[0],S[1]=y[1],S[2]=y[2],S[3]=y[3],S[4]=y[4],S[5]=y[5],S},mul:function(S,y,g){return S[0]=y[0]*g[0]+y[2]*g[1],S[1]=y[1]*g[0]+y[3]*g[1],S[2]=y[0]*g[2]+y[2]*g[3],S[3]=y[1]*g[2]+y[3]*g[3],S[4]=y[0]*g[4]+y[2]*g[5]+y[4],S[5]=y[1]*g[4]+y[3]*g[5]+y[5],S},translate:function(S,y,g){return S[0]=y[0],S[1]=y[1],S[2]=y[2],S[3]=y[3],S[4]=y[4]+g[0],S[5]=y[5]+g[1],S},rotate:function(S,y,g){var _=y[0],c=y[2],d=y[4],f=y[1],a=y[3],h=y[5],n=Math.sin(g),l=Math.cos(g);return S[0]=_*l+f*n,S[1]=-_*n+f*l,S[2]=c*l+a*n,S[3]=-c*n+l*a,S[4]=l*d+n*h,S[5]=l*h-n*d,S},scale:function(S,y,g){var _=g[0],c=g[1];return S[0]=y[0]*_,S[1]=y[1]*c,S[2]=y[2]*_,S[3]=y[3]*c,S[4]=y[4]*_,S[5]=y[5]*c,S},invert:function(S,y){var g=y[0],_=y[2],c=y[4],d=y[1],f=y[3],a=y[5],h=g*f-d*_;return h?(h=1/h,S[0]=f*h,S[1]=-d*h,S[2]=-_*h,S[3]=g*h,S[4]=(_*a-f*c)*h,S[5]=(d*c-g*a)*h,S):null}};return b}),st("zrender/loadingEffect/Base",["require","../tool/util","../shape/Text","../shape/Rectangle"],function(C){function b(d){this.setOptions(d)}var S=C("../tool/util"),y=C("../shape/Text"),g=C("../shape/Rectangle"),_="Loading...",c="normal 16px Arial";return b.prototype.createTextShape=function(d){return new y({highlightStyle:S.merge({x:this.canvasWidth/2,y:this.canvasHeight/2,text:_,textAlign:"center",textBaseline:"middle",textFont:c,color:"#333",brushType:"fill"},d,!0)})},b.prototype.createBackgroundShape=function(d){return new g({highlightStyle:{x:0,y:0,width:this.canvasWidth,height:this.canvasHeight,brushType:"fill",color:d}})},b.prototype.start=function(d){function f(h){d.storage.addHover(h)}function a(){d.refreshHover()}this.canvasWidth=d._width,this.canvasHeight=d._height,this.loadingTimer=this._start(f,a)},b.prototype._start=function(){return setInterval(function(){},1e4)},b.prototype.stop=function(){clearInterval(this.loadingTimer)},b.prototype.setOptions=function(d){this.options=d||{}},b.prototype.adjust=function(d,f){return d<=f[0]?d=f[0]:d>=f[1]&&(d=f[1]),d},b.prototype.getLocation=function(d,f,a){var h=d.x!=null?d.x:"center";switch(h){case"center":h=Math.floor((this.canvasWidth-f)/2);break;case"left":h=0;break;case"right":h=this.canvasWidth-f}var n=d.y!=null?d.y:"center";switch(n){case"center":n=Math.floor((this.canvasHeight-a)/2);break;case"top":n=0;break;case"bottom":n=this.canvasHeight-a}return{x:h,y:n,width:f,height:a}},b}),st("zrender/Layer",["require","./mixin/Transformable","./tool/util","./config"],function(C){function b(){return!1}function S(f,a,h){var n=document.createElement(a),l=h.getWidth(),i=h.getHeight();return n.style.position="absolute",n.style.left=0,n.style.top=0,n.style.width=l+"px",n.style.height=i+"px",n.width=l*c.devicePixelRatio,n.height=i*c.devicePixelRatio,n.setAttribute("data-zr-dom-id",f),n}var y=C("./mixin/Transformable"),g=C("./tool/util"),_=window.G_vmlCanvasManager,c=C("./config"),d=function(f,a){this.id=f,this.dom=S(f,"canvas",a),this.dom.onselectstart=b,this.dom.style["-webkit-user-select"]="none",this.dom.style["user-select"]="none",this.dom.style["-webkit-touch-callout"]="none",this.dom.style["-webkit-tap-highlight-color"]="rgba(0,0,0,0)",this.dom.className=c.elementClassName,_&&_.initElement(this.dom),this.domBack=null,this.ctxBack=null,this.painter=a,this.unusedCount=0,this.config=null,this.dirty=!0,this.elCount=0,this.clearColor=0,this.motionBlur=!1,this.lastFrameAlpha=.7,this.zoomable=!1,this.panable=!1,this.maxZoom=1/0,this.minZoom=0,y.call(this)};return d.prototype.initContext=function(){this.ctx=this.dom.getContext("2d");var f=c.devicePixelRatio;f!=1&&this.ctx.scale(f,f)},d.prototype.createBackBuffer=function(){if(!_){this.domBack=S("back-"+this.id,"canvas",this.painter),this.ctxBack=this.domBack.getContext("2d");var f=c.devicePixelRatio;f!=1&&this.ctxBack.scale(f,f)}},d.prototype.resize=function(f,a){var h=c.devicePixelRatio;this.dom.style.width=f+"px",this.dom.style.height=a+"px",this.dom.setAttribute("width",f*h),this.dom.setAttribute("height",a*h),h!=1&&this.ctx.scale(h,h),this.domBack&&(this.domBack.setAttribute("width",f*h),this.domBack.setAttribute("height",a*h),h!=1&&this.ctxBack.scale(h,h))},d.prototype.clear=function(){var f=this.dom,a=this.ctx,h=f.width,n=f.height,l=this.clearColor&&!_,i=this.motionBlur&&!_,e=this.lastFrameAlpha,o=c.devicePixelRatio;if(i&&(this.domBack||this.createBackBuffer(),this.ctxBack.globalCompositeOperation="copy",this.ctxBack.drawImage(f,0,0,h/o,n/o)),a.clearRect(0,0,h/o,n/o),l&&(a.save(),a.fillStyle=this.clearColor,a.fillRect(0,0,h/o,n/o),a.restore()),i){var s=this.domBack;a.save(),a.globalAlpha=e,a.drawImage(s,0,0,h/o,n/o),a.restore()}},g.merge(d.prototype,y.prototype),d}),st("zrender/shape/Text",["require","../tool/area","./Base","../tool/util"],function(C){var b=C("../tool/area"),S=C("./Base"),y=function(g){S.call(this,g)};return y.prototype={type:"text",brush:function(g,_){var c=this.style;if(_&&(c=this.getHighlightStyle(c,this.highlightStyle||{})),typeof c.text<"u"&&c.text!==!1){g.save(),this.doClip(g),this.setContext(g,c),this.setTransform(g),c.textFont&&(g.font=c.textFont),g.textAlign=c.textAlign||"start",g.textBaseline=c.textBaseline||"middle";var d,f=(c.text+"").split(`
`),a=b.getTextHeight("国",c.textFont),h=this.getRect(c),n=c.x;d=c.textBaseline=="top"?h.y:c.textBaseline=="bottom"?h.y+a:h.y+a/2;for(var l=0,i=f.length;i>l;l++){if(c.maxWidth)switch(c.brushType){case"fill":g.fillText(f[l],n,d,c.maxWidth);break;case"stroke":g.strokeText(f[l],n,d,c.maxWidth);break;case"both":g.fillText(f[l],n,d,c.maxWidth),g.strokeText(f[l],n,d,c.maxWidth);break;default:g.fillText(f[l],n,d,c.maxWidth)}else switch(c.brushType){case"fill":g.fillText(f[l],n,d);break;case"stroke":g.strokeText(f[l],n,d);break;case"both":g.fillText(f[l],n,d),g.strokeText(f[l],n,d);break;default:g.fillText(f[l],n,d)}d+=a}g.restore()}},getRect:function(g){if(g.__rect)return g.__rect;var _=b.getTextWidth(g.text,g.textFont),c=b.getTextHeight(g.text,g.textFont),d=g.x;g.textAlign=="end"||g.textAlign=="right"?d-=_:g.textAlign=="center"&&(d-=_/2);var f;return f=g.textBaseline=="top"?g.y:g.textBaseline=="bottom"?g.y-c:g.y-c/2,g.__rect={x:d,y:f,width:_,height:c},g.__rect}},C("../tool/util").inherits(y,S),y}),st("zrender/shape/Rectangle",["require","./Base","../tool/util"],function(C){var b=C("./Base"),S=function(y){b.call(this,y)};return S.prototype={type:"rectangle",_buildRadiusPath:function(y,g){var _,c,d,f,a=g.x,h=g.y,n=g.width,l=g.height,i=g.radius;typeof i=="number"?_=c=d=f=i:i instanceof Array?i.length===1?_=c=d=f=i[0]:i.length===2?(_=d=i[0],c=f=i[1]):i.length===3?(_=i[0],c=f=i[1],d=i[2]):(_=i[0],c=i[1],d=i[2],f=i[3]):_=c=d=f=0;var e;_+c>n&&(e=_+c,_*=n/e,c*=n/e),d+f>n&&(e=d+f,d*=n/e,f*=n/e),c+d>l&&(e=c+d,c*=l/e,d*=l/e),_+f>l&&(e=_+f,_*=l/e,f*=l/e),y.moveTo(a+_,h),y.lineTo(a+n-c,h),c!==0&&y.quadraticCurveTo(a+n,h,a+n,h+c),y.lineTo(a+n,h+l-d),d!==0&&y.quadraticCurveTo(a+n,h+l,a+n-d,h+l),y.lineTo(a+f,h+l),f!==0&&y.quadraticCurveTo(a,h+l,a,h+l-f),y.lineTo(a,h+_),_!==0&&y.quadraticCurveTo(a,h,a+_,h)},buildPath:function(y,g){g.radius?this._buildRadiusPath(y,g):(y.moveTo(g.x,g.y),y.lineTo(g.x+g.width,g.y),y.lineTo(g.x+g.width,g.y+g.height),y.lineTo(g.x,g.y+g.height),y.lineTo(g.x,g.y)),y.closePath()},getRect:function(y){if(y.__rect)return y.__rect;var g;return g=y.brushType=="stroke"||y.brushType=="fill"?y.lineWidth||1:0,y.__rect={x:Math.round(y.x-g/2),y:Math.round(y.y-g/2),width:y.width+g,height:y.height+g},y.__rect}},C("../tool/util").inherits(S,b),S}),st("zrender/tool/area",["require","./util","./curve"],function(C){function b(A){return A%=E,0>A&&(A+=E),A}function S(A,O,D,H){if(!O||!A)return!1;var Y=A.type;w=w||L.getContext();var j=y(A,O,D,H);if(typeof j<"u")return j;if(A.buildPath&&w.isPointInPath)return g(A,w,O,D,H);switch(Y){case"ellipse":return!0;case"trochoid":var U=O.location=="out"?O.r1+O.r2+O.d:O.r1-O.r2+O.d;return i(O,D,H,U);case"rose":return i(O,D,H,O.maxr);default:return!1}}function y(A,O,D,H){var Y=A.type;switch(Y){case"bezier-curve":return typeof O.cpX2>"u"?f(O.xStart,O.yStart,O.cpX1,O.cpY1,O.xEnd,O.yEnd,O.lineWidth,D,H):d(O.xStart,O.yStart,O.cpX1,O.cpY1,O.cpX2,O.cpY2,O.xEnd,O.yEnd,O.lineWidth,D,H);case"line":return c(O.xStart,O.yStart,O.xEnd,O.yEnd,O.lineWidth,D,H);case"polyline":return h(O.pointList,O.lineWidth,D,H);case"ring":return n(O.x,O.y,O.r0,O.r,D,H);case"circle":return i(O.x,O.y,O.r,D,H);case"sector":var j=O.startAngle*Math.PI/180,U=O.endAngle*Math.PI/180;return O.clockWise||(j=-j,U=-U),e(O.x,O.y,O.r0,O.r,j,U,!O.clockWise,D,H);case"path":return O.pathArray&&m(O.pathArray,Math.max(O.lineWidth,5),O.brushType,D,H);case"polygon":case"star":case"isogon":return o(O.pointList,D,H);case"text":var $=O.__rect||A.getRect(O);return l($.x,$.y,$.width,$.height,D,H);case"rectangle":case"image":return l(O.x,O.y,O.width,O.height,D,H)}}function g(A,O,D,H,Y){return O.beginPath(),A.buildPath(O,D),O.closePath(),O.isPointInPath(H,Y)}function _(A,O,D,H){return!S(A,O,D,H)}function c(A,O,D,H,Y,j,U){if(Y===0)return!1;var $=Math.max(Y,5),it=0,rt=A;if(U>O+$&&U>H+$||O-$>U&&H-$>U||j>A+$&&j>D+$||A-$>j&&D-$>j)return!1;if(A===D)return Math.abs(j-A)<=$/2;it=(O-H)/(A-D),rt=(A*H-D*O)/(A-D);var lt=it*j-U+rt,at=lt*lt/(it*it+1);return $/2*$/2>=at}function d(A,O,D,H,Y,j,U,$,it,rt,lt){if(it===0)return!1;var at=Math.max(it,5);if(lt>O+at&&lt>H+at&&lt>j+at&&lt>$+at||O-at>lt&&H-at>lt&&j-at>lt&&$-at>lt||rt>A+at&&rt>D+at&&rt>Y+at&&rt>U+at||A-at>rt&&D-at>rt&&Y-at>rt&&U-at>rt)return!1;var G=M.cubicProjectPoint(A,O,D,H,Y,j,U,$,rt,lt,null);return at/2>=G}function f(A,O,D,H,Y,j,U,$,it){if(U===0)return!1;var rt=Math.max(U,5);if(it>O+rt&&it>H+rt&&it>j+rt||O-rt>it&&H-rt>it&&j-rt>it||$>A+rt&&$>D+rt&&$>Y+rt||A-rt>$&&D-rt>$&&Y-rt>$)return!1;var lt=M.quadraticProjectPoint(A,O,D,H,Y,j,$,it,null);return rt/2>=lt}function a(A,O,D,H,Y,j,U,$,it){if(U===0)return!1;var rt=Math.max(U,5);$-=A,it-=O;var lt=Math.sqrt($*$+it*it);if(lt-rt>D||D>lt+rt)return!1;if(Math.abs(H-Y)>=E)return!0;if(j){var at=H;H=b(Y),Y=b(at)}else H=b(H),Y=b(Y);H>Y&&(Y+=E);var G=Math.atan2(it,$);return 0>G&&(G+=E),G>=H&&Y>=G||G+E>=H&&Y>=G+E}function h(A,O,D,H){for(var O=Math.max(O,10),Y=0,j=A.length-1;j>Y;Y++){var U=A[Y][0],$=A[Y][1],it=A[Y+1][0],rt=A[Y+1][1];if(c(U,$,it,rt,O,D,H))return!0}return!1}function n(A,O,D,H,Y,j){var U=(Y-A)*(Y-A)+(j-O)*(j-O);return H*H>U&&U>D*D}function l(A,O,D,H,Y,j){return Y>=A&&A+D>=Y&&j>=O&&O+H>=j}function i(A,O,D,H,Y){return D*D>(H-A)*(H-A)+(Y-O)*(Y-O)}function e(A,O,D,H,Y,j,U,$,it){return a(A,O,(D+H)/2,Y,j,U,H-D,$,it)}function o(A,O,D){for(var H=A.length,Y=0,j=0,U=H-1;H>j;j++){var $=A[U][0],it=A[U][1],rt=A[j][0],lt=A[j][1];Y+=s($,it,rt,lt,O,D),U=j}return Y!==0}function s(A,O,D,H,Y,j){if(j>O&&j>H||O>j&&H>j||H==O)return 0;var U=O>H?1:-1,$=(j-O)/(H-O),it=$*(D-A)+A;return it>Y?U:0}function u(){var A=k[0];k[0]=k[1],k[1]=A}function t(A,O,D,H,Y,j,U,$,it,rt){if(rt>O&&rt>H&&rt>j&&rt>$||O>rt&&H>rt&&j>rt&&$>rt)return 0;var lt=M.cubicRootAt(O,H,j,$,rt,z);if(lt===0)return 0;for(var at,G,X=0,et=-1,J=0;lt>J;J++){var tt=z[J],I=M.cubicAt(A,D,Y,U,tt);it>I||(0>et&&(et=M.cubicExtrema(O,H,j,$,k),k[1]<k[0]&&et>1&&u(),at=M.cubicAt(O,H,j,$,k[0]),et>1&&(G=M.cubicAt(O,H,j,$,k[1]))),X+=et==2?tt<k[0]?O>at?1:-1:tt<k[1]?at>G?1:-1:G>$?1:-1:tt<k[0]?O>at?1:-1:at>$?1:-1)}return X}function r(A,O,D,H,Y,j,U,$){if($>O&&$>H&&$>j||O>$&&H>$&&j>$)return 0;var it=M.quadraticRootAt(O,H,j,$,z);if(it===0)return 0;var rt=M.quadraticExtremum(O,H,j);if(rt>=0&&1>=rt){for(var lt=0,at=M.quadraticAt(O,H,j,rt),G=0;it>G;G++){var X=M.quadraticAt(A,D,Y,z[G]);U>X||(lt+=z[G]<rt?O>at?1:-1:at>j?1:-1)}return lt}var X=M.quadraticAt(A,D,Y,z[0]);return U>X?0:O>j?1:-1}function p(A,O,D,H,Y,j,U,$){if($-=O,$>D||-D>$)return 0;var it=Math.sqrt(D*D-$*$);if(z[0]=-it,z[1]=it,Math.abs(H-Y)>=E){H=0,Y=E;var rt=j?1:-1;return U>=z[0]+A&&U<=z[1]+A?rt:0}if(j){var it=H;H=b(Y),Y=b(it)}else H=b(H),Y=b(Y);H>Y&&(Y+=E);for(var lt=0,at=0;2>at;at++){var G=z[at];if(G+A>U){var X=Math.atan2($,G),rt=j?1:-1;0>X&&(X=E+X),(X>=H&&Y>=X||X+E>=H&&Y>=X+E)&&(X>Math.PI/2&&X<1.5*Math.PI&&(rt=-rt),lt+=rt)}}return lt}function m(A,O,D,H,Y){var j=0,U=0,$=0,it=0,rt=0,lt=!0,at=!0;D=D||"fill";for(var G=D==="stroke"||D==="both",X=D==="fill"||D==="both",et=0;et<A.length;et++){var J=A[et],tt=J.points;if(lt||J.command==="M"){if(et>0&&(X&&(j+=s(U,$,it,rt,H,Y)),j!==0))return!0;it=tt[tt.length-2],rt=tt[tt.length-1],lt=!1,at&&J.command!=="A"&&(at=!1,U=it,$=rt)}switch(J.command){case"M":U=tt[0],$=tt[1];break;case"L":if(G&&c(U,$,tt[0],tt[1],O,H,Y))return!0;X&&(j+=s(U,$,tt[0],tt[1],H,Y)),U=tt[0],$=tt[1];break;case"C":if(G&&d(U,$,tt[0],tt[1],tt[2],tt[3],tt[4],tt[5],O,H,Y))return!0;X&&(j+=t(U,$,tt[0],tt[1],tt[2],tt[3],tt[4],tt[5],H,Y)),U=tt[4],$=tt[5];break;case"Q":if(G&&f(U,$,tt[0],tt[1],tt[2],tt[3],O,H,Y))return!0;X&&(j+=r(U,$,tt[0],tt[1],tt[2],tt[3],H,Y)),U=tt[2],$=tt[3];break;case"A":var I=tt[0],N=tt[1],Q=tt[2],K=tt[3],B=tt[4],Z=tt[5],V=Math.cos(B)*Q+I,q=Math.sin(B)*K+N;at?(at=!1,it=V,rt=q):j+=s(U,$,V,q);var ot=(H-I)*K/Q+I;if(G&&a(I,N,K,B,B+Z,1-tt[7],O,ot,Y))return!0;X&&(j+=p(I,N,K,B,B+Z,1-tt[7],ot,Y)),U=Math.cos(B+Z)*Q+I,$=Math.sin(B+Z)*K+N;break;case"z":if(G&&c(U,$,it,rt,O,H,Y))return!0;lt=!0}}return X&&(j+=s(U,$,it,rt,H,Y)),j!==0}function x(A,O){var D=A+":"+O;if(P[D])return P[D];w=w||L.getContext(),w.save(),O&&(w.font=O),A=(A+"").split(`
`);for(var H=0,Y=0,j=A.length;j>Y;Y++)H=Math.max(w.measureText(A[Y]).width,H);return w.restore(),P[D]=H,++W>v&&(W=0,P={}),H}function T(A,O){var D=A+":"+O;if(R[D])return R[D];w=w||L.getContext(),w.save(),O&&(w.font=O),A=(A+"").split(`
`);var H=(w.measureText("国").width+2)*A.length;return w.restore(),R[D]=H,++F>v&&(F=0,R={}),H}var w,L=C("./util"),M=C("./curve"),P={},R={},W=0,F=0,v=5e3,E=2*Math.PI,z=[-1,-1,-1],k=[-1,-1];return{isInside:S,isOutside:_,getTextWidth:x,getTextHeight:T,isInsidePath:m,isInsidePolygon:o,isInsideSector:e,isInsideCircle:i,isInsideLine:c,isInsideRect:l,isInsidePolyline:h,isInsideCubicStroke:d,isInsideQuadraticStroke:f}}),st("zrender/shape/Base",["require","../tool/matrix","../tool/guid","../tool/util","../tool/log","../mixin/Transformable","../mixin/Eventful","../tool/area","../tool/color"],function(C){function b(i,e,o,s,u,t,r){u&&(i.font=u),i.textAlign=t,i.textBaseline=r;var p=S(e,o,s,u,t,r);e=(e+"").split(`
`);var m=C("../tool/area").getTextHeight("国",u);switch(r){case"top":s=p.y;break;case"bottom":s=p.y+m;break;default:s=p.y+m/2}for(var x=0,T=e.length;T>x;x++)i.fillText(e[x],o,s),s+=m}function S(i,e,o,s,u,t){var r=C("../tool/area"),p=r.getTextWidth(i,s),m=r.getTextHeight("国",s);switch(i=(i+"").split(`
`),u){case"end":case"right":e-=p;break;case"center":e-=p/2}switch(t){case"top":break;case"bottom":o-=m*i.length;break;default:o-=m*i.length/2}return{x:e,y:o,width:p,height:m*i.length}}var y=window.G_vmlCanvasManager,g=C("../tool/matrix"),_=C("../tool/guid"),c=C("../tool/util"),d=C("../tool/log"),f=C("../mixin/Transformable"),a=C("../mixin/Eventful"),h=function(i){i=i||{},this.id=i.id||_();for(var e in i)this[e]=i[e];this.style=this.style||{},this.highlightStyle=this.highlightStyle||null,this.parent=null,this.__dirty=!0,this.__clipShapes=[],f.call(this),a.call(this)};h.prototype.invisible=!1,h.prototype.ignore=!1,h.prototype.zlevel=0,h.prototype.draggable=!1,h.prototype.clickable=!1,h.prototype.hoverable=!0,h.prototype.z=0,h.prototype.brush=function(i,e){var o=this.beforeBrush(i,e);switch(i.beginPath(),this.buildPath(i,o),o.brushType){case"both":i.fill();case"stroke":o.lineWidth>0&&i.stroke();break;default:i.fill()}this.drawText(i,o,this.style),this.afterBrush(i)},h.prototype.beforeBrush=function(i,e){var o=this.style;return this.brushTypeOnly&&(o.brushType=this.brushTypeOnly),e&&(o=this.getHighlightStyle(o,this.highlightStyle||{},this.brushTypeOnly)),this.brushTypeOnly=="stroke"&&(o.strokeColor=o.strokeColor||o.color),i.save(),this.doClip(i),this.setContext(i,o),this.setTransform(i),o},h.prototype.afterBrush=function(i){i.restore()};var n=[["color","fillStyle"],["strokeColor","strokeStyle"],["opacity","globalAlpha"],["lineCap","lineCap"],["lineJoin","lineJoin"],["miterLimit","miterLimit"],["lineWidth","lineWidth"],["shadowBlur","shadowBlur"],["shadowColor","shadowColor"],["shadowOffsetX","shadowOffsetX"],["shadowOffsetY","shadowOffsetY"]];h.prototype.setContext=function(i,e){for(var o=0,s=n.length;s>o;o++){var u=n[o][0],t=e[u],r=n[o][1];typeof t<"u"&&(i[r]=t)}};var l=g.create();return h.prototype.doClip=function(i){if(this.__clipShapes&&!y)for(var e=0;e<this.__clipShapes.length;e++){var o=this.__clipShapes[e];if(o.needTransform){var s=o.transform;g.invert(l,s),i.transform(s[0],s[1],s[2],s[3],s[4],s[5])}if(i.beginPath(),o.buildPath(i,o.style),i.clip(),o.needTransform){var s=l;i.transform(s[0],s[1],s[2],s[3],s[4],s[5])}}},h.prototype.getHighlightStyle=function(i,e,o){var s={};for(var u in i)s[u]=i[u];var t=C("../tool/color"),r=t.getHighlightColor();i.brushType!="stroke"?(s.strokeColor=r,s.lineWidth=(i.lineWidth||1)+this.getHighlightZoom(),s.brushType="both"):o!="stroke"?(s.strokeColor=r,s.lineWidth=(i.lineWidth||1)+this.getHighlightZoom()):s.strokeColor=e.strokeColor||t.mix(i.strokeColor,t.toRGB(r));for(var u in e)typeof e[u]<"u"&&(s[u]=e[u]);return s},h.prototype.getHighlightZoom=function(){return this.type!="text"?6:2},h.prototype.drift=function(i,e){this.position[0]+=i,this.position[1]+=e},h.prototype.buildPath=function(){d("buildPath not implemented in "+this.type)},h.prototype.getRect=function(){d("getRect not implemented in "+this.type)},h.prototype.isCover=function(i,e){var o=this.transformCoordToLocal(i,e);return i=o[0],e=o[1],this.isCoverRect(i,e)?C("../tool/area").isInside(this,this.style,i,e):!1},h.prototype.isCoverRect=function(i,e){var o=this.style.__rect;return o||(o=this.style.__rect=this.getRect(this.style)),i>=o.x&&i<=o.x+o.width&&e>=o.y&&e<=o.y+o.height},h.prototype.drawText=function(i,e,o){if(typeof e.text<"u"&&e.text!==!1){var s=e.textColor||e.color||e.strokeColor;i.fillStyle=s;var u,t,r,p,m=10,x=e.textPosition||this.textPosition||"top";switch(x){case"inside":case"top":case"bottom":case"left":case"right":if(this.getRect){var T=(o||e).__rect||this.getRect(o||e);switch(x){case"inside":r=T.x+T.width/2,p=T.y+T.height/2,u="center",t="middle",e.brushType!="stroke"&&s==e.color&&(i.fillStyle="#fff");break;case"left":r=T.x-m,p=T.y+T.height/2,u="end",t="middle";break;case"right":r=T.x+T.width+m,p=T.y+T.height/2,u="start",t="middle";break;case"top":r=T.x+T.width/2,p=T.y-m,u="center",t="bottom";break;case"bottom":r=T.x+T.width/2,p=T.y+T.height+m,u="center",t="top"}}break;case"start":case"end":var w=e.pointList||[[e.xStart||0,e.yStart||0],[e.xEnd||0,e.yEnd||0]],L=w.length;if(2>L)return;var M,P,R,W;switch(x){case"start":M=w[1][0],P=w[0][0],R=w[1][1],W=w[0][1];break;case"end":M=w[L-2][0],P=w[L-1][0],R=w[L-2][1],W=w[L-1][1]}r=P,p=W;var F=Math.atan((R-W)/(P-M))/Math.PI*180;0>P-M?F+=180:0>R-W&&(F+=360),m=5,F>=30&&150>=F?(u="center",t="bottom",p-=m):F>150&&210>F?(u="right",t="middle",r-=m):F>=210&&330>=F?(u="center",t="top",p+=m):(u="left",t="middle",r+=m);break;case"specific":r=e.textX||0,p=e.textY||0,u="start",t="middle"}r!=null&&p!=null&&b(i,e.text,r,p,e.textFont,e.textAlign||u,e.textBaseline||t)}},h.prototype.modSelf=function(){this.__dirty=!0,this.style&&(this.style.__rect=null),this.highlightStyle&&(this.highlightStyle.__rect=null)},h.prototype.isSilent=function(){return!(this.hoverable||this.draggable||this.clickable||this.onmousemove||this.onmouseover||this.onmouseout||this.onmousedown||this.onmouseup||this.onclick||this.ondragenter||this.ondragover||this.ondragleave||this.ondrop)},c.merge(h.prototype,f.prototype,!0),c.merge(h.prototype,a.prototype,!0),h}),st("zrender/tool/curve",["require","./vector"],function(C){function b(x){return x>-s&&s>x}function S(x){return x>s||-s>x}function y(x,T,w,L,M){var P=1-M;return P*P*(P*x+3*M*T)+M*M*(M*L+3*P*w)}function g(x,T,w,L,M){var P=1-M;return 3*(((T-x)*P+2*(w-T)*M)*P+(L-w)*M*M)}function _(x,T,w,L,M,P){var R=L+3*(T-w)-x,W=3*(w-2*T+x),F=3*(T-x),v=x-M,E=W*W-3*R*F,z=W*F-9*R*v,k=F*F-3*W*v,A=0;if(b(E)&&b(z))if(b(W))P[0]=0;else{var O=-F/W;O>=0&&1>=O&&(P[A++]=O)}else{var D=z*z-4*E*k;if(b(D)){var H=z/E,O=-W/R+H,Y=-H/2;O>=0&&1>=O&&(P[A++]=O),Y>=0&&1>=Y&&(P[A++]=Y)}else if(D>0){var j=Math.sqrt(D),U=E*W+1.5*R*(-z+j),$=E*W+1.5*R*(-z-j);U=0>U?-Math.pow(-U,t):Math.pow(U,t),$=0>$?-Math.pow(-$,t):Math.pow($,t);var O=(-W-(U+$))/(3*R);O>=0&&1>=O&&(P[A++]=O)}else{var it=(2*E*W-3*R*z)/(2*Math.sqrt(E*E*E)),rt=Math.acos(it)/3,lt=Math.sqrt(E),at=Math.cos(rt),O=(-W-2*lt*at)/(3*R),Y=(-W+lt*(at+u*Math.sin(rt)))/(3*R),G=(-W+lt*(at-u*Math.sin(rt)))/(3*R);O>=0&&1>=O&&(P[A++]=O),Y>=0&&1>=Y&&(P[A++]=Y),G>=0&&1>=G&&(P[A++]=G)}}return A}function c(x,T,w,L,M){var P=6*w-12*T+6*x,R=9*T+3*L-3*x-9*w,W=3*T-3*x,F=0;if(b(R)){if(S(P)){var v=-W/P;v>=0&&1>=v&&(M[F++]=v)}}else{var E=P*P-4*R*W;if(b(E))M[0]=-P/(2*R);else if(E>0){var z=Math.sqrt(E),v=(-P+z)/(2*R),k=(-P-z)/(2*R);v>=0&&1>=v&&(M[F++]=v),k>=0&&1>=k&&(M[F++]=k)}}return F}function d(x,T,w,L,M,P){var R=(T-x)*M+x,W=(w-T)*M+T,F=(L-w)*M+w,v=(W-R)*M+R,E=(F-W)*M+W,z=(E-v)*M+v;P[0]=x,P[1]=R,P[2]=v,P[3]=z,P[4]=z,P[5]=E,P[6]=F,P[7]=L}function f(x,T,w,L,M,P,R,W,F,v,E){var z,k=.005,A=1/0;r[0]=F,r[1]=v;for(var O=0;1>O;O+=.05){p[0]=y(x,w,M,R,O),p[1]=y(T,L,P,W,O);var D=o.distSquare(r,p);A>D&&(z=O,A=D)}A=1/0;for(var H=0;32>H&&!(s>k);H++){var Y=z-k,j=z+k;p[0]=y(x,w,M,R,Y),p[1]=y(T,L,P,W,Y);var D=o.distSquare(p,r);if(Y>=0&&A>D)z=Y,A=D;else{m[0]=y(x,w,M,R,j),m[1]=y(T,L,P,W,j);var U=o.distSquare(m,r);1>=j&&A>U?(z=j,A=U):k*=.5}}return E&&(E[0]=y(x,w,M,R,z),E[1]=y(T,L,P,W,z)),Math.sqrt(A)}function a(x,T,w,L){var M=1-L;return M*(M*x+2*L*T)+L*L*w}function h(x,T,w,L){return 2*((1-L)*(T-x)+L*(w-T))}function n(x,T,w,L,M){var P=x-2*T+w,R=2*(T-x),W=x-L,F=0;if(b(P)){if(S(R)){var v=-W/R;v>=0&&1>=v&&(M[F++]=v)}}else{var E=R*R-4*P*W;if(b(E)){var v=-R/(2*P);v>=0&&1>=v&&(M[F++]=v)}else if(E>0){var z=Math.sqrt(E),v=(-R+z)/(2*P),k=(-R-z)/(2*P);v>=0&&1>=v&&(M[F++]=v),k>=0&&1>=k&&(M[F++]=k)}}return F}function l(x,T,w){var L=x+w-2*T;return L===0?.5:(x-T)/L}function i(x,T,w,L,M){var P=(T-x)*L+x,R=(w-T)*L+T,W=(R-P)*L+P;M[0]=x,M[1]=P,M[2]=W,M[3]=W,M[4]=R,M[5]=w}function e(x,T,w,L,M,P,R,W,F){var v,E=.005,z=1/0;r[0]=R,r[1]=W;for(var k=0;1>k;k+=.05){p[0]=a(x,w,M,k),p[1]=a(T,L,P,k);var A=o.distSquare(r,p);z>A&&(v=k,z=A)}z=1/0;for(var O=0;32>O&&!(s>E);O++){var D=v-E,H=v+E;p[0]=a(x,w,M,D),p[1]=a(T,L,P,D);var A=o.distSquare(p,r);if(D>=0&&z>A)v=D,z=A;else{m[0]=a(x,w,M,H),m[1]=a(T,L,P,H);var Y=o.distSquare(m,r);1>=H&&z>Y?(v=H,z=Y):E*=.5}}return F&&(F[0]=a(x,w,M,v),F[1]=a(T,L,P,v)),Math.sqrt(z)}var o=C("./vector"),s=1e-4,u=Math.sqrt(3),t=1/3,r=o.create(),p=o.create(),m=o.create();return{cubicAt:y,cubicDerivativeAt:g,cubicRootAt:_,cubicExtrema:c,cubicSubdivide:d,cubicProjectPoint:f,quadraticAt:a,quadraticDerivativeAt:h,quadraticRootAt:n,quadraticExtremum:l,quadraticSubdivide:i,quadraticProjectPoint:e}}),st("zrender/mixin/Transformable",["require","../tool/matrix","../tool/vector"],function(C){function b(a){return a>-d&&d>a}function S(a){return a>d||-d>a}var y=C("../tool/matrix"),g=C("../tool/vector"),_=[0,0],c=y.translate,d=5e-5,f=function(){this.position||(this.position=[0,0]),typeof this.rotation>"u"&&(this.rotation=[0,0,0]),this.scale||(this.scale=[1,1,0,0]),this.needLocalTransform=!1,this.needTransform=!1};return f.prototype={constructor:f,updateNeedTransform:function(){this.needLocalTransform=S(this.rotation[0])||S(this.position[0])||S(this.position[1])||S(this.scale[0]-1)||S(this.scale[1]-1)},updateTransform:function(){this.updateNeedTransform();var a=this.parent&&this.parent.needTransform;if(this.needTransform=this.needLocalTransform||a,this.needTransform){var h=this.transform||y.create();if(y.identity(h),this.needLocalTransform){var n=this.scale;if(S(n[0])||S(n[1])){_[0]=-n[2]||0,_[1]=-n[3]||0;var l=S(_[0])||S(_[1]);l&&c(h,h,_),y.scale(h,h,n),l&&(_[0]=-_[0],_[1]=-_[1],c(h,h,_))}if(this.rotation instanceof Array){if(this.rotation[0]!==0){_[0]=-this.rotation[1]||0,_[1]=-this.rotation[2]||0;var l=S(_[0])||S(_[1]);l&&c(h,h,_),y.rotate(h,h,this.rotation[0]),l&&(_[0]=-_[0],_[1]=-_[1],c(h,h,_))}}else this.rotation!==0&&y.rotate(h,h,this.rotation);(S(this.position[0])||S(this.position[1]))&&c(h,h,this.position)}a&&(this.needLocalTransform?y.mul(h,this.parent.transform,h):y.copy(h,this.parent.transform)),this.transform=h,this.invTransform=this.invTransform||y.create(),y.invert(this.invTransform,h)}},setTransform:function(a){if(this.needTransform){var h=this.transform;a.transform(h[0],h[1],h[2],h[3],h[4],h[5])}},lookAt:function(){var a=g.create();return function(h){this.transform||(this.transform=y.create());var n=this.transform;if(g.sub(a,h,this.position),!b(a[0])||!b(a[1])){g.normalize(a,a);var l=this.scale;n[2]=a[0]*l[1],n[3]=a[1]*l[1],n[0]=a[1]*l[0],n[1]=-a[0]*l[0],n[4]=this.position[0],n[5]=this.position[1],this.decomposeTransform()}}}(),decomposeTransform:function(){if(this.transform){var a=this.transform,h=a[0]*a[0]+a[1]*a[1],n=this.position,l=this.scale,i=this.rotation;S(h-1)&&(h=Math.sqrt(h));var e=a[2]*a[2]+a[3]*a[3];S(e-1)&&(e=Math.sqrt(e)),n[0]=a[4],n[1]=a[5],l[0]=h,l[1]=e,l[2]=l[3]=0,i[0]=Math.atan2(-a[1]/e,a[0]/h),i[1]=i[2]=0}},transformCoordToLocal:function(a,h){var n=[a,h];return this.needTransform&&this.invTransform&&g.applyTransform(n,n,this.invTransform),n}},f}),st("zrender/Group",["require","./tool/guid","./tool/util","./mixin/Transformable","./mixin/Eventful"],function(C){var b=C("./tool/guid"),S=C("./tool/util"),y=C("./mixin/Transformable"),g=C("./mixin/Eventful"),_=function(c){c=c||{},this.id=c.id||b();for(var d in c)this[d]=c[d];this.type="group",this.clipShape=null,this._children=[],this._storage=null,this.__dirty=!0,y.call(this),g.call(this)};return _.prototype.ignore=!1,_.prototype.children=function(){return this._children.slice()},_.prototype.childAt=function(c){return this._children[c]},_.prototype.addChild=function(c){c!=this&&c.parent!=this&&(c.parent&&c.parent.removeChild(c),this._children.push(c),c.parent=this,this._storage&&this._storage!==c._storage&&(this._storage.addToMap(c),c instanceof _&&c.addChildrenToStorage(this._storage)))},_.prototype.removeChild=function(c){var d=S.indexOf(this._children,c);d>=0&&this._children.splice(d,1),c.parent=null,this._storage&&(this._storage.delFromMap(c.id),c instanceof _&&c.delChildrenFromStorage(this._storage))},_.prototype.clearChildren=function(){for(var c=0;c<this._children.length;c++){var d=this._children[c];this._storage&&(this._storage.delFromMap(d.id),d instanceof _&&d.delChildrenFromStorage(this._storage))}this._children.length=0},_.prototype.eachChild=function(c,d){for(var f=!!d,a=0;a<this._children.length;a++){var h=this._children[a];f?c.call(d,h):c(h)}},_.prototype.traverse=function(c,d){for(var f=!!d,a=0;a<this._children.length;a++){var h=this._children[a];f?c.call(d,h):c(h),h.type==="group"&&h.traverse(c,d)}},_.prototype.addChildrenToStorage=function(c){for(var d=0;d<this._children.length;d++){var f=this._children[d];c.addToMap(f),f instanceof _&&f.addChildrenToStorage(c)}},_.prototype.delChildrenFromStorage=function(c){for(var d=0;d<this._children.length;d++){var f=this._children[d];c.delFromMap(f.id),f instanceof _&&f.delChildrenFromStorage(c)}},_.prototype.modSelf=function(){this.__dirty=!0},S.merge(_.prototype,y.prototype,!0),S.merge(_.prototype,g.prototype,!0),_}),st("zrender/animation/Clip",["require","./easing"],function(C){function b(y){this._targetPool=y.target||{},this._targetPool instanceof Array||(this._targetPool=[this._targetPool]),this._life=y.life||1e3,this._delay=y.delay||0,this._startTime=new Date().getTime()+this._delay,this._endTime=this._startTime+1e3*this._life,this.loop=typeof y.loop>"u"?!1:y.loop,this.gap=y.gap||0,this.easing=y.easing||"Linear",this.onframe=y.onframe,this.ondestroy=y.ondestroy,this.onrestart=y.onrestart}var S=C("./easing");return b.prototype={step:function(y){var g=(y-this._startTime)/this._life;if(!(0>g)){g=Math.min(g,1);var _=typeof this.easing=="string"?S[this.easing]:this.easing,c=typeof _=="function"?_(g):g;return this.fire("frame",c),g==1?this.loop?(this.restart(),"restart"):(this.__needsRemove=!0,"destroy"):null}},restart:function(){var y=new Date().getTime(),g=(y-this._startTime)%this._life;this._startTime=new Date().getTime()-g+this.gap,this.__needsRemove=!1},fire:function(y,g){for(var _=0,c=this._targetPool.length;c>_;_++)this["on"+y]&&this["on"+y](this._targetPool[_],g)},constructor:b},b}),st("zrender/animation/easing",[],function(){var C={Linear:function(b){return b},QuadraticIn:function(b){return b*b},QuadraticOut:function(b){return b*(2-b)},QuadraticInOut:function(b){return(b*=2)<1?.5*b*b:-.5*(--b*(b-2)-1)},CubicIn:function(b){return b*b*b},CubicOut:function(b){return--b*b*b+1},CubicInOut:function(b){return(b*=2)<1?.5*b*b*b:.5*((b-=2)*b*b+2)},QuarticIn:function(b){return b*b*b*b},QuarticOut:function(b){return 1- --b*b*b*b},QuarticInOut:function(b){return(b*=2)<1?.5*b*b*b*b:-.5*((b-=2)*b*b*b-2)},QuinticIn:function(b){return b*b*b*b*b},QuinticOut:function(b){return--b*b*b*b*b+1},QuinticInOut:function(b){return(b*=2)<1?.5*b*b*b*b*b:.5*((b-=2)*b*b*b*b+2)},SinusoidalIn:function(b){return 1-Math.cos(b*Math.PI/2)},SinusoidalOut:function(b){return Math.sin(b*Math.PI/2)},SinusoidalInOut:function(b){return .5*(1-Math.cos(Math.PI*b))},ExponentialIn:function(b){return b===0?0:Math.pow(1024,b-1)},ExponentialOut:function(b){return b===1?1:1-Math.pow(2,-10*b)},ExponentialInOut:function(b){return b===0?0:b===1?1:(b*=2)<1?.5*Math.pow(1024,b-1):.5*(-Math.pow(2,-10*(b-1))+2)},CircularIn:function(b){return 1-Math.sqrt(1-b*b)},CircularOut:function(b){return Math.sqrt(1- --b*b)},CircularInOut:function(b){return(b*=2)<1?-.5*(Math.sqrt(1-b*b)-1):.5*(Math.sqrt(1-(b-=2)*b)+1)},ElasticIn:function(b){var S,y=.1,g=.4;return b===0?0:b===1?1:(!y||1>y?(y=1,S=g/4):S=g*Math.asin(1/y)/(2*Math.PI),-(y*Math.pow(2,10*(b-=1))*Math.sin(2*(b-S)*Math.PI/g)))},ElasticOut:function(b){var S,y=.1,g=.4;return b===0?0:b===1?1:(!y||1>y?(y=1,S=g/4):S=g*Math.asin(1/y)/(2*Math.PI),y*Math.pow(2,-10*b)*Math.sin(2*(b-S)*Math.PI/g)+1)},ElasticInOut:function(b){var S,y=.1,g=.4;return b===0?0:b===1?1:(!y||1>y?(y=1,S=g/4):S=g*Math.asin(1/y)/(2*Math.PI),(b*=2)<1?-.5*y*Math.pow(2,10*(b-=1))*Math.sin(2*(b-S)*Math.PI/g):y*Math.pow(2,-10*(b-=1))*Math.sin(2*(b-S)*Math.PI/g)*.5+1)},BackIn:function(b){var S=1.70158;return b*b*((S+1)*b-S)},BackOut:function(b){var S=1.70158;return--b*b*((S+1)*b+S)+1},BackInOut:function(b){var S=2.5949095;return(b*=2)<1?.5*b*b*((S+1)*b-S):.5*((b-=2)*b*((S+1)*b+S)+2)},BounceIn:function(b){return 1-C.BounceOut(1-b)},BounceOut:function(b){return .36363636363636365>b?7.5625*b*b:.7272727272727273>b?7.5625*(b-=.5454545454545454)*b+.75:.9090909090909091>b?7.5625*(b-=.8181818181818182)*b+.9375:7.5625*(b-=.9545454545454546)*b+.984375},BounceInOut:function(b){return .5>b?.5*C.BounceIn(2*b):.5*C.BounceOut(2*b-1)+.5}};return C}),st("echarts/chart/base",["require","zrender/shape/Image","../util/shape/Icon","../util/shape/MarkLine","../util/shape/Symbol","zrender/shape/Polyline","zrender/shape/ShapeBundle","../config","../util/ecData","../util/ecAnimation","../util/ecEffect","../util/accMath","../component/base","../layout/EdgeBundling","zrender/tool/util","zrender/tool/area"],function(C){function b(t){return t.x!=null&&t.y!=null}function S(t,r,p,m,x){e.call(this,t,r,p,m,x);var T=this;this.selectedMap={},this.lastShapeList=[],this.shapeHandler={onclick:function(){T.isClick=!0},ondragover:function(w){var L=w.target;L.highlightStyle=L.highlightStyle||{};var M=L.highlightStyle,P=M.brushTyep,R=M.strokeColor,W=M.lineWidth;M.brushType="stroke",M.strokeColor=T.ecTheme.calculableColor||a.calculableColor,M.lineWidth=L.type==="icon"?30:10,T.zr.addHoverShape(L),setTimeout(function(){M&&(M.brushType=P,M.strokeColor=R,M.lineWidth=W)},20)},ondrop:function(w){h.get(w.dragged,"data")!=null&&(T.isDrop=!0)},ondragend:function(){T.isDragend=!0}}}var y=C("zrender/shape/Image"),g=C("../util/shape/Icon"),_=C("../util/shape/MarkLine"),c=C("../util/shape/Symbol"),d=C("zrender/shape/Polyline"),f=C("zrender/shape/ShapeBundle"),a=C("../config"),h=C("../util/ecData"),n=C("../util/ecAnimation"),l=C("../util/ecEffect"),i=C("../util/accMath"),e=C("../component/base"),o=C("../layout/EdgeBundling"),s=C("zrender/tool/util"),u=C("zrender/tool/area");return S.prototype={setCalculable:function(t){return t.dragEnableTime=this.ecTheme.DRAG_ENABLE_TIME||a.DRAG_ENABLE_TIME,t.ondragover=this.shapeHandler.ondragover,t.ondragend=this.shapeHandler.ondragend,t.ondrop=this.shapeHandler.ondrop,t},ondrop:function(t,r){if(this.isDrop&&t.target&&!r.dragIn){var p,m=t.target,x=t.dragged,T=h.get(m,"seriesIndex"),w=h.get(m,"dataIndex"),L=this.series,M=this.component.legend;if(w===-1){if(h.get(x,"seriesIndex")==T)return r.dragOut=r.dragIn=r.needRefresh=!0,void(this.isDrop=!1);p={value:h.get(x,"value"),name:h.get(x,"name")},this.type===a.CHART_TYPE_PIE&&p.value<0&&(p.value=0);for(var P=!1,R=L[T].data,W=0,F=R.length;F>W;W++)R[W].name===p.name&&R[W].value==="-"&&(L[T].data[W].value=p.value,P=!0);!P&&L[T].data.push(p),M&&M.add(p.name,x.style.color||x.style.strokeColor)}else p=L[T].data[w]||"-",p.value!=null?(L[T].data[w].value=p.value!="-"?i.accAdd(L[T].data[w].value,h.get(x,"value")):h.get(x,"value"),(this.type===a.CHART_TYPE_FUNNEL||this.type===a.CHART_TYPE_PIE)&&(M&&M.getRelatedAmount(p.name)===1&&this.component.legend.del(p.name),p.name+=this.option.nameConnector+h.get(x,"name"),M&&M.add(p.name,x.style.color||x.style.strokeColor))):L[T].data[w]=p!="-"?i.accAdd(L[T].data[w],h.get(x,"value")):h.get(x,"value");r.dragIn=r.dragIn||!0,this.isDrop=!1;var v=this;setTimeout(function(){v.zr.trigger("mousemove",t.event)},300)}},ondragend:function(t,r){if(this.isDragend&&t.target&&!r.dragOut){var p=t.target,m=h.get(p,"seriesIndex"),x=h.get(p,"dataIndex"),T=this.series;if(T[m].data[x].value!=null){T[m].data[x].value="-";var w=T[m].data[x].name,L=this.component.legend;L&&L.getRelatedAmount(w)===0&&L.del(w)}else T[m].data[x]="-";r.dragOut=!0,r.needRefresh=!0,this.isDragend=!1}},onlegendSelected:function(t,r){var p=t.selected;for(var m in this.selectedMap)this.selectedMap[m]!=p[m]&&(r.needRefresh=!0),this.selectedMap[m]=p[m]},_buildPosition:function(){this._symbol=this.option.symbolList,this._sIndex2ShapeMap={},this._sIndex2ColorMap={},this.selectedMap={},this.xMarkMap={};for(var t,r,p,m,x=this.series,T={top:[],bottom:[],left:[],right:[],other:[]},w=0,L=x.length;L>w;w++)x[w].type===this.type&&(x[w]=this.reformOption(x[w]),this.legendHoverLink=x[w].legendHoverLink||this.legendHoverLink,t=x[w].xAxisIndex,r=x[w].yAxisIndex,p=this.component.xAxis.getAxis(t),m=this.component.yAxis.getAxis(r),p.type===a.COMPONENT_TYPE_AXIS_CATEGORY?T[p.getPosition()].push(w):m.type===a.COMPONENT_TYPE_AXIS_CATEGORY?T[m.getPosition()].push(w):T.other.push(w));for(var M in T)T[M].length>0&&this._buildSinglePosition(M,T[M]);this.addShapeList()},_buildSinglePosition:function(t,r){var p=this._mapData(r),m=p.locationMap,x=p.maxDataLength;if(x!==0&&m.length!==0){switch(t){case"bottom":case"top":this._buildHorizontal(r,x,m,this.xMarkMap);break;case"left":case"right":this._buildVertical(r,x,m,this.xMarkMap);break;case"other":this._buildOther(r,x,m,this.xMarkMap)}for(var T=0,w=r.length;w>T;T++)this.buildMark(r[T])}},_mapData:function(t){for(var r,p,m,x,T=this.series,w=0,L={},M="__kener__stack__",P=this.component.legend,R=[],W=0,F=0,v=t.length;v>F;F++){if(r=T[t[F]],m=r.name,this._sIndex2ShapeMap[t[F]]=this._sIndex2ShapeMap[t[F]]||this.query(r,"symbol")||this._symbol[F%this._symbol.length],P){if(this.selectedMap[m]=P.isSelected(m),this._sIndex2ColorMap[t[F]]=P.getColor(m),x=P.getItemShape(m)){var E=x.style;if(this.type==a.CHART_TYPE_LINE)E.iconType="legendLineIcon",E.symbol=this._sIndex2ShapeMap[t[F]];else if(r.itemStyle.normal.barBorderWidth>0){var z=x.highlightStyle;E.brushType="both",E.x+=1,E.y+=1,E.width-=2,E.height-=2,E.strokeColor=z.strokeColor=r.itemStyle.normal.barBorderColor,z.lineWidth=3}P.setItemShape(m,x)}}else this.selectedMap[m]=!0,this._sIndex2ColorMap[t[F]]=this.zr.getColor(t[F]);this.selectedMap[m]&&(p=r.stack||M+t[F],L[p]==null?(L[p]=w,R[w]=[t[F]],w++):R[L[p]].push(t[F])),W=Math.max(W,r.data.length)}return{locationMap:R,maxDataLength:W}},_calculMarkMapXY:function(t,r,p){for(var m=this.series,x=0,T=r.length;T>x;x++)for(var w=0,L=r[x].length;L>w;w++){var M=r[x][w],P=p=="xy"?0:"",R=this.component.grid,W=t[M];if(p.indexOf("x")!="-1"){W["counter"+P]>0&&(W["average"+P]=W["sum"+P]/W["counter"+P]);var F=this.component.xAxis.getAxis(m[M].xAxisIndex||0).getCoord(W["average"+P]);W["averageLine"+P]=[[F,R.getYend()],[F,R.getY()]],W["minLine"+P]=[[W["minX"+P],R.getYend()],[W["minX"+P],R.getY()]],W["maxLine"+P]=[[W["maxX"+P],R.getYend()],[W["maxX"+P],R.getY()]],W.isHorizontal=!1}if(P=p=="xy"?1:"",p.indexOf("y")!="-1"){W["counter"+P]>0&&(W["average"+P]=W["sum"+P]/W["counter"+P]);var v=this.component.yAxis.getAxis(m[M].yAxisIndex||0).getCoord(W["average"+P]);W["averageLine"+P]=[[R.getX(),v],[R.getXend(),v]],W["minLine"+P]=[[R.getX(),W["minY"+P]],[R.getXend(),W["minY"+P]]],W["maxLine"+P]=[[R.getX(),W["maxY"+P]],[R.getXend(),W["maxY"+P]]],W.isHorizontal=!0}}},addLabel:function(t,r,p,m,x){var T=[p,r],w=this.deepMerge(T,"itemStyle.normal.label"),L=this.deepMerge(T,"itemStyle.emphasis.label"),M=w.textStyle||{},P=L.textStyle||{};if(w.show){var R=t.style;R.text=this._getLabelText(r,p,m,"normal"),R.textPosition=w.position==null?x==="horizontal"?"right":"top":w.position,R.textColor=M.color,R.textFont=this.getFont(M),R.textAlign=M.align,R.textBaseline=M.baseline}if(L.show){var W=t.highlightStyle;W.text=this._getLabelText(r,p,m,"emphasis"),W.textPosition=w.show?t.style.textPosition:L.position==null?x==="horizontal"?"right":"top":L.position,W.textColor=P.color,W.textFont=this.getFont(P),W.textAlign=P.align,W.textBaseline=P.baseline}return t},_getLabelText:function(t,r,p,m){var x=this.deepQuery([r,t],"itemStyle."+m+".label.formatter");x||m!=="emphasis"||(x=this.deepQuery([r,t],"itemStyle.normal.label.formatter"));var T=this.getDataFromOption(r,"-");return x?typeof x=="function"?x.call(this.myChart,{seriesName:t.name,series:t,name:p,value:T,data:r,status:m}):typeof x=="string"?x=x.replace("{a}","{a0}").replace("{b}","{b0}").replace("{c}","{c0}").replace("{a0}",t.name).replace("{b0}",p).replace("{c0}",this.numAddCommas(T)):void 0:T instanceof Array?T[2]!=null?this.numAddCommas(T[2]):T[0]+" , "+T[1]:this.numAddCommas(T)},buildMark:function(t){var r=this.series[t];this.selectedMap[r.name]&&(r.markLine&&this._buildMarkLine(t),r.markPoint&&this._buildMarkPoint(t))},_buildMarkPoint:function(t){for(var r,p,m=(this.markAttachStyle||{})[t],x=this.series[t],T=s.clone(x.markPoint),w=0,L=T.data.length;L>w;w++)r=T.data[w],p=this.getMarkCoord(t,r),r.x=r.x!=null?r.x:p[0],r.y=r.y!=null?r.y:p[1],!r.type||r.type!=="max"&&r.type!=="min"||(r.value=p[3],r.name=r.name||r.type,r.symbolSize=r.symbolSize||u.getTextWidth(p[3],this.getFont())/2+5);for(var M=this._markPoint(t,T),w=0,L=M.length;L>w;w++){var P=M[w];P.zlevel=x.zlevel,P.z=x.z+1;for(var R in m)P[R]=s.clone(m[R]);this.shapeList.push(P)}if(this.type===a.CHART_TYPE_FORCE||this.type===a.CHART_TYPE_CHORD)for(var w=0,L=M.length;L>w;w++)this.zr.addShape(M[w])},_buildMarkLine:function(t){for(var r,p=(this.markAttachStyle||{})[t],m=this.series[t],x=s.clone(m.markLine),T=0,w=x.data.length;w>T;T++){var L=x.data[T];!L.type||L.type!=="max"&&L.type!=="min"&&L.type!=="average"?r=[this.getMarkCoord(t,L[0]),this.getMarkCoord(t,L[1])]:(r=this.getMarkCoord(t,L),x.data[T]=[s.clone(L),{}],x.data[T][0].name=L.name||L.type,x.data[T][0].value=L.type!=="average"?r[3]:+r[3].toFixed(x.precision!=null?x.precision:this.deepQuery([this.ecTheme,a],"markLine.precision")),r=r[2],L=[{},{}]),r!=null&&r[0]!=null&&r[1]!=null&&(x.data[T][0].x=L[0].x!=null?L[0].x:r[0][0],x.data[T][0].y=L[0].y!=null?L[0].y:r[0][1],x.data[T][1].x=L[1].x!=null?L[1].x:r[1][0],x.data[T][1].y=L[1].y!=null?L[1].y:r[1][1])}var M=this._markLine(t,x),P=x.large;if(P){var R=new f({style:{shapeList:M}}),W=M[0];if(W){s.merge(R.style,W.style),s.merge(R.highlightStyle={},W.highlightStyle),R.style.brushType="stroke",R.zlevel=m.zlevel,R.z=m.z+1,R.hoverable=!1;for(var F in p)R[F]=s.clone(p[F])}this.shapeList.push(R),this.zr.addShape(R),R._mark="largeLine";var v=x.effect;v.show&&(R.effect=v)}else{for(var T=0,w=M.length;w>T;T++){var E=M[T];E.zlevel=m.zlevel,E.z=m.z+1;for(var F in p)E[F]=s.clone(p[F]);this.shapeList.push(E)}if(this.type===a.CHART_TYPE_FORCE||this.type===a.CHART_TYPE_CHORD)for(var T=0,w=M.length;w>T;T++)this.zr.addShape(M[T])}},_markPoint:function(t,r){var p=this.series[t],m=this.component;s.merge(s.merge(r,s.clone(this.ecTheme.markPoint||{})),s.clone(a.markPoint)),r.name=p.name;var x,T,w,L,M,P,R,W=[],F=r.data,v=m.dataRange,E=m.legend,z=this.zr.getWidth(),k=this.zr.getHeight();if(r.large)x=this.getLargeMarkPointShape(t,r),x._mark="largePoint",x&&W.push(x);else for(var A=0,O=F.length;O>A;A++)F[A].x!=null&&F[A].y!=null&&(w=F[A].value!=null?F[A].value:"",E&&(T=E.getColor(p.name)),v&&(T=isNaN(w)?T:v.getColor(w),L=[F[A],r],M=this.deepQuery(L,"itemStyle.normal.color")||T,P=this.deepQuery(L,"itemStyle.emphasis.color")||M,M==null&&P==null)||(T=T??this.zr.getColor(t),F[A].tooltip=F[A].tooltip||r.tooltip||{trigger:"item"},F[A].name=F[A].name!=null?F[A].name:"",F[A].value=w,x=this.getSymbolShape(r,t,F[A],A,F[A].name,this.parsePercent(F[A].x,z),this.parsePercent(F[A].y,k),"pin",T,"rgba(0,0,0,0)","horizontal"),x._mark="point",R=this.deepMerge([F[A],r],"effect"),R.show&&(x.effect=R),p.type===a.CHART_TYPE_MAP&&(x._geo=this.getMarkGeo(F[A])),h.pack(x,p,t,F[A],A,F[A].name,w),W.push(x)));return W},_markLine:function(){function t(r,p){r[p]=r[p]instanceof Array?r[p].length>1?r[p]:[r[p][0],r[p][0]]:[r[p],r[p]]}return function(r,p){var m=this.series[r],x=this.component,T=x.dataRange,w=x.legend;s.merge(s.merge(p,s.clone(this.ecTheme.markLine||{})),s.clone(a.markLine));var L=w?w.getColor(m.name):this.zr.getColor(r);t(p,"symbol"),t(p,"symbolSize"),t(p,"symbolRotate");for(var M=p.data,P=[],R=this.zr.getWidth(),W=this.zr.getHeight(),F=0;F<M.length;F++){var v=M[F];if(b(v[0])&&b(v[1])){var E=this.deepMerge(v),z=[E,p],k=L,A=E.value!=null?E.value:"";if(T){k=isNaN(A)?k:T.getColor(A);var O=this.deepQuery(z,"itemStyle.normal.color")||k,D=this.deepQuery(z,"itemStyle.emphasis.color")||O;if(O==null&&D==null)continue}v[0].tooltip=E.tooltip||p.tooltip||{trigger:"item"},v[0].name=v[0].name||"",v[1].name=v[1].name||"",v[0].value=A,P.push({points:[[this.parsePercent(v[0].x,R),this.parsePercent(v[0].y,W)],[this.parsePercent(v[1].x,R),this.parsePercent(v[1].y,W)]],rawData:v,color:k})}}var H=this.query(p,"bundling.enable");if(H){var Y=new o;Y.maxTurningAngle=this.query(p,"bundling.maxTurningAngle")/180*Math.PI,P=Y.run(P)}p.name=m.name;for(var j=[],F=0,U=P.length;U>F;F++){var $=P[F],it=$.rawEdge||$,v=it.rawData,A=v.value!=null?v.value:"",rt=this.getMarkLineShape(p,r,v,F,$.points,H,it.color);rt._mark="line";var lt=this.deepMerge([v[0],v[1],p],"effect");lt.show&&(rt.effect=lt,rt.effect.large=p.large),m.type===a.CHART_TYPE_MAP&&(rt._geo=[this.getMarkGeo(v[0]),this.getMarkGeo(v[1])]),h.pack(rt,m,r,v[0],F,v[0].name+(v[1].name!==""?" > "+v[1].name:""),A),j.push(rt)}return j}}(),getMarkCoord:function(){return[0,0]},getSymbolShape:function(t,r,p,m,x,T,w,L,M,P,R){var W=[p,t],F=this.getDataFromOption(p,"-");L=this.deepQuery(W,"symbol")||L;var v=this.deepQuery(W,"symbolSize");v=typeof v=="function"?v(F):v,typeof v=="number"&&(v=[v,v]);var E=this.deepQuery(W,"symbolRotate"),z=this.deepMerge(W,"itemStyle.normal"),k=this.deepMerge(W,"itemStyle.emphasis"),A=z.borderWidth!=null?z.borderWidth:z.lineStyle&&z.lineStyle.width;A==null&&(A=L.match("empty")?2:0);var O=k.borderWidth!=null?k.borderWidth:k.lineStyle&&k.lineStyle.width;O==null&&(O=A+2);var D=this.getItemStyleColor(z.color,r,m,p),H=this.getItemStyleColor(k.color,r,m,p),Y=v[0],j=v[1],U=new g({style:{iconType:L.replace("empty","").toLowerCase(),x:T-Y,y:w-j,width:2*Y,height:2*j,brushType:"both",color:L.match("empty")?P:D||M,strokeColor:z.borderColor||D||M,lineWidth:A},highlightStyle:{color:L.match("empty")?P:H||D||M,strokeColor:k.borderColor||z.borderColor||H||D||M,lineWidth:O},clickable:this.deepQuery(W,"clickable")});return L.match("image")&&(U.style.image=L.replace(new RegExp("^image:\\/\\/"),""),U=new y({style:U.style,highlightStyle:U.highlightStyle,clickable:this.deepQuery(W,"clickable")})),E!=null&&(U.rotation=[E*Math.PI/180,T,w]),L.match("star")&&(U.style.iconType="star",U.style.n=L.replace("empty","").replace("star","")-0||5),L==="none"&&(U.invisible=!0,U.hoverable=!1),U=this.addLabel(U,t,p,x,R),L.match("empty")&&(U.style.textColor==null&&(U.style.textColor=U.style.strokeColor),U.highlightStyle.textColor==null&&(U.highlightStyle.textColor=U.highlightStyle.strokeColor)),h.pack(U,t,r,p,m,x),U._x=T,U._y=w,U._dataIndex=m,U._seriesIndex=r,U},getMarkLineShape:function(t,r,p,m,x,T,w){var L=p[0].value!=null?p[0].value:"-",M=p[1].value!=null?p[1].value:"-",P=[p[0].symbol||t.symbol[0],p[1].symbol||t.symbol[1]],R=[p[0].symbolSize||t.symbolSize[0],p[1].symbolSize||t.symbolSize[1]];R[0]=typeof R[0]=="function"?R[0](L):R[0],R[1]=typeof R[1]=="function"?R[1](M):R[1];var W=[this.query(p[0],"symbolRotate")||t.symbolRotate[0],this.query(p[1],"symbolRotate")||t.symbolRotate[1]],F=[p[0],p[1],t],v=this.deepMerge(F,"itemStyle.normal");v.color=this.getItemStyleColor(v.color,r,m,p);var E=this.deepMerge(F,"itemStyle.emphasis");E.color=this.getItemStyleColor(E.color,r,m,p);var z=v.lineStyle,k=E.lineStyle,A=z.width;A==null&&(A=v.borderWidth);var O=k.width;O==null&&(O=E.borderWidth!=null?E.borderWidth:A+2);var D=this.deepQuery(F,"smoothness");this.deepQuery(F,"smooth")||(D=0);var H=T?d:_,Y=new H({style:{symbol:P,symbolSize:R,symbolRotate:W,brushType:"both",lineType:z.type,shadowColor:z.shadowColor||z.color||v.borderColor||v.color||w,shadowBlur:z.shadowBlur,shadowOffsetX:z.shadowOffsetX,shadowOffsetY:z.shadowOffsetY,color:v.color||w,strokeColor:z.color||v.borderColor||v.color||w,lineWidth:A,symbolBorderColor:v.borderColor||v.color||w,symbolBorder:v.borderWidth},highlightStyle:{shadowColor:k.shadowColor,shadowBlur:k.shadowBlur,shadowOffsetX:k.shadowOffsetX,shadowOffsetY:k.shadowOffsetY,color:E.color||v.color||w,strokeColor:k.color||z.color||E.borderColor||v.borderColor||E.color||v.color||w,lineWidth:O,symbolBorderColor:E.borderColor||v.borderColor||E.color||v.color||w,symbolBorder:E.borderWidth==null?v.borderWidth+2:E.borderWidth},clickable:this.deepQuery(F,"clickable")}),j=Y.style;return T?(j.pointList=x,j.smooth=D):(j.xStart=x[0][0],j.yStart=x[0][1],j.xEnd=x[1][0],j.yEnd=x[1][1],j.curveness=D,Y.updatePoints(Y.style)),Y=this.addLabel(Y,t,p[0],p[0].name+" : "+p[1].name)},getLargeMarkPointShape:function(t,r){var p,m,x,T,w,L,M=this.series[t],P=this.component,R=r.data,W=P.dataRange,F=P.legend,v=[R[0],r];if(F&&(m=F.getColor(M.name)),!W||(x=R[0].value!=null?R[0].value:"",m=isNaN(x)?m:W.getColor(x),T=this.deepQuery(v,"itemStyle.normal.color")||m,w=this.deepQuery(v,"itemStyle.emphasis.color")||T,T!=null||w!=null)){m=this.deepMerge(v,"itemStyle.normal").color||m;var E=this.deepQuery(v,"symbol")||"circle";E=E.replace("empty","").replace(/\d/g,""),L=this.deepMerge([R[0],r],"effect");var z=window.devicePixelRatio||1;return p=new c({style:{pointList:R,color:m,strokeColor:m,shadowColor:L.shadowColor||m,shadowBlur:(L.shadowBlur!=null?L.shadowBlur:8)*z,size:this.deepQuery(v,"symbolSize"),iconType:E,brushType:"fill",lineWidth:1},draggable:!1,hoverable:!1}),L.show&&(p.effect=L),p}},backupShapeList:function(){this.shapeList&&this.shapeList.length>0?(this.lastShapeList=this.shapeList,this.shapeList=[]):this.lastShapeList=[]},addShapeList:function(){var t,r,p=this.option.animationThreshold/(this.canvasSupported?2:4),m=this.lastShapeList,x=this.shapeList,T=m.length>0,w=T?this.query(this.option,"animationDurationUpdate"):this.query(this.option,"animationDuration"),L=this.query(this.option,"animationEasing"),M={},P={};if(this.option.animation&&!this.option.renderAsImage&&x.length<p&&!this.motionlessOnce){for(var R=0,W=m.length;W>R;R++)r=this._getAnimationKey(m[R]),r.match("undefined")?this.zr.delShape(m[R].id):(r+=m[R].type,M[r]?this.zr.delShape(m[R].id):M[r]=m[R]);for(var R=0,W=x.length;W>R;R++)r=this._getAnimationKey(x[R]),r.match("undefined")?this.zr.addShape(x[R]):(r+=x[R].type,P[r]=x[R]);for(r in M)P[r]||this.zr.delShape(M[r].id);for(r in P)M[r]?(this.zr.delShape(M[r].id),this._animateMod(M[r],P[r],w,L,0,T)):(t=this.type!=a.CHART_TYPE_LINE&&this.type!=a.CHART_TYPE_RADAR||r.indexOf("icon")===0?0:w/2,this._animateMod(!1,P[r],w,L,t,T));this.zr.refresh(),this.animationEffect()}else{this.motionlessOnce=!1,this.zr.delShape(m);for(var R=0,W=x.length;W>R;R++)this.zr.addShape(x[R])}},_getAnimationKey:function(t){return this.type!=a.CHART_TYPE_MAP&&this.type!=a.CHART_TYPE_TREEMAP&&this.type!=a.CHART_TYPE_VENN&&this.type!=a.CHART_TYPE_TREE?h.get(t,"seriesIndex")+"_"+h.get(t,"dataIndex")+(t._mark?t._mark:"")+(this.type===a.CHART_TYPE_RADAR?h.get(t,"special"):""):h.get(t,"seriesIndex")+"_"+h.get(t,"dataIndex")+(t._mark?t._mark:"undefined")},_animateMod:function(t,r,p,m,x,T){switch(r.type){case"polyline":case"half-smooth-polygon":n.pointList(this.zr,t,r,p,m);break;case"rectangle":n.rectangle(this.zr,t,r,p,m);break;case"image":case"icon":n.icon(this.zr,t,r,p,m,x);break;case"candle":T?this.zr.addShape(r):n.candle(this.zr,t,r,p,m);break;case"ring":case"sector":case"circle":T?r.type==="sector"?n.sector(this.zr,t,r,p,m):this.zr.addShape(r):n.ring(this.zr,t,r,p+(h.get(r,"dataIndex")||0)%20*100,m);break;case"text":n.text(this.zr,t,r,p,m);break;case"polygon":T?n.pointList(this.zr,t,r,p,m):n.polygon(this.zr,t,r,p,m);break;case"ribbon":n.ribbon(this.zr,t,r,p,m);break;case"gauge-pointer":n.gaugePointer(this.zr,t,r,p,m);break;case"mark-line":n.markline(this.zr,t,r,p,m);break;case"bezier-curve":case"line":n.line(this.zr,t,r,p,m);break;default:this.zr.addShape(r)}},animationMark:function(t,r,p){for(var p=p||this.shapeList,m=0,x=p.length;x>m;m++)p[m]._mark&&this._animateMod(!1,p[m],t,r,0,!0);this.animationEffect(p)},animationEffect:function(t){if(!t&&this.clearEffectShape(),t=t||this.shapeList,t!=null){var r=a.EFFECT_ZLEVEL;this.canvasSupported&&this.zr.modLayer(r,{motionBlur:!0,lastFrameAlpha:this.option.effectBlendAlpha||a.effectBlendAlpha});for(var p,m=0,x=t.length;x>m;m++)p=t[m],p._mark&&p.effect&&p.effect.show&&l[p._mark]&&(l[p._mark](this.zr,this.effectList,p,r),this.effectList[this.effectList.length-1]._mark=p._mark)}},clearEffectShape:function(t){var r=this.effectList;if(this.zr&&r&&r.length>0){t&&this.zr.modLayer(a.EFFECT_ZLEVEL,{motionBlur:!1}),this.zr.delShape(r);for(var p=0;p<r.length;p++)r[p].effectAnimator&&r[p].effectAnimator.stop()}this.effectList=[]},addMark:function(t,r,p){var m=this.series[t];if(this.selectedMap[m.name]){var x=this.query(this.option,"animationDurationUpdate"),T=this.query(this.option,"animationEasing"),w=m[p].data,L=this.shapeList.length;if(m[p].data=r.data,this["_build"+p.replace("m","M")](t),this.option.animation&&!this.option.renderAsImage)this.animationMark(x,T,this.shapeList.slice(L));else{for(var M=L,P=this.shapeList.length;P>M;M++)this.zr.addShape(this.shapeList[M]);this.zr.refreshNextFrame()}m[p].data=w}},delMark:function(t,r,p){p=p.replace("mark","").replace("large","").toLowerCase();var m=this.series[t];if(this.selectedMap[m.name]){for(var x=!1,T=[this.shapeList,this.effectList],w=2;w--;)for(var L=0,M=T[w].length;M>L;L++)if(T[w][L]._mark==p&&h.get(T[w][L],"seriesIndex")==t&&h.get(T[w][L],"name")==r){this.zr.delShape(T[w][L].id),T[w].splice(L,1),x=!0;break}x&&this.zr.refreshNextFrame()}}},s.inherits(S,e),S}),st("zrender/shape/Circle",["require","./Base","../tool/util"],function(C){var b=C("./Base"),S=function(y){b.call(this,y)};return S.prototype={type:"circle",buildPath:function(y,g){y.moveTo(g.x+g.r,g.y),y.arc(g.x,g.y,g.r,0,2*Math.PI,!0)},getRect:function(y){if(y.__rect)return y.__rect;var g;return g=y.brushType=="stroke"||y.brushType=="fill"?y.lineWidth||1:0,y.__rect={x:Math.round(y.x-y.r-g/2),y:Math.round(y.y-y.r-g/2),width:2*y.r+g,height:2*y.r+g},y.__rect}},C("../tool/util").inherits(S,b),S}),st("echarts/util/accMath",[],function(){function C(g,_){var c=g.toString(),d=_.toString(),f=0;try{f=d.split(".")[1].length}catch{}try{f-=c.split(".")[1].length}catch{}return(c.replace(".","")-0)/(d.replace(".","")-0)*Math.pow(10,f)}function b(g,_){var c=g.toString(),d=_.toString(),f=0;try{f+=c.split(".")[1].length}catch{}try{f+=d.split(".")[1].length}catch{}return(c.replace(".","")-0)*(d.replace(".","")-0)/Math.pow(10,f)}function S(g,_){var c=0,d=0;try{c=g.toString().split(".")[1].length}catch{}try{d=_.toString().split(".")[1].length}catch{}var f=Math.pow(10,Math.max(c,d));return(Math.round(g*f)+Math.round(_*f))/f}function y(g,_){return S(g,-_)}return{accDiv:C,accMul:b,accAdd:S,accSub:y}}),st("echarts/util/shape/Icon",["require","zrender/tool/util","zrender/shape/Star","zrender/shape/Heart","zrender/shape/Droplet","zrender/shape/Image","zrender/shape/Base"],function(C){function b(v,E){var z=E.x,k=E.y,A=E.width/16,O=E.height/16;v.moveTo(z,k+E.height),v.lineTo(z+5*A,k+14*O),v.lineTo(z+E.width,k+3*O),v.lineTo(z+13*A,k),v.lineTo(z+2*A,k+11*O),v.lineTo(z,k+E.height),v.moveTo(z+6*A,k+10*O),v.lineTo(z+14*A,k+2*O),v.moveTo(z+10*A,k+13*O),v.lineTo(z+E.width,k+13*O),v.moveTo(z+13*A,k+10*O),v.lineTo(z+13*A,k+E.height)}function S(v,E){var z=E.x,k=E.y,A=E.width/16,O=E.height/16;v.moveTo(z,k+E.height),v.lineTo(z+5*A,k+14*O),v.lineTo(z+E.width,k+3*O),v.lineTo(z+13*A,k),v.lineTo(z+2*A,k+11*O),v.lineTo(z,k+E.height),v.moveTo(z+6*A,k+10*O),v.lineTo(z+14*A,k+2*O),v.moveTo(z+10*A,k+13*O),v.lineTo(z+E.width,k+13*O)}function y(v,E){var z=E.x,k=E.y,A=E.width/16,O=E.height/16;v.moveTo(z+4*A,k+15*O),v.lineTo(z+9*A,k+13*O),v.lineTo(z+14*A,k+8*O),v.lineTo(z+11*A,k+5*O),v.lineTo(z+6*A,k+10*O),v.lineTo(z+4*A,k+15*O),v.moveTo(z+5*A,k),v.lineTo(z+11*A,k),v.moveTo(z+5*A,k+O),v.lineTo(z+11*A,k+O),v.moveTo(z,k+2*O),v.lineTo(z+E.width,k+2*O),v.moveTo(z,k+5*O),v.lineTo(z+3*A,k+E.height),v.lineTo(z+13*A,k+E.height),v.lineTo(z+E.width,k+5*O)}function g(v,E){var z=E.x,k=E.y,A=E.width/16,O=E.height/16;v.moveTo(z,k+3*O),v.lineTo(z+6*A,k+3*O),v.moveTo(z+3*A,k),v.lineTo(z+3*A,k+6*O),v.moveTo(z+3*A,k+8*O),v.lineTo(z+3*A,k+E.height),v.lineTo(z+E.width,k+E.height),v.lineTo(z+E.width,k+3*O),v.lineTo(z+8*A,k+3*O)}function _(v,E){var z=E.x,k=E.y,A=E.width/16,O=E.height/16;v.moveTo(z+6*A,k),v.lineTo(z+2*A,k+3*O),v.lineTo(z+6*A,k+6*O),v.moveTo(z+2*A,k+3*O),v.lineTo(z+14*A,k+3*O),v.lineTo(z+14*A,k+11*O),v.moveTo(z+2*A,k+5*O),v.lineTo(z+2*A,k+13*O),v.lineTo(z+14*A,k+13*O),v.moveTo(z+10*A,k+10*O),v.lineTo(z+14*A,k+13*O),v.lineTo(z+10*A,k+E.height)}function c(v,E){var z=E.x,k=E.y,A=E.width/16,O=E.height/16,D=E.width/2;v.lineWidth=1.5,v.arc(z+D,k+D,D-A,0,2*Math.PI/3),v.moveTo(z+3*A,k+E.height),v.lineTo(z+0*A,k+12*O),v.lineTo(z+5*A,k+11*O),v.moveTo(z,k+8*O),v.arc(z+D,k+D,D-A,Math.PI,5*Math.PI/3),v.moveTo(z+13*A,k),v.lineTo(z+E.width,k+4*O),v.lineTo(z+11*A,k+5*O)}function d(v,E){var z=E.x,k=E.y,A=E.width/16,O=E.height/16;v.moveTo(z,k),v.lineTo(z,k+E.height),v.lineTo(z+E.width,k+E.height),v.moveTo(z+2*A,k+14*O),v.lineTo(z+7*A,k+6*O),v.lineTo(z+11*A,k+11*O),v.lineTo(z+15*A,k+2*O)}function f(v,E){var z=E.x,k=E.y,A=E.width/16,O=E.height/16;v.moveTo(z,k),v.lineTo(z,k+E.height),v.lineTo(z+E.width,k+E.height),v.moveTo(z+3*A,k+14*O),v.lineTo(z+3*A,k+6*O),v.lineTo(z+4*A,k+6*O),v.lineTo(z+4*A,k+14*O),v.moveTo(z+7*A,k+14*O),v.lineTo(z+7*A,k+2*O),v.lineTo(z+8*A,k+2*O),v.lineTo(z+8*A,k+14*O),v.moveTo(z+11*A,k+14*O),v.lineTo(z+11*A,k+9*O),v.lineTo(z+12*A,k+9*O),v.lineTo(z+12*A,k+14*O)}function a(v,E){var z=E.x,k=E.y,A=E.width-2,O=E.height-2,D=Math.min(A,O)/2;k+=2,v.moveTo(z+D+3,k+D-3),v.arc(z+D+3,k+D-3,D-1,0,-Math.PI/2,!0),v.lineTo(z+D+3,k+D-3),v.moveTo(z+D,k),v.lineTo(z+D,k+D),v.arc(z+D,k+D,D,-Math.PI/2,2*Math.PI,!0),v.lineTo(z+D,k+D),v.lineWidth=1.5}function h(v,E){var z=E.x,k=E.y,A=E.width/16,O=E.height/16;k-=O,v.moveTo(z+1*A,k+2*O),v.lineTo(z+15*A,k+2*O),v.lineTo(z+14*A,k+3*O),v.lineTo(z+2*A,k+3*O),v.moveTo(z+3*A,k+6*O),v.lineTo(z+13*A,k+6*O),v.lineTo(z+12*A,k+7*O),v.lineTo(z+4*A,k+7*O),v.moveTo(z+5*A,k+10*O),v.lineTo(z+11*A,k+10*O),v.lineTo(z+10*A,k+11*O),v.lineTo(z+6*A,k+11*O),v.moveTo(z+7*A,k+14*O),v.lineTo(z+9*A,k+14*O),v.lineTo(z+8*A,k+15*O),v.lineTo(z+7*A,k+15*O)}function n(v,E){var z=E.x,k=E.y,A=E.width,O=E.height,D=A/16,H=O/16,Y=2*Math.min(D,H);v.moveTo(z+D+Y,k+H+Y),v.arc(z+D,k+H,Y,Math.PI/4,3*Math.PI),v.lineTo(z+7*D-Y,k+6*H-Y),v.arc(z+7*D,k+6*H,Y,Math.PI/4*5,4*Math.PI),v.arc(z+7*D,k+6*H,Y/2,Math.PI/4*5,4*Math.PI),v.moveTo(z+7*D-Y/2,k+6*H+Y),v.lineTo(z+D+Y,k+14*H-Y),v.arc(z+D,k+14*H,Y,-Math.PI/4,2*Math.PI),v.moveTo(z+7*D+Y/2,k+6*H),v.lineTo(z+14*D-Y,k+10*H-Y/2),v.moveTo(z+16*D,k+10*H),v.arc(z+14*D,k+10*H,Y,0,3*Math.PI),v.lineWidth=1.5}function l(v,E){var z=E.x,k=E.y,A=E.width,O=E.height,D=Math.min(A,O)/2;v.moveTo(z+A,k+O/2),v.arc(z+D,k+D,D,0,2*Math.PI),v.arc(z+D,k,D,Math.PI/4,Math.PI/5*4),v.arc(z,k+D,D,-Math.PI/3,Math.PI/3),v.arc(z+A,k+O,D,Math.PI,Math.PI/2*3),v.lineWidth=1.5}function i(v,E){for(var z=E.x,k=E.y,A=E.width,O=E.height,D=Math.round(O/3),H=Math.round((D-2)/2),Y=3;Y--;)v.rect(z,k+D*Y+H,A,2)}function e(v,E){for(var z=E.x,k=E.y,A=E.width,O=E.height,D=Math.round(A/3),H=Math.round((D-2)/2),Y=3;Y--;)v.rect(z+D*Y+H,k,2,O)}function o(v,E){var z=E.x,k=E.y,A=E.width/16;v.moveTo(z+A,k),v.lineTo(z+A,k+E.height),v.lineTo(z+15*A,k+E.height),v.lineTo(z+15*A,k),v.lineTo(z+A,k),v.moveTo(z+3*A,k+3*A),v.lineTo(z+13*A,k+3*A),v.moveTo(z+3*A,k+6*A),v.lineTo(z+13*A,k+6*A),v.moveTo(z+3*A,k+9*A),v.lineTo(z+13*A,k+9*A),v.moveTo(z+3*A,k+12*A),v.lineTo(z+9*A,k+12*A)}function s(v,E){var z=E.x,k=E.y,A=E.width/16,O=E.height/16;v.moveTo(z,k),v.lineTo(z,k+E.height),v.lineTo(z+E.width,k+E.height),v.lineTo(z+E.width,k),v.lineTo(z,k),v.moveTo(z+4*A,k),v.lineTo(z+4*A,k+8*O),v.lineTo(z+12*A,k+8*O),v.lineTo(z+12*A,k),v.moveTo(z+6*A,k+11*O),v.lineTo(z+6*A,k+13*O),v.lineTo(z+10*A,k+13*O),v.lineTo(z+10*A,k+11*O),v.lineTo(z+6*A,k+11*O)}function u(v,E){var z=E.x,k=E.y,A=E.width,O=E.height;v.moveTo(z,k+O/2),v.lineTo(z+A,k+O/2),v.moveTo(z+A/2,k),v.lineTo(z+A/2,k+O)}function t(v,E){var z=E.width/2,k=E.height/2,A=Math.min(z,k);v.moveTo(E.x+z+A,E.y+k),v.arc(E.x+z,E.y+k,A,0,2*Math.PI),v.closePath()}function r(v,E){v.rect(E.x,E.y,E.width,E.height),v.closePath()}function p(v,E){var z=E.width/2,k=E.height/2,A=E.x+z,O=E.y+k,D=Math.min(z,k);v.moveTo(A,O-D),v.lineTo(A+D,O+D),v.lineTo(A-D,O+D),v.lineTo(A,O-D),v.closePath()}function m(v,E){var z=E.width/2,k=E.height/2,A=E.x+z,O=E.y+k,D=Math.min(z,k);v.moveTo(A,O-D),v.lineTo(A+D,O),v.lineTo(A,O+D),v.lineTo(A-D,O),v.lineTo(A,O-D),v.closePath()}function x(v,E){var z=E.x,k=E.y,A=E.width/16;v.moveTo(z+8*A,k),v.lineTo(z+A,k+E.height),v.lineTo(z+8*A,k+E.height/4*3),v.lineTo(z+15*A,k+E.height),v.lineTo(z+8*A,k),v.closePath()}function T(v,E){var z=C("zrender/shape/Star"),k=E.width/2,A=E.height/2;z.prototype.buildPath(v,{x:E.x+k,y:E.y+A,r:Math.min(k,A),n:E.n||5})}function w(v,E){var z=C("zrender/shape/Heart");z.prototype.buildPath(v,{x:E.x+E.width/2,y:E.y+.2*E.height,a:E.width/2,b:.8*E.height})}function L(v,E){var z=C("zrender/shape/Droplet");z.prototype.buildPath(v,{x:E.x+.5*E.width,y:E.y+.5*E.height,a:.5*E.width,b:.8*E.height})}function M(v,E){var z=E.x,k=E.y-E.height/2*1.5,A=E.width/2,O=E.height/2,D=Math.min(A,O);v.arc(z+A,k+O,D,Math.PI/5*4,Math.PI/5),v.lineTo(z+A,k+O+1.5*D),v.closePath()}function P(v,E,z){var k=C("zrender/shape/Image");this._imageShape=this._imageShape||new k({style:{}});for(var A in E)this._imageShape.style[A]=E[A];this._imageShape.brush(v,!1,z)}function R(v){F.call(this,v)}var W=C("zrender/tool/util"),F=C("zrender/shape/Base");return R.prototype={type:"icon",iconLibrary:{mark:b,markUndo:S,markClear:y,dataZoom:g,dataZoomReset:_,restore:c,lineChart:d,barChart:f,pieChart:a,funnelChart:h,forceChart:n,chordChart:l,stackChart:i,tiledChart:e,dataView:o,saveAsImage:s,cross:u,circle:t,rectangle:r,triangle:p,diamond:m,arrow:x,star:T,heart:w,droplet:L,pin:M,image:P},brush:function(v,E,z){var k=E?this.highlightStyle:this.style;k=k||{};var A=k.iconType||this.style.iconType;if(A==="image"){var O=C("zrender/shape/Image");O.prototype.brush.call(this,v,E,z)}else{var k=this.beforeBrush(v,E);switch(v.beginPath(),this.buildPath(v,k,z),k.brushType){case"both":v.fill();case"stroke":k.lineWidth>0&&v.stroke();break;default:v.fill()}this.drawText(v,k,this.style),this.afterBrush(v)}},buildPath:function(v,E,z){this.iconLibrary[E.iconType]?this.iconLibrary[E.iconType].call(this,v,E,z):(v.moveTo(E.x,E.y),v.lineTo(E.x+E.width,E.y),v.lineTo(E.x+E.width,E.y+E.height),v.lineTo(E.x,E.y+E.height),v.lineTo(E.x,E.y),v.closePath())},getRect:function(v){return v.__rect||(v.__rect={x:Math.round(v.x),y:Math.round(v.y-(v.iconType=="pin"?v.height/2*1.5:0)),width:v.width,height:v.height*(v.iconType==="pin"?1.25:1)}),v.__rect},isCover:function(v,E){var z=this.transformCoordToLocal(v,E);v=z[0],E=z[1];var k=this.style.__rect;k||(k=this.style.__rect=this.getRect(this.style));var A=k.height<8||k.width<8?4:0;return v>=k.x-A&&v<=k.x+k.width+A&&E>=k.y-A&&E<=k.y+k.height+A}},W.inherits(R,F),R}),st("echarts/util/shape/MarkLine",["require","zrender/shape/Base","./Icon","zrender/shape/Line","zrender/shape/BezierCurve","zrender/tool/area","zrender/shape/util/dashedLineTo","zrender/tool/util","zrender/tool/curve"],function(C){function b(l){S.call(this,l),this.style.curveness>0&&this.updatePoints(this.style),this.highlightStyle.curveness>0&&this.updatePoints(this.highlightStyle)}var S=C("zrender/shape/Base"),y=C("./Icon"),g=C("zrender/shape/Line"),_=new g({}),c=C("zrender/shape/BezierCurve"),d=new c({}),f=C("zrender/tool/area"),a=C("zrender/shape/util/dashedLineTo"),h=C("zrender/tool/util"),n=C("zrender/tool/curve");return b.prototype={type:"mark-line",brush:function(l,i){var e=this.style;i&&(e=this.getHighlightStyle(e,this.highlightStyle||{})),l.save(),this.setContext(l,e),this.setTransform(l),l.save(),l.beginPath(),this.buildPath(l,e),l.stroke(),l.restore(),this.brushSymbol(l,e,0),this.brushSymbol(l,e,1),this.drawText(l,e,this.style),l.restore()},buildPath:function(l,i){var e=i.lineType||"solid";if(l.moveTo(i.xStart,i.yStart),i.curveness>0){var o=null;switch(e){case"dashed":o=[5,5];break;case"dotted":o=[1,1]}o&&l.setLineDash&&l.setLineDash(o),l.quadraticCurveTo(i.cpX1,i.cpY1,i.xEnd,i.yEnd)}else if(e=="solid")l.lineTo(i.xEnd,i.yEnd);else{var s=(i.lineWidth||1)*(i.lineType=="dashed"?5:1);a(l,i.xStart,i.yStart,i.xEnd,i.yEnd,s)}},updatePoints:function(l){var i=l.curveness||0,e=1,o=l.xStart,s=l.yStart,u=l.xEnd,t=l.yEnd,r=(o+u)/2-e*(s-t)*i,p=(s+t)/2-e*(u-o)*i;l.cpX1=r,l.cpY1=p},brushSymbol:function(l,i,e){if(i.symbol[e]!="none"){l.save(),l.beginPath(),l.lineWidth=i.symbolBorder,l.strokeStyle=i.symbolBorderColor;var o=i.symbol[e].replace("empty","").toLowerCase();i.symbol[e].match("empty")&&(l.fillStyle="#fff");var s=i.xStart,u=i.yStart,t=i.xEnd,r=i.yEnd,p=e===0?s:t,m=e===0?u:r,x=i.curveness||0,T=i.symbolRotate[e]!=null?i.symbolRotate[e]-0:0;if(T=T/180*Math.PI,o=="arrow"&&T===0)if(x===0){var w=e===0?-1:1;T=Math.PI/2+Math.atan2(w*(r-u),w*(t-s))}else{var L=i.cpX1,M=i.cpY1,P=n.quadraticDerivativeAt,R=P(s,L,t,e),W=P(u,M,r,e);T=Math.PI/2+Math.atan2(W,R)}l.translate(p,m),T!==0&&l.rotate(T);var F=i.symbolSize[e];y.prototype.buildPath(l,{x:-F,y:-F,width:2*F,height:2*F,iconType:o}),l.closePath(),l.fill(),l.stroke(),l.restore()}},getRect:function(l){return l.curveness>0?d.getRect(l):_.getRect(l),l.__rect},isCover:function(l,i){var e=this.transformCoordToLocal(l,i);return l=e[0],i=e[1],this.isCoverRect(l,i)?this.style.curveness>0?f.isInside(d,this.style,l,i):f.isInside(_,this.style,l,i):!1}},h.inherits(b,S),b}),st("echarts/util/shape/Symbol",["require","zrender/shape/Base","zrender/shape/Polygon","zrender/tool/util","./normalIsCover"],function(C){function b(c){S.call(this,c)}var S=C("zrender/shape/Base"),y=C("zrender/shape/Polygon"),g=new y({}),_=C("zrender/tool/util");return b.prototype={type:"symbol",buildPath:function(c,d){var f=d.pointList,a=f.length;if(a!==0)for(var h,n,l,i,e,o=1e4,s=Math.ceil(a/o),u=f[0]instanceof Array,t=d.size?d.size:2,r=t,p=t/2,m=2*Math.PI,x=0;s>x;x++){c.beginPath(),h=x*o,n=h+o,n=n>a?a:n;for(var T=h;n>T;T++)if(d.random&&(l=d["randomMap"+T%20]/100,r=t*l*l,p=r/2),u?(i=f[T][0],e=f[T][1]):(i=f[T].x,e=f[T].y),3>r)c.rect(i-p,e-p,r,r);else switch(d.iconType){case"circle":c.moveTo(i,e),c.arc(i,e,p,0,m,!0);break;case"diamond":c.moveTo(i,e-p),c.lineTo(i+p/3,e-p/3),c.lineTo(i+p,e),c.lineTo(i+p/3,e+p/3),c.lineTo(i,e+p),c.lineTo(i-p/3,e+p/3),c.lineTo(i-p,e),c.lineTo(i-p/3,e-p/3),c.lineTo(i,e-p);break;default:c.rect(i-p,e-p,r,r)}if(c.closePath(),s-1>x)switch(d.brushType){case"both":c.fill(),d.lineWidth>0&&c.stroke();break;case"stroke":d.lineWidth>0&&c.stroke();break;default:c.fill()}}},getRect:function(c){return c.__rect||g.getRect(c)},isCover:C("./normalIsCover")},_.inherits(b,S),b}),st("zrender/shape/Polyline",["require","./Base","./util/smoothSpline","./util/smoothBezier","./util/dashedLineTo","./Polygon","../tool/util"],function(C){var b=C("./Base"),S=C("./util/smoothSpline"),y=C("./util/smoothBezier"),g=C("./util/dashedLineTo"),_=function(c){this.brushTypeOnly="stroke",this.textPosition="end",b.call(this,c)};return _.prototype={type:"polyline",buildPath:function(c,d){var f=d.pointList;if(!(f.length<2)){var a=Math.min(d.pointList.length,Math.round(d.pointListLength||d.pointList.length));if(d.smooth&&d.smooth!=="spline"){d.controlPointList||this.updateControlPoints(d);var h=d.controlPointList;c.moveTo(f[0][0],f[0][1]);for(var n,l,i,e=0;a-1>e;e++)n=h[2*e],l=h[2*e+1],i=f[e+1],c.bezierCurveTo(n[0],n[1],l[0],l[1],i[0],i[1])}else if(d.smooth==="spline"&&(f=S(f),a=f.length),d.lineType&&d.lineType!="solid"){if(d.lineType=="dashed"||d.lineType=="dotted"){var o=(d.lineWidth||1)*(d.lineType=="dashed"?5:1);c.moveTo(f[0][0],f[0][1]);for(var e=1;a>e;e++)g(c,f[e-1][0],f[e-1][1],f[e][0],f[e][1],o)}}else{c.moveTo(f[0][0],f[0][1]);for(var e=1;a>e;e++)c.lineTo(f[e][0],f[e][1])}}},updateControlPoints:function(c){c.controlPointList=y(c.pointList,c.smooth,!1,c.smoothConstraint)},getRect:function(c){return C("./Polygon").prototype.getRect(c)}},C("../tool/util").inherits(_,b),_}),st("zrender/shape/ShapeBundle",["require","./Base","../tool/util"],function(C){var b=C("./Base"),S=function(y){b.call(this,y)};return S.prototype={constructor:S,type:"shape-bundle",brush:function(y,g){var _=this.beforeBrush(y,g);y.beginPath();for(var c=0;c<_.shapeList.length;c++){var d=_.shapeList[c],f=d.style;g&&(f=d.getHighlightStyle(f,d.highlightStyle||{},d.brushTypeOnly)),d.buildPath(y,f)}switch(_.brushType){case"both":y.fill();case"stroke":_.lineWidth>0&&y.stroke();break;default:y.fill()}this.drawText(y,_,this.style),this.afterBrush(y)},getRect:function(y){if(y.__rect)return y.__rect;for(var d=1/0,a=-1/0,f=1/0,h=-1/0,g=0;g<y.shapeList.length;g++)var _=y.shapeList[g],c=_.getRect(_.style),d=Math.min(c.x,d),f=Math.min(c.y,f),a=Math.max(c.x+c.width,a),h=Math.max(c.y+c.height,h);return y.__rect={x:d,y:f,width:a-d,height:h-f},y.__rect},isCover:function(y,g){var _=this.transformCoordToLocal(y,g);if(y=_[0],g=_[1],this.isCoverRect(y,g))for(var c=0;c<this.style.shapeList.length;c++){var d=this.style.shapeList[c];if(d.isCover(y,g))return!0}return!1}},C("../tool/util").inherits(S,b),S}),st("echarts/util/ecAnimation",["require","zrender/tool/util","zrender/tool/curve","zrender/shape/Polygon"],function(C){function b(s,u,t,r,p){var m,x=t.style.pointList,T=x.length;if(!u){if(m=[],t._orient!="vertical")for(var w=x[0][1],L=0;T>L;L++)m[L]=[x[L][0],w];else for(var M=x[0][0],L=0;T>L;L++)m[L]=[M,x[L][1]];t.type=="half-smooth-polygon"&&(m[T-1]=e.clone(x[T-1]),m[T-2]=e.clone(x[T-2])),u={style:{pointList:m}}}m=u.style.pointList;var P=m.length;t.style.pointList=P==T?m:T>P?m.concat(x.slice(P)):m.slice(0,T),s.addShape(t),t.__animating=!0,s.animate(t.id,"style").when(r,{pointList:x}).during(function(){t.updateControlPoints&&t.updateControlPoints(t.style)}).done(function(){t.__animating=!1}).start(p)}function S(s,u){for(var t=arguments.length,r=2;t>r;r++){var p=arguments[r];s.style[p]=u.style[p]}}function y(s,u,t,r,p){var m=t.style;u||(u={position:t.position,style:{x:m.x,y:t._orient=="vertical"?m.y+m.height:m.y,width:t._orient=="vertical"?m.width:0,height:t._orient!="vertical"?m.height:0}});var x=m.x,T=m.y,w=m.width,L=m.height,M=[t.position[0],t.position[1]];S(t,u,"x","y","width","height"),t.position=u.position,s.addShape(t),(M[0]!=u.position[0]||M[1]!=u.position[1])&&s.animate(t.id,"").when(r,{position:M}).start(p),t.__animating=!0,s.animate(t.id,"style").when(r,{x,y:T,width:w,height:L}).done(function(){t.__animating=!1}).start(p)}function g(s,u,t,r,p){if(!u){var m=t.style.y;u={style:{y:[m[0],m[0],m[0],m[0]]}}}var x=t.style.y;t.style.y=u.style.y,s.addShape(t),t.__animating=!0,s.animate(t.id,"style").when(r,{y:x}).done(function(){t.__animating=!1}).start(p)}function _(s,u,t,r,p){var m=t.style.x,x=t.style.y,T=t.style.r0,w=t.style.r;t.__animating=!0,t._animationAdd!="r"?(t.style.r0=0,t.style.r=0,t.rotation=[2*Math.PI,m,x],s.addShape(t),s.animate(t.id,"style").when(r,{r0:T,r:w}).done(function(){t.__animating=!1}).start(p),s.animate(t.id,"").when(r,{rotation:[0,m,x]}).start(p)):(t.style.r0=t.style.r,s.addShape(t),s.animate(t.id,"style").when(r,{r0:T}).done(function(){t.__animating=!1}).start(p))}function c(s,u,t,r,p){u||(u=t._animationAdd!="r"?{style:{startAngle:t.style.startAngle,endAngle:t.style.startAngle}}:{style:{r0:t.style.r}});var m=t.style.startAngle,x=t.style.endAngle;S(t,u,"startAngle","endAngle"),s.addShape(t),t.__animating=!0,s.animate(t.id,"style").when(r,{startAngle:m,endAngle:x}).done(function(){t.__animating=!1}).start(p)}function d(s,u,t,r,p){u||(u={style:{x:t.style.textAlign=="left"?t.style.x+100:t.style.x-100,y:t.style.y}});var m=t.style.x,x=t.style.y;S(t,u,"x","y"),s.addShape(t),t.__animating=!0,s.animate(t.id,"style").when(r,{x:m,y:x}).done(function(){t.__animating=!1}).start(p)}function f(s,u,t,r,p){var m=C("zrender/shape/Polygon").prototype.getRect(t.style),x=m.x+m.width/2,T=m.y+m.height/2;t.scale=[.1,.1,x,T],s.addShape(t),t.__animating=!0,s.animate(t.id,"").when(r,{scale:[1,1,x,T]}).done(function(){t.__animating=!1}).start(p)}function a(s,u,t,r,p){u||(u={style:{source0:0,source1:t.style.source1>0?360:-360,target0:0,target1:t.style.target1>0?360:-360}});var m=t.style.source0,x=t.style.source1,T=t.style.target0,w=t.style.target1;u.style&&S(t,u,"source0","source1","target0","target1"),s.addShape(t),t.__animating=!0,s.animate(t.id,"style").when(r,{source0:m,source1:x,target0:T,target1:w}).done(function(){t.__animating=!1}).start(p)}function h(s,u,t,r,p){u||(u={style:{angle:t.style.startAngle}});var m=t.style.angle;t.style.angle=u.style.angle,s.addShape(t),t.__animating=!0,s.animate(t.id,"style").when(r,{angle:m}).done(function(){t.__animating=!1}).start(p)}function n(s,u,t,r,p,m){if(t.style._x=t.style.x,t.style._y=t.style.y,t.style._width=t.style.width,t.style._height=t.style.height,u)y(s,u,t,r,p);else{var x=t._x||0,T=t._y||0;t.scale=[.01,.01,x,T],s.addShape(t),t.__animating=!0,s.animate(t.id,"").delay(m).when(r,{scale:[1,1,x,T]}).done(function(){t.__animating=!1}).start(p||"QuinticOut")}}function l(s,u,t,r,p){u||(u={style:{xStart:t.style.xStart,yStart:t.style.yStart,xEnd:t.style.xStart,yEnd:t.style.yStart}});var m=t.style.xStart,x=t.style.xEnd,T=t.style.yStart,w=t.style.yEnd;S(t,u,"xStart","xEnd","yStart","yEnd"),s.addShape(t),t.__animating=!0,s.animate(t.id,"style").when(r,{xStart:m,xEnd:x,yStart:T,yEnd:w}).done(function(){t.__animating=!1}).start(p)}function i(s,u,t,r,p){p=p||"QuinticOut",t.__animating=!0,s.addShape(t);var m=t.style,x=function(){t.__animating=!1},T=m.xStart,w=m.yStart,L=m.xEnd,M=m.yEnd;if(m.curveness>0){t.updatePoints(m);var P={p:0},R=m.cpX1,W=m.cpY1,F=[],v=[],E=o.quadraticSubdivide;s.animation.animate(P).when(r,{p:1}).during(function(){E(T,R,L,P.p,F),E(w,W,M,P.p,v),m.cpX1=F[1],m.cpY1=v[1],m.xEnd=F[2],m.yEnd=v[2],s.modShape(t)}).done(x).start(p)}else s.animate(t.id,"style").when(0,{xEnd:T,yEnd:w}).when(r,{xEnd:L,yEnd:M}).done(x).start(p)}var e=C("zrender/tool/util"),o=C("zrender/tool/curve");return{pointList:b,rectangle:y,candle:g,ring:_,sector:c,text:d,polygon:f,ribbon:a,gaugePointer:h,icon:n,line:l,markline:i}}),st("echarts/util/ecEffect",["require","../util/ecData","zrender/shape/Circle","zrender/shape/Image","zrender/tool/curve","../util/shape/Icon","../util/shape/Symbol","zrender/shape/ShapeBundle","zrender/shape/Polyline","zrender/tool/vector","zrender/tool/env"],function(C){function b(o,s,u,t){var r,p=u.effect,m=p.color||u.style.strokeColor||u.style.color,x=p.shadowColor||m,T=p.scaleSize,w=p.bounceDistance,L=typeof p.shadowBlur<"u"?p.shadowBlur:T;u.type!=="image"?(r=new a({zlevel:t,style:{brushType:"stroke",iconType:u.style.iconType!="droplet"?u.style.iconType:"circle",x:L+1,y:L+1,n:u.style.n,width:u.style._width*T,height:u.style._height*T,lineWidth:1,strokeColor:m,shadowColor:x,shadowBlur:L},draggable:!1,hoverable:!1}),u.style.iconType=="pin"&&(r.style.y+=r.style.height/2*1.5),e&&(r.style.image=o.shapeToImage(r,r.style.width+2*L+2,r.style.height+2*L+2).style.image,r=new d({zlevel:r.zlevel,style:r.style,draggable:!1,hoverable:!1}))):r=new d({zlevel:t,style:u.style,draggable:!1,hoverable:!1}),_.clone(u,r),r.position=u.position,s.push(r),o.addShape(r);var M=u.type!=="image"&&window.devicePixelRatio||1,P=(r.style.width/M-u.style._width)/2;r.style.x=u.style._x-P,r.style.y=u.style._y-P,u.style.iconType=="pin"&&(r.style.y-=u.style.height/2*1.5);var R=100*(p.period+10*Math.random());o.modShape(u.id,{invisible:!0});var W=r.style.x+r.style.width/2/M,F=r.style.y+r.style.height/2/M;p.type==="scale"?(o.modShape(r.id,{scale:[.1,.1,W,F]}),o.animate(r.id,"",p.loop).when(R,{scale:[1,1,W,F]}).done(function(){u.effect.show=!1,o.delShape(r.id)}).start()):o.animate(r.id,"style",p.loop).when(R,{y:r.style.y-w}).when(2*R,{y:r.style.y}).done(function(){u.effect.show=!1,o.delShape(r.id)}).start()}function S(o,s,u,t){var r=u.effect,p=r.color||u.style.strokeColor||u.style.color,m=r.scaleSize,x=r.shadowColor||p,T=typeof r.shadowBlur<"u"?r.shadowBlur:2*m,w=window.devicePixelRatio||1,L=new h({zlevel:t,position:u.position,scale:u.scale,style:{pointList:u.style.pointList,iconType:u.style.iconType,color:p,strokeColor:p,shadowColor:x,shadowBlur:T*w,random:!0,brushType:"fill",lineWidth:1,size:u.style.size},draggable:!1,hoverable:!1});s.push(L),o.addShape(L),o.modShape(u.id,{invisible:!0});for(var M=Math.round(100*r.period),P={},R={},W=0;20>W;W++)L.style["randomMap"+W]=0,P={},P["randomMap"+W]=100,R={},R["randomMap"+W]=0,L.style["randomMap"+W]=100*Math.random(),o.animate(L.id,"style",!0).when(M,P).when(2*M,R).when(3*M,P).when(4*M,P).delay(Math.random()*M*W).start()}function y(o,s,u,t,r){var p=u.effect,m=u.style,x=p.color||m.strokeColor||m.color,T=p.shadowColor||m.strokeColor||x,w=m.lineWidth*p.scaleSize,L=typeof p.shadowBlur<"u"?p.shadowBlur:w,M=new c({zlevel:t,style:{x:L,y:L,r:w,color:x,shadowColor:T,shadowBlur:L},hoverable:!1}),P=0;if(e&&!r){var t=M.zlevel;M=o.shapeToImage(M,2*(w+L),2*(w+L)),M.zlevel=t,M.hoverable=!1,P=L}r||(_.clone(u,M),M.position=u.position,s.push(M),o.addShape(M));var R=function(){r||(u.effect.show=!1,o.delShape(M.id)),M.effectAnimator=null};if(u instanceof l){for(var W=[0],F=0,v=m.pointList,E=m.controlPointList,z=1;z<v.length;z++){if(E){var k=E[2*(z-1)],A=E[2*(z-1)+1];F+=i.dist(v[z-1],k)+i.dist(k,A)+i.dist(A,v[z])}else F+=i.dist(v[z-1],v[z]);W.push(F)}for(var O={p:0},D=o.animation.animate(O,{loop:p.loop}),z=0;z<W.length;z++)D.when(W[z]*p.period,{p:z});D.during(function(){var at,G,X=Math.floor(O.p);if(X==v.length-1)at=v[X][0],G=v[X][1];else{var et=O.p-X,J=v[X],tt=v[X+1];if(E){var I=E[2*X],N=E[2*X+1];at=f.cubicAt(J[0],I[0],N[0],tt[0],et),G=f.cubicAt(J[1],I[1],N[1],tt[1],et)}else at=(tt[0]-J[0])*et+J[0],G=(tt[1]-J[1])*et+J[1]}M.style.x=at,M.style.y=G,r||o.modShape(M)}).done(R).start(),D.duration=F*p.period,M.effectAnimator=D}else{var H=m.xStart-P,Y=m.yStart-P,j=m.xEnd-P,U=m.yEnd-P;M.style.x=H,M.style.y=Y;var $=(j-H)*(j-H)+(U-Y)*(U-Y),it=Math.round(Math.sqrt(Math.round($*p.period*p.period)));if(u.style.curveness>0){var rt=m.cpX1-P,lt=m.cpY1-P;M.effectAnimator=o.animation.animate(M,{loop:p.loop}).when(it,{p:1}).during(function(at,G){M.style.x=f.quadraticAt(H,rt,j,G),M.style.y=f.quadraticAt(Y,lt,U,G),r||o.modShape(M)}).done(R).start()}else M.effectAnimator=o.animation.animate(M.style,{loop:p.loop}).when(it,{x:j,y:U}).during(function(){r||o.modShape(M)}).done(R).start();M.effectAnimator.duration=it}return M}function g(o,s,u,t){var r=new n({style:{shapeList:[]},zlevel:t,hoverable:!1}),p=u.style.shapeList,m=u.effect;r.position=u.position;for(var x=0,T=[],w=0;w<p.length;w++){p[w].effect=m;var L=y(o,null,p[w],t,!0),M=L.effectAnimator;r.style.shapeList.push(L),M.duration>x&&(x=M.duration),w===0&&(r.style.color=L.style.color,r.style.shadowBlur=L.style.shadowBlur,r.style.shadowColor=L.style.shadowColor),T.push(M)}s.push(r),o.addShape(r);var P=function(){for(var F=0;F<T.length;F++)T[F].stop()};if(x){r.__dummy=0;var R=o.animate(r.id,"",m.loop).when(x,{__dummy:1}).during(function(){o.modShape(r)}).done(function(){u.effect.show=!1,o.delShape(r.id)}).start(),W=R.stop;R.stop=function(){P(),W.call(this)}}}var _=C("../util/ecData"),c=C("zrender/shape/Circle"),d=C("zrender/shape/Image"),f=C("zrender/tool/curve"),a=C("../util/shape/Icon"),h=C("../util/shape/Symbol"),n=C("zrender/shape/ShapeBundle"),l=C("zrender/shape/Polyline"),i=C("zrender/tool/vector"),e=C("zrender/tool/env").canvasSupported;return{point:b,largePoint:S,line:y,largeLine:g}}),st("echarts/component/base",["require","../config","../util/ecData","../util/ecQuery","../util/number","zrender/tool/util","zrender/tool/env"],function(C){function b(d,f,a,h,n){this.ecTheme=d,this.messageCenter=f,this.zr=a,this.option=h,this.series=h.series,this.myChart=n,this.component=n.component,this.shapeList=[],this.effectList=[];var l=this;l._onlegendhoverlink=function(i){if(l.legendHoverLink)for(var e,o=i.target,s=l.shapeList.length-1;s>=0;s--)e=l.type==S.CHART_TYPE_PIE||l.type==S.CHART_TYPE_FUNNEL?y.get(l.shapeList[s],"name"):(y.get(l.shapeList[s],"series")||{}).name,e!=o||l.shapeList[s].invisible||l.shapeList[s].__animating||l.zr.addHoverShape(l.shapeList[s])},f&&f.bind(S.EVENT.LEGEND_HOVERLINK,this._onlegendhoverlink)}var S=C("../config"),y=C("../util/ecData"),g=C("../util/ecQuery"),_=C("../util/number"),c=C("zrender/tool/util");return b.prototype={canvasSupported:C("zrender/tool/env").canvasSupported,_getZ:function(d){if(this[d]!=null)return this[d];var f=this.ecTheme[this.type];return f&&f[d]!=null?f[d]:(f=S[this.type],f&&f[d]!=null?f[d]:0)},getZlevelBase:function(){return this._getZ("zlevel")},getZBase:function(){return this._getZ("z")},reformOption:function(d){return d=c.merge(c.merge(d||{},c.clone(this.ecTheme[this.type]||{})),c.clone(S[this.type]||{})),this.z=d.z,this.zlevel=d.zlevel,d},reformCssArray:function(d){if(!(d instanceof Array))return[d,d,d,d];switch(d.length+""){case"4":return d;case"3":return[d[0],d[1],d[2],d[1]];case"2":return[d[0],d[1],d[0],d[1]];case"1":return[d[0],d[0],d[0],d[0]];case"0":return[0,0,0,0]}},getShapeById:function(d){for(var f=0,a=this.shapeList.length;a>f;f++)if(this.shapeList[f].id===d)return this.shapeList[f];return null},getFont:function(d){var f=this.getTextStyle(c.clone(d));return f.fontStyle+" "+f.fontWeight+" "+f.fontSize+"px "+f.fontFamily},getTextStyle:function(d){return c.merge(c.merge(d||{},this.ecTheme.textStyle),S.textStyle)},getItemStyleColor:function(d,f,a,h){return typeof d=="function"?d.call(this.myChart,{seriesIndex:f,series:this.series[f],dataIndex:a,data:h}):d},getDataFromOption:function(d,f){return d!=null?d.value!=null?d.value:d:f},subPixelOptimize:function(d,f){return d=f%2===1?Math.floor(d)+.5:Math.round(d)},resize:function(){this.refresh&&this.refresh(),this.clearEffectShape&&this.clearEffectShape(!0);var d=this;setTimeout(function(){d.animationEffect&&d.animationEffect()},200)},clear:function(){this.clearEffectShape&&this.clearEffectShape(),this.zr&&this.zr.delShape(this.shapeList),this.shapeList=[]},dispose:function(){this.onbeforDispose&&this.onbeforDispose(),this.clear(),this.shapeList=null,this.effectList=null,this.messageCenter&&this.messageCenter.unbind(S.EVENT.LEGEND_HOVERLINK,this._onlegendhoverlink),this.onafterDispose&&this.onafterDispose()},query:g.query,deepQuery:g.deepQuery,deepMerge:g.deepMerge,parsePercent:_.parsePercent,parseCenter:_.parseCenter,parseRadius:_.parseRadius,numAddCommas:_.addCommas,getPrecision:_.getPrecision},b}),st("echarts/layout/EdgeBundling",["require","../data/KDTree","zrender/tool/vector"],function(C){function b(i,e){i=i.array,e=e.array;var o=e[0]-i[0],s=e[1]-i[1],u=e[2]-i[2],t=e[3]-i[3];return o*o+s*s+u*u+t*t}function S(i){this.points=[i.mp0,i.mp1],this.group=i}function y(i){var e=i.points;e[0][1]<e[1][1]||i instanceof S?(this.array=[e[0][0],e[0][1],e[1][0],e[1][1]],this._startPoint=e[0],this._endPoint=e[1]):(this.array=[e[1][0],e[1][1],e[0][0],e[0][1]],this._startPoint=e[1],this._endPoint=e[0]),this.ink=h(e[0],e[1]),this.edge=i,this.group=null}function g(){this.edgeList=[],this.mp0=f(),this.mp1=f(),this.ink=0}function _(){this.maxNearestEdge=6,this.maxTurningAngle=Math.PI/4,this.maxIteration=20}var c=C("../data/KDTree"),d=C("zrender/tool/vector"),f=d.create,a=d.distSquare,h=d.dist,n=d.copy,l=d.clone;return y.prototype.getStartPoint=function(){return this._startPoint},y.prototype.getEndPoint=function(){return this._endPoint},g.prototype.addEdge=function(i){i.group=this,this.edgeList.push(i)},g.prototype.removeEdge=function(i){i.group=null,this.edgeList.splice(this.edgeList.indexOf(i),1)},_.prototype={constructor:_,run:function(i){function e(T,w){return a(T,w)<1e-10}function o(T,w){for(var L=[],M=0,P=0;P<T.length;P++)M>0&&e(T[P],L[M-1])||(L[M++]=l(T[P]));return w[0]&&!e(L[0],w[0])&&(L=L.reverse()),L}for(var s=this._iterate(i),u=0;u++<this.maxIteration;){for(var t=[],r=0;r<s.groups.length;r++)t.push(new S(s.groups[r]));var p=this._iterate(t);if(p.savedInk<=0)break;s=p}var m=[],x=function(T,w){for(var L,M=0;M<T.length;M++){var P=T[M];if(P.edgeList[0]&&P.edgeList[0].edge instanceof S){for(var R=[],W=0;W<P.edgeList.length;W++)R.push(P.edgeList[W].edge.group);L=w?w.slice():[],L.unshift(P.mp0),L.push(P.mp1),x(R,L)}else for(var W=0;W<P.edgeList.length;W++){var F=P.edgeList[W];L=w?w.slice():[],L.unshift(P.mp0),L.push(P.mp1),L.unshift(F.getStartPoint()),L.push(F.getEndPoint()),m.push({points:o(L,F.edge.points),rawEdge:F.edge})}}};return x(s.groups),m},_iterate:function(i){for(var e=[],o=[],s=0,u=0;u<i.length;u++){var t=new y(i[u]);e.push(t)}for(var r=new c(e,4),p=[],m=f(),x=f(),T=0,w=f(),L=f(),M=0,u=0;u<e.length;u++){var t=e[u];if(!t.group){r.nearestN(t,this.maxNearestEdge,b,p);for(var P=0,R=null,W=null,F=0;F<p.length;F++){var v=p[F],E=0;v.group?v.group!==W&&(W=v.group,T=this._calculateGroupEdgeInk(v.group,t,m,x),E=v.group.ink+t.ink-T):(T=this._calculateEdgeEdgeInk(t,v,m,x),E=v.ink+t.ink-T),E>P&&(P=E,R=v,n(L,x),n(w,m),M=T)}if(R){s+=P;var z;R.group||(z=new g,o.push(z),z.addEdge(R)),z=R.group,n(z.mp0,w),n(z.mp1,L),z.ink=M,R.group.addEdge(t)}else{var z=new g;o.push(z),n(z.mp0,t.getStartPoint()),n(z.mp1,t.getEndPoint()),z.ink=t.ink,z.addEdge(t)}}}return{groups:o,edges:e,savedInk:s}},_calculateEdgeEdgeInk:function(){var i=[],e=[];return function(o,s,u,t){i[0]=o.getStartPoint(),i[1]=s.getStartPoint(),e[0]=o.getEndPoint(),e[1]=s.getEndPoint(),this._calculateMeetPoints(i,e,u,t);var r=h(i[0],u)+h(u,t)+h(t,e[0])+h(i[1],u)+h(t,e[1]);return r}}(),_calculateGroupEdgeInk:function(i,e,o,s){for(var u=[],t=[],r=0;r<i.edgeList.length;r++){var p=i.edgeList[r];u.push(p.getStartPoint()),t.push(p.getEndPoint())}u.push(e.getStartPoint()),t.push(e.getEndPoint()),this._calculateMeetPoints(u,t,o,s);for(var m=h(o,s),r=0;r<u.length;r++)m+=h(u[r],o)+h(t[r],s);return m},_calculateMeetPoints:function(){var i=f(),e=f();return function(o,s,u,t){d.set(i,0,0),d.set(e,0,0);for(var r=o.length,p=0;r>p;p++)d.add(i,i,o[p]);d.scale(i,i,1/r),r=s.length;for(var p=0;r>p;p++)d.add(e,e,s[p]);d.scale(e,e,1/r),this._limitTurningAngle(o,i,e,u),this._limitTurningAngle(s,e,i,t)}}(),_limitTurningAngle:function(){var i=f(),e=f(),o=f(),s=f();return function(u,t,r,p){var m=Math.cos(this.maxTurningAngle),x=Math.tan(this.maxTurningAngle);d.sub(i,t,r),d.normalize(i,i),d.copy(p,t);for(var T=0,w=0;w<u.length;w++){var L=u[w];d.sub(e,L,t);var M=d.len(e);d.scale(e,e,1/M);var P=d.dot(e,i);if(m>P){d.scaleAndAdd(o,t,i,M*P);var R=h(o,L),W=R/x;d.scaleAndAdd(s,o,i,-W);var F=a(s,t);F>T&&(T=F,d.copy(p,s))}}}}()},_}),st("zrender/shape/Star",["require","../tool/math","./Base","../tool/util"],function(C){var b=C("../tool/math"),S=b.sin,y=b.cos,g=Math.PI,_=C("./Base"),c=function(d){_.call(this,d)};return c.prototype={type:"star",buildPath:function(d,f){var a=f.n;if(a&&!(2>a)){var h=f.x,n=f.y,l=f.r,i=f.r0;i==null&&(i=a>4?l*y(2*g/a)/y(g/a):l/3);var e=g/a,o=-g/2,s=h+l*y(o),u=n+l*S(o);o+=e;var t=f.pointList=[];t.push([s,u]);for(var r,p=0,m=2*a-1;m>p;p++)r=p%2===0?i:l,t.push([h+r*y(o),n+r*S(o)]),o+=e;t.push([s,u]),d.moveTo(t[0][0],t[0][1]);for(var p=0;p<t.length;p++)d.lineTo(t[p][0],t[p][1]);d.closePath()}},getRect:function(d){if(d.__rect)return d.__rect;var f;return f=d.brushType=="stroke"||d.brushType=="fill"?d.lineWidth||1:0,d.__rect={x:Math.round(d.x-d.r-f/2),y:Math.round(d.y-d.r-f/2),width:2*d.r+f,height:2*d.r+f},d.__rect}},C("../tool/util").inherits(c,_),c}),st("zrender/shape/Heart",["require","./Base","./util/PathProxy","../tool/area","../tool/util"],function(C){var b=C("./Base"),S=C("./util/PathProxy"),y=C("../tool/area"),g=function(_){b.call(this,_),this._pathProxy=new S};return g.prototype={type:"heart",buildPath:function(_,c){var d=this._pathProxy||new S;d.begin(_),d.moveTo(c.x,c.y),d.bezierCurveTo(c.x+c.a/2,c.y-2*c.b/3,c.x+2*c.a,c.y+c.b/3,c.x,c.y+c.b),d.bezierCurveTo(c.x-2*c.a,c.y+c.b/3,c.x-c.a/2,c.y-2*c.b/3,c.x,c.y),d.closePath()},getRect:function(_){return _.__rect?_.__rect:(this._pathProxy.isEmpty()||this.buildPath(null,_),this._pathProxy.fastBoundingRect())},isCover:function(_,c){var d=this.transformCoordToLocal(_,c);return _=d[0],c=d[1],this.isCoverRect(_,c)?y.isInsidePath(this._pathProxy.pathCommands,this.style.lineWidth,this.style.brushType,_,c):void 0}},C("../tool/util").inherits(g,b),g}),st("zrender/shape/Droplet",["require","./Base","./util/PathProxy","../tool/area","../tool/util"],function(C){var b=C("./Base"),S=C("./util/PathProxy"),y=C("../tool/area"),g=function(_){b.call(this,_),this._pathProxy=new S};return g.prototype={type:"droplet",buildPath:function(_,c){var d=this._pathProxy||new S;d.begin(_),d.moveTo(c.x,c.y+c.a),d.bezierCurveTo(c.x+c.a,c.y+c.a,c.x+3*c.a/2,c.y-c.a/3,c.x,c.y-c.b),d.bezierCurveTo(c.x-3*c.a/2,c.y-c.a/3,c.x-c.a,c.y+c.a,c.x,c.y+c.a),d.closePath()},getRect:function(_){return _.__rect?_.__rect:(this._pathProxy.isEmpty()||this.buildPath(null,_),this._pathProxy.fastBoundingRect())},isCover:function(_,c){var d=this.transformCoordToLocal(_,c);return _=d[0],c=d[1],this.isCoverRect(_,c)?y.isInsidePath(this._pathProxy.pathCommands,this.style.lineWidth,this.style.brushType,_,c):void 0}},C("../tool/util").inherits(g,b),g}),st("zrender/tool/math",[],function(){function C(_,c){return Math.sin(c?_*g:_)}function b(_,c){return Math.cos(c?_*g:_)}function S(_){return _*g}function y(_){return _/g}var g=Math.PI/180;return{sin:C,cos:b,degreeToRadian:S,radianToDegree:y}}),st("zrender/shape/util/PathProxy",["require","../../tool/vector"],function(C){var b=C("../../tool/vector"),S=function(g,_){this.command=g,this.points=_||null},y=function(){this.pathCommands=[],this._ctx=null,this._min=[],this._max=[]};return y.prototype.fastBoundingRect=function(){var g=this._min,_=this._max;g[0]=g[1]=1/0,_[0]=_[1]=-1/0;for(var c=0;c<this.pathCommands.length;c++){var d=this.pathCommands[c],f=d.points;switch(d.command){case"M":b.min(g,g,f),b.max(_,_,f);break;case"L":b.min(g,g,f),b.max(_,_,f);break;case"C":for(var a=0;6>a;a+=2)g[0]=Math.min(g[0],g[0],f[a]),g[1]=Math.min(g[1],g[1],f[a+1]),_[0]=Math.max(_[0],_[0],f[a]),_[1]=Math.max(_[1],_[1],f[a+1]);break;case"Q":for(var a=0;4>a;a+=2)g[0]=Math.min(g[0],g[0],f[a]),g[1]=Math.min(g[1],g[1],f[a+1]),_[0]=Math.max(_[0],_[0],f[a]),_[1]=Math.max(_[1],_[1],f[a+1]);break;case"A":var h=f[0],n=f[1],l=f[2],i=f[3];g[0]=Math.min(g[0],g[0],h-l),g[1]=Math.min(g[1],g[1],n-i),_[0]=Math.max(_[0],_[0],h+l),_[1]=Math.max(_[1],_[1],n+i)}}return{x:g[0],y:g[1],width:_[0]-g[0],height:_[1]-g[1]}},y.prototype.begin=function(g){return this._ctx=g||null,this.pathCommands.length=0,this},y.prototype.moveTo=function(g,_){return this.pathCommands.push(new S("M",[g,_])),this._ctx&&this._ctx.moveTo(g,_),this},y.prototype.lineTo=function(g,_){return this.pathCommands.push(new S("L",[g,_])),this._ctx&&this._ctx.lineTo(g,_),this},y.prototype.bezierCurveTo=function(g,_,c,d,f,a){return this.pathCommands.push(new S("C",[g,_,c,d,f,a])),this._ctx&&this._ctx.bezierCurveTo(g,_,c,d,f,a),this},y.prototype.quadraticCurveTo=function(g,_,c,d){return this.pathCommands.push(new S("Q",[g,_,c,d])),this._ctx&&this._ctx.quadraticCurveTo(g,_,c,d),this},y.prototype.arc=function(g,_,c,d,f,a){return this.pathCommands.push(new S("A",[g,_,c,c,d,f-d,0,a?0:1])),this._ctx&&this._ctx.arc(g,_,c,d,f,a),this},y.prototype.arcTo=function(g,_,c,d,f){return this._ctx&&this._ctx.arcTo(g,_,c,d,f),this},y.prototype.rect=function(g,_,c,d){return this._ctx&&this._ctx.rect(g,_,c,d),this},y.prototype.closePath=function(){return this.pathCommands.push(new S("z")),this._ctx&&this._ctx.closePath(),this},y.prototype.isEmpty=function(){return this.pathCommands.length===0},y.PathSegment=S,y}),st("zrender/shape/Line",["require","./Base","./util/dashedLineTo","../tool/util"],function(C){var b=C("./Base"),S=C("./util/dashedLineTo"),y=function(g){this.brushTypeOnly="stroke",this.textPosition="end",b.call(this,g)};return y.prototype={type:"line",buildPath:function(g,_){if(_.lineType&&_.lineType!="solid"){if(_.lineType=="dashed"||_.lineType=="dotted"){var c=(_.lineWidth||1)*(_.lineType=="dashed"?5:1);S(g,_.xStart,_.yStart,_.xEnd,_.yEnd,c)}}else g.moveTo(_.xStart,_.yStart),g.lineTo(_.xEnd,_.yEnd)},getRect:function(g){if(g.__rect)return g.__rect;var _=g.lineWidth||1;return g.__rect={x:Math.min(g.xStart,g.xEnd)-_,y:Math.min(g.yStart,g.yEnd)-_,width:Math.abs(g.xStart-g.xEnd)+_,height:Math.abs(g.yStart-g.yEnd)+_},g.__rect}},C("../tool/util").inherits(y,b),y}),st("zrender/shape/BezierCurve",["require","./Base","../tool/util"],function(C){var b=C("./Base"),S=function(y){this.brushTypeOnly="stroke",this.textPosition="end",b.call(this,y)};return S.prototype={type:"bezier-curve",buildPath:function(y,g){y.moveTo(g.xStart,g.yStart),typeof g.cpX2<"u"&&typeof g.cpY2<"u"?y.bezierCurveTo(g.cpX1,g.cpY1,g.cpX2,g.cpY2,g.xEnd,g.yEnd):y.quadraticCurveTo(g.cpX1,g.cpY1,g.xEnd,g.yEnd)},getRect:function(y){if(y.__rect)return y.__rect;var g=Math.min(y.xStart,y.xEnd,y.cpX1),_=Math.min(y.yStart,y.yEnd,y.cpY1),c=Math.max(y.xStart,y.xEnd,y.cpX1),d=Math.max(y.yStart,y.yEnd,y.cpY1),f=y.cpX2,a=y.cpY2;typeof f<"u"&&typeof a<"u"&&(g=Math.min(g,f),_=Math.min(_,a),c=Math.max(c,f),d=Math.max(d,a));var h=y.lineWidth||1;return y.__rect={x:g-h,y:_-h,width:c-g+h,height:d-_+h},y.__rect}},C("../tool/util").inherits(S,b),S}),st("zrender/shape/util/dashedLineTo",[],function(){var C=[5,5];return function(b,S,y,g,_,c){if(b.setLineDash)return C[0]=C[1]=c,b.setLineDash(C),b.moveTo(S,y),void b.lineTo(g,_);c=typeof c!="number"?5:c;var d=g-S,f=_-y,a=Math.floor(Math.sqrt(d*d+f*f)/c);d/=a,f/=a;for(var h=!0,n=0;a>n;++n)h?b.moveTo(S,y):b.lineTo(S,y),h=!h,S+=d,y+=f;b.lineTo(g,_)}}),st("zrender/shape/Polygon",["require","./Base","./util/smoothSpline","./util/smoothBezier","./util/dashedLineTo","../tool/util"],function(C){var b=C("./Base"),S=C("./util/smoothSpline"),y=C("./util/smoothBezier"),g=C("./util/dashedLineTo"),_=function(c){b.call(this,c)};return _.prototype={type:"polygon",buildPath:function(c,d){var f=d.pointList;if(!(f.length<2)){if(d.smooth&&d.smooth!=="spline"){var a=y(f,d.smooth,!0,d.smoothConstraint);c.moveTo(f[0][0],f[0][1]);for(var h,n,l,i=f.length,e=0;i>e;e++)h=a[2*e],n=a[2*e+1],l=f[(e+1)%i],c.bezierCurveTo(h[0],h[1],n[0],n[1],l[0],l[1])}else if(d.smooth==="spline"&&(f=S(f,!0)),d.lineType&&d.lineType!="solid"){if(d.lineType=="dashed"||d.lineType=="dotted"){var o=d._dashLength||(d.lineWidth||1)*(d.lineType=="dashed"?5:1);d._dashLength=o,c.moveTo(f[0][0],f[0][1]);for(var e=1,s=f.length;s>e;e++)g(c,f[e-1][0],f[e-1][1],f[e][0],f[e][1],o);g(c,f[f.length-1][0],f[f.length-1][1],f[0][0],f[0][1],o)}}else{c.moveTo(f[0][0],f[0][1]);for(var e=1,s=f.length;s>e;e++)c.lineTo(f[e][0],f[e][1]);c.lineTo(f[0][0],f[0][1])}c.closePath()}},getRect:function(c){if(c.__rect)return c.__rect;for(var d=Number.MAX_VALUE,f=Number.MIN_VALUE,a=Number.MAX_VALUE,h=Number.MIN_VALUE,n=c.pointList,l=0,i=n.length;i>l;l++)n[l][0]<d&&(d=n[l][0]),n[l][0]>f&&(f=n[l][0]),n[l][1]<a&&(a=n[l][1]),n[l][1]>h&&(h=n[l][1]);var e;return e=c.brushType=="stroke"||c.brushType=="fill"?c.lineWidth||1:0,c.__rect={x:Math.round(d-e/2),y:Math.round(a-e/2),width:f-d+e,height:h-a+e},c.__rect}},C("../tool/util").inherits(_,b),_}),st("echarts/util/shape/normalIsCover",[],function(){return function(C,b){var S=this.transformCoordToLocal(C,b);return C=S[0],b=S[1],this.isCoverRect(C,b)}}),st("zrender/shape/util/smoothSpline",["require","../../tool/vector"],function(C){function b(y,g,_,c,d,f,a){var h=.5*(_-y),n=.5*(c-g);return(2*(g-_)+h+n)*a+(-3*(g-_)-2*h-n)*f+h*d+g}var S=C("../../tool/vector");return function(y,g){for(var _=y.length,c=[],d=0,f=1;_>f;f++)d+=S.distance(y[f-1],y[f]);var a=d/5;a=_>a?_:a;for(var f=0;a>f;f++){var h,n,l,i=f/(a-1)*(g?_:_-1),e=Math.floor(i),o=i-e,s=y[e%_];g?(h=y[(e-1+_)%_],n=y[(e+1)%_],l=y[(e+2)%_]):(h=y[e===0?e:e-1],n=y[e>_-2?_-1:e+1],l=y[e>_-3?_-1:e+2]);var u=o*o,t=o*u;c.push([b(h[0],s[0],n[0],l[0],o,u,t),b(h[1],s[1],n[1],l[1],o,u,t)])}return c}}),st("zrender/shape/util/smoothBezier",["require","../../tool/vector"],function(C){var b=C("../../tool/vector");return function(S,y,g,_){var c,d,f,a,h=[],n=[],l=[],i=[],e=!!_;if(e){f=[1/0,1/0],a=[-1/0,-1/0];for(var o=0,s=S.length;s>o;o++)b.min(f,f,S[o]),b.max(a,a,S[o]);b.min(f,f,_[0]),b.max(a,a,_[1])}for(var o=0,s=S.length;s>o;o++){var c,d,u=S[o];if(g)c=S[o?o-1:s-1],d=S[(o+1)%s];else{if(o===0||o===s-1){h.push(b.clone(S[o]));continue}c=S[o-1],d=S[o+1]}b.sub(n,d,c),b.scale(n,n,y);var t=b.distance(u,c),r=b.distance(u,d),p=t+r;p!==0&&(t/=p,r/=p),b.scale(l,n,-t),b.scale(i,n,r);var m=b.add([],u,l),x=b.add([],u,i);e&&(b.max(m,m,f),b.min(m,m,a),b.max(x,x,f),b.min(x,x,a)),h.push(m),h.push(x)}return g&&h.push(b.clone(h.shift())),h}}),st("echarts/util/ecQuery",["require","zrender/tool/util"],function(C){function b(_,c){if(typeof _<"u"){if(!c)return _;c=c.split(".");for(var d=c.length,f=0;d>f;){if(_=_[c[f]],typeof _>"u")return;f++}return _}}function S(_,c){for(var d,f=0,a=_.length;a>f;f++)if(d=b(_[f],c),typeof d<"u")return d}function y(_,c){for(var d,f=_.length;f--;){var a=b(_[f],c);typeof a<"u"&&(typeof d>"u"?d=g.clone(a):g.merge(d,a,!0))}return d}var g=C("zrender/tool/util");return{query:b,deepQuery:S,deepMerge:y}}),st("echarts/util/number",[],function(){function C(c){return c.replace(/^\s+/,"").replace(/\s+$/,"")}function b(c,d){return typeof c=="string"?C(c).match(/%$/)?parseFloat(c)/100*d:parseFloat(c):c}function S(c,d){return[b(d[0],c.getWidth()),b(d[1],c.getHeight())]}function y(c,d){d instanceof Array||(d=[0,d]);var f=Math.min(c.getWidth(),c.getHeight())/2;return[b(d[0],f),b(d[1],f)]}function g(c){return isNaN(c)?"-":(c=(c+"").split("."),c[0].replace(/(\d{1,3})(?=(?:\d{3})+(?!\d))/g,"$1,")+(c.length>1?"."+c[1]:""))}function _(c){for(var d=1,f=0;Math.round(c*d)/d!==c;)d*=10,f++;return f}return{parsePercent:b,parseCenter:S,parseRadius:y,addCommas:g,getPrecision:_}}),st("echarts/data/KDTree",["require","./quickSelect"],function(C){function b(g,_){this.left=null,this.right=null,this.axis=g,this.data=_}var S=C("./quickSelect"),y=function(g,_){g.length&&(_||(_=g[0].array.length),this.dimension=_,this.root=this._buildTree(g,0,g.length-1,0),this._stack=[],this._nearstNList=[])};return y.prototype._buildTree=function(g,_,c,d){if(_>c)return null;var f=Math.floor((_+c)/2);f=S(g,_,c,f,function(n,l){return n.array[d]-l.array[d]});var a=g[f],h=new b(d,a);return d=(d+1)%this.dimension,c>_&&(h.left=this._buildTree(g,_,f-1,d),h.right=this._buildTree(g,f+1,c,d)),h},y.prototype.nearest=function(g,_){var c=this.root,d=this._stack,f=0,a=1/0,h=null;for(c.data!==g&&(a=_(c.data,g),h=c),g.array[c.axis]<c.data.array[c.axis]?(c.right&&(d[f++]=c.right),c.left&&(d[f++]=c.left)):(c.left&&(d[f++]=c.left),c.right&&(d[f++]=c.right));f--;){c=d[f];var n=g.array[c.axis]-c.data.array[c.axis],l=0>n,i=!1;n*=n,a>n&&(n=_(c.data,g),a>n&&c.data!==g&&(a=n,h=c),i=!0),l?(i&&c.right&&(d[f++]=c.right),c.left&&(d[f++]=c.left)):(i&&c.left&&(d[f++]=c.left),c.right&&(d[f++]=c.right))}return h.data},y.prototype._addNearest=function(g,_,c){for(var d=this._nearstNList,f=g-1;f>0&&!(_>=d[f-1].dist);f--)d[f].dist=d[f-1].dist,d[f].node=d[f-1].node;d[f].dist=_,d[f].node=c},y.prototype.nearestN=function(g,_,c,d){if(0>=_)return d.length=0,d;for(var f=this.root,a=this._stack,h=0,n=this._nearstNList,l=0;_>l;l++)n[l]||(n[l]={}),n[l].dist=0,n[l].node=null;var i=c(f.data,g),e=0;for(f.data!==g&&(e++,this._addNearest(e,i,f)),g.array[f.axis]<f.data.array[f.axis]?(f.right&&(a[h++]=f.right),f.left&&(a[h++]=f.left)):(f.left&&(a[h++]=f.left),f.right&&(a[h++]=f.right));h--;){f=a[h];var i=g.array[f.axis]-f.data.array[f.axis],o=0>i,s=!1;i*=i,(_>e||i<n[e-1].dist)&&(i=c(f.data,g),(_>e||i<n[e-1].dist)&&f.data!==g&&(_>e&&e++,this._addNearest(e,i,f)),s=!0),o?(s&&f.right&&(a[h++]=f.right),f.left&&(a[h++]=f.left)):(s&&f.left&&(a[h++]=f.left),f.right&&(a[h++]=f.right))}for(var l=0;e>l;l++)d[l]=n[l].node.data;return d.length=e,d},y}),st("echarts/data/quickSelect",["require"],function(){function C(g,_){return g-_}function b(g,_,c){var d=g[_];g[_]=g[c],g[c]=d}function S(g,_,c,d,f){for(var a=_;c>_;){var a=Math.round((c+_)/2),h=g[a];b(g,a,c),a=_;for(var n=_;c-1>=n;n++)f(h,g[n])>=0&&(b(g,n,a),a++);if(b(g,c,a),a===d)return a;d>a?_=a+1:c=a-1}return _}function y(g,_,c,d,f){return arguments.length<=3&&(d=_,f=arguments.length==2?C:c,_=0,c=g.length-1),S(g,_,c,d,f)}return y}),st("echarts/component/dataView",["require","./base","../config","zrender/tool/util","../component"],function(C){function b(_,c,d,f,a){S.call(this,_,c,d,f,a),this.dom=a.dom,this._tDom=document.createElement("div"),this._textArea=document.createElement("textArea"),this._buttonRefresh=document.createElement("button"),this._buttonRefresh.setAttribute("type","button"),this._buttonClose=document.createElement("button"),this._buttonClose.setAttribute("type","button"),this._hasShow=!1,this._zrHeight=d.getHeight(),this._zrWidth=d.getWidth(),this._tDom.className="echarts-dataview",this.hide(),this.dom.firstChild.appendChild(this._tDom),window.addEventListener?(this._tDom.addEventListener("click",this._stop),this._tDom.addEventListener("mousewheel",this._stop),this._tDom.addEventListener("mousemove",this._stop),this._tDom.addEventListener("mousedown",this._stop),this._tDom.addEventListener("mouseup",this._stop),this._tDom.addEventListener("touchstart",this._stop),this._tDom.addEventListener("touchmove",this._stop),this._tDom.addEventListener("touchend",this._stop)):(this._tDom.attachEvent("onclick",this._stop),this._tDom.attachEvent("onmousewheel",this._stop),this._tDom.attachEvent("onmousemove",this._stop),this._tDom.attachEvent("onmousedown",this._stop),this._tDom.attachEvent("onmouseup",this._stop))}var S=C("./base"),y=C("../config"),g=C("zrender/tool/util");return b.prototype={type:y.COMPONENT_TYPE_DATAVIEW,_lang:["Data View","close","refresh"],_gCssText:"position:absolute;display:block;overflow:hidden;transition:height 0.8s,background-color 1s;-moz-transition:height 0.8s,background-color 1s;-webkit-transition:height 0.8s,background-color 1s;-o-transition:height 0.8s,background-color 1s;z-index:1;left:0;top:0;",hide:function(){this._sizeCssText="width:"+this._zrWidth+"px;height:0px;background-color:#f0ffff;",this._tDom.style.cssText=this._gCssText+this._sizeCssText},show:function(_){this._hasShow=!0;var c=this.query(this.option,"toolbox.feature.dataView.lang")||this._lang;this.option=_,this._tDom.innerHTML='<p style="padding:8px 0;margin:0 0 10px 0;border-bottom:1px solid #eee">'+(c[0]||this._lang[0])+"</p>";var d=this.query(this.option,"toolbox.feature.dataView.optionToContent");typeof d!="function"?this._textArea.value=this._optionToContent():(this._textArea=document.createElement("div"),this._textArea.innerHTML=d(this.option)),this._textArea.style.cssText="display:block;margin:0 0 8px 0;padding:4px 6px;overflow:auto;width:100%;height:"+(this._zrHeight-100)+"px;",this._tDom.appendChild(this._textArea),this._buttonClose.style.cssText="float:right;padding:1px 6px;",this._buttonClose.innerHTML=c[1]||this._lang[1];var f=this;this._buttonClose.onclick=function(){f.hide()},this._tDom.appendChild(this._buttonClose),this.query(this.option,"toolbox.feature.dataView.readOnly")===!1?(this._buttonRefresh.style.cssText="float:right;margin-right:10px;padding:1px 6px;",this._buttonRefresh.innerHTML=c[2]||this._lang[2],this._buttonRefresh.onclick=function(){f._save()},this._textArea.readOnly=!1,this._textArea.style.cursor="default"):(this._buttonRefresh.style.cssText="display:none",this._textArea.readOnly=!0,this._textArea.style.cursor="text"),this._tDom.appendChild(this._buttonRefresh),this._sizeCssText="width:"+this._zrWidth+"px;height:"+this._zrHeight+"px;background-color:#fff;",this._tDom.style.cssText=this._gCssText+this._sizeCssText},_optionToContent:function(){var _,c,d,f,a,h,n=[],l="";if(this.option.xAxis){for(n=this.option.xAxis instanceof Array?this.option.xAxis:[this.option.xAxis],_=0,f=n.length;f>_;_++)if((n[_].type||"category")=="category"){for(h=[],c=0,d=n[_].data.length;d>c;c++)h.push(this.getDataFromOption(n[_].data[c]));l+=h.join(", ")+`

`}}if(this.option.yAxis){for(n=this.option.yAxis instanceof Array?this.option.yAxis:[this.option.yAxis],_=0,f=n.length;f>_;_++)if(n[_].type=="category"){for(h=[],c=0,d=n[_].data.length;d>c;c++)h.push(this.getDataFromOption(n[_].data[c]));l+=h.join(", ")+`

`}}var i,e=this.option.series;for(_=0,f=e.length;f>_;_++){for(h=[],c=0,d=e[_].data.length;d>c;c++)a=e[_].data[c],i=e[_].type==y.CHART_TYPE_PIE||e[_].type==y.CHART_TYPE_MAP?(a.name||"-")+":":"",e[_].type==y.CHART_TYPE_SCATTER&&(a=this.getDataFromOption(a).join(", ")),h.push(i+this.getDataFromOption(a));l+=(e[_].name||"-")+` : 
`,l+=h.join(e[_].type==y.CHART_TYPE_SCATTER?`
`:", "),l+=`

`}return l},_save:function(){var _=this.query(this.option,"toolbox.feature.dataView.contentToOption");if(typeof _!="function"){for(var c=this._textArea.value.split(`
`),d=[],f=0,a=c.length;a>f;f++)c[f]=this._trim(c[f]),c[f]!==""&&d.push(c[f]);this._contentToOption(d)}else _(this._textArea,this.option);this.hide();var h=this;setTimeout(function(){h.messageCenter&&h.messageCenter.dispatch(y.EVENT.DATA_VIEW_CHANGED,null,{option:h.option},h.myChart)},h.canvasSupported?800:100)},_contentToOption:function(_){var c,d,f,a,h,n,l=[],i=0;if(this.option.xAxis){for(l=this.option.xAxis instanceof Array?this.option.xAxis:[this.option.xAxis],c=0,a=l.length;a>c;c++)if((l[c].type||"category")=="category"){for(h=_[i].split(","),d=0,f=l[c].data.length;f>d;d++)n=this._trim(h[d]||""),l[c].data[d],typeof l[c].data[d].value<"u"?l[c].data[d].value=n:l[c].data[d]=n;i++}}if(this.option.yAxis){for(l=this.option.yAxis instanceof Array?this.option.yAxis:[this.option.yAxis],c=0,a=l.length;a>c;c++)if(l[c].type=="category"){for(h=_[i].split(","),d=0,f=l[c].data.length;f>d;d++)n=this._trim(h[d]||""),l[c].data[d],typeof l[c].data[d].value<"u"?l[c].data[d].value=n:l[c].data[d]=n;i++}}var e=this.option.series;for(c=0,a=e.length;a>c;c++)if(i++,e[c].type==y.CHART_TYPE_SCATTER)for(var d=0,f=e[c].data.length;f>d;d++)h=_[i],n=h.replace(" ","").split(","),typeof e[c].data[d].value<"u"?e[c].data[d].value=n:e[c].data[d]=n,i++;else{h=_[i].split(",");for(var d=0,f=e[c].data.length;f>d;d++)n=(h[d]||"").replace(/.*:/,""),n=this._trim(n),n=n!="-"&&n!==""?n-0:"-",typeof e[c].data[d].value<"u"?e[c].data[d].value=n:e[c].data[d]=n;i++}},_trim:function(_){var c=new RegExp("(^[\\s\\t\\xa0\\u3000]+)|([\\u3000\\xa0\\s\\t]+$)","g");return _.replace(c,"")},_stop:function(_){_=_||window.event,_.stopPropagation?_.stopPropagation():_.cancelBubble=!0},resize:function(){this._zrHeight=this.zr.getHeight(),this._zrWidth=this.zr.getWidth(),this._tDom.offsetHeight>10&&(this._sizeCssText="width:"+this._zrWidth+"px;height:"+this._zrHeight+"px;background-color:#fff;",this._tDom.style.cssText=this._gCssText+this._sizeCssText,this._textArea.style.cssText="display:block;margin:0 0 8px 0;padding:4px 6px;overflow:auto;width:100%;height:"+(this._zrHeight-100)+"px;")},dispose:function(){window.removeEventListener?(this._tDom.removeEventListener("click",this._stop),this._tDom.removeEventListener("mousewheel",this._stop),this._tDom.removeEventListener("mousemove",this._stop),this._tDom.removeEventListener("mousedown",this._stop),this._tDom.removeEventListener("mouseup",this._stop),this._tDom.removeEventListener("touchstart",this._stop),this._tDom.removeEventListener("touchmove",this._stop),this._tDom.removeEventListener("touchend",this._stop)):(this._tDom.detachEvent("onclick",this._stop),this._tDom.detachEvent("onmousewheel",this._stop),this._tDom.detachEvent("onmousemove",this._stop),this._tDom.detachEvent("onmousedown",this._stop),this._tDom.detachEvent("onmouseup",this._stop)),this._buttonRefresh.onclick=null,this._buttonClose.onclick=null,this._hasShow&&(this._tDom.removeChild(this._textArea),this._tDom.removeChild(this._buttonRefresh),this._tDom.removeChild(this._buttonClose)),this._textArea=null,this._buttonRefresh=null,this._buttonClose=null,this.dom.firstChild.removeChild(this._tDom),this._tDom=null}},g.inherits(b,S),C("../component").define("dataView",b),b}),st("echarts/util/shape/Cross",["require","zrender/shape/Base","zrender/shape/Line","zrender/tool/util","./normalIsCover"],function(C){function b(_){S.call(this,_)}var S=C("zrender/shape/Base"),y=C("zrender/shape/Line"),g=C("zrender/tool/util");return b.prototype={type:"cross",buildPath:function(_,c){var d=c.rect;c.xStart=d.x,c.xEnd=d.x+d.width,c.yStart=c.yEnd=c.y,y.prototype.buildPath(_,c),c.xStart=c.xEnd=c.x,c.yStart=d.y,c.yEnd=d.y+d.height,y.prototype.buildPath(_,c)},getRect:function(_){return _.rect},isCover:C("./normalIsCover")},g.inherits(b,S),b}),st("zrender/shape/Sector",["require","../tool/math","../tool/computeBoundingBox","../tool/vector","./Base","../tool/util"],function(C){var b=C("../tool/math"),S=C("../tool/computeBoundingBox"),y=C("../tool/vector"),g=C("./Base"),_=y.create(),c=y.create(),d=y.create(),f=y.create(),a=function(h){g.call(this,h)};return a.prototype={type:"sector",buildPath:function(h,n){var l=n.x,i=n.y,e=n.r0||0,o=n.r,s=n.startAngle,u=n.endAngle,t=n.clockWise||!1;s=b.degreeToRadian(s),u=b.degreeToRadian(u),t||(s=-s,u=-u);var r=b.cos(s),p=b.sin(s);h.moveTo(r*e+l,p*e+i),h.lineTo(r*o+l,p*o+i),h.arc(l,i,o,s,u,!t),h.lineTo(b.cos(u)*e+l,b.sin(u)*e+i),e!==0&&h.arc(l,i,e,u,s,t),h.closePath()},getRect:function(h){if(h.__rect)return h.__rect;var n=h.x,l=h.y,i=h.r0||0,e=h.r,o=b.degreeToRadian(h.startAngle),s=b.degreeToRadian(h.endAngle),u=h.clockWise;return u||(o=-o,s=-s),i>1?S.arc(n,l,i,o,s,!u,_,d):(_[0]=d[0]=n,_[1]=d[1]=l),S.arc(n,l,e,o,s,!u,c,f),y.min(_,_,c),y.max(d,d,f),h.__rect={x:_[0],y:_[1],width:d[0]-_[0],height:d[1]-_[1]},h.__rect}},C("../tool/util").inherits(a,g),a}),st("echarts/util/shape/Candle",["require","zrender/shape/Base","zrender/tool/util","./normalIsCover"],function(C){function b(g){S.call(this,g)}var S=C("zrender/shape/Base"),y=C("zrender/tool/util");return b.prototype={type:"candle",_numberOrder:function(g,_){return _-g},buildPath:function(g,_){var c=y.clone(_.y).sort(this._numberOrder);g.moveTo(_.x,c[3]),g.lineTo(_.x,c[2]),g.moveTo(_.x-_.width/2,c[2]),g.rect(_.x-_.width/2,c[2],_.width,c[1]-c[2]),g.moveTo(_.x,c[1]),g.lineTo(_.x,c[0])},getRect:function(g){if(!g.__rect){var _=0;(g.brushType=="stroke"||g.brushType=="fill")&&(_=g.lineWidth||1);var c=y.clone(g.y).sort(this._numberOrder);g.__rect={x:Math.round(g.x-g.width/2-_/2),y:Math.round(c[3]-_/2),width:g.width+_,height:c[0]-c[3]+_}}return g.__rect},isCover:C("./normalIsCover")},y.inherits(b,S),b}),st("zrender/tool/computeBoundingBox",["require","./vector","./curve"],function(C){function b(h,n,l){if(h.length!==0){for(var i=h[0][0],e=h[0][0],o=h[0][1],s=h[0][1],u=1;u<h.length;u++){var t=h[u];t[0]<i&&(i=t[0]),t[0]>e&&(e=t[0]),t[1]<o&&(o=t[1]),t[1]>s&&(s=t[1])}n[0]=i,n[1]=o,l[0]=e,l[1]=s}}function S(h,n,l,i,e,o){var s=[];_.cubicExtrema(h[0],n[0],l[0],i[0],s);for(var u=0;u<s.length;u++)s[u]=_.cubicAt(h[0],n[0],l[0],i[0],s[u]);var t=[];_.cubicExtrema(h[1],n[1],l[1],i[1],t);for(var u=0;u<t.length;u++)t[u]=_.cubicAt(h[1],n[1],l[1],i[1],t[u]);s.push(h[0],i[0]),t.push(h[1],i[1]);var r=Math.min.apply(null,s),p=Math.max.apply(null,s),m=Math.min.apply(null,t),x=Math.max.apply(null,t);e[0]=r,e[1]=m,o[0]=p,o[1]=x}function y(h,n,l,i,e){var o=_.quadraticExtremum(h[0],n[0],l[0]),s=_.quadraticExtremum(h[1],n[1],l[1]);o=Math.max(Math.min(o,1),0),s=Math.max(Math.min(s,1),0);var u=1-o,t=1-s,r=u*u*h[0]+2*u*o*n[0]+o*o*l[0],p=u*u*h[1]+2*u*o*n[1]+o*o*l[1],m=t*t*h[0]+2*t*s*n[0]+s*s*l[0],x=t*t*h[1]+2*t*s*n[1]+s*s*l[1];i[0]=Math.min(h[0],l[0],r,m),i[1]=Math.min(h[1],l[1],p,x),e[0]=Math.max(h[0],l[0],r,m),e[1]=Math.max(h[1],l[1],p,x)}var g=C("./vector"),_=C("./curve"),c=g.create(),d=g.create(),f=g.create(),a=function(h,n,l,i,e,o,s,u){if(Math.abs(i-e)>=2*Math.PI)return s[0]=h-l,s[1]=n-l,u[0]=h+l,void(u[1]=n+l);if(c[0]=Math.cos(i)*l+h,c[1]=Math.sin(i)*l+n,d[0]=Math.cos(e)*l+h,d[1]=Math.sin(e)*l+n,g.min(s,c,d),g.max(u,c,d),i%=2*Math.PI,0>i&&(i+=2*Math.PI),e%=2*Math.PI,0>e&&(e+=2*Math.PI),i>e&&!o?e+=2*Math.PI:e>i&&o&&(i+=2*Math.PI),o){var t=e;e=i,i=t}for(var r=0;e>r;r+=Math.PI/2)r>i&&(f[0]=Math.cos(r)*l+h,f[1]=Math.sin(r)*l+n,g.min(s,f,s),g.max(u,f,u))};return b.cubeBezier=S,b.quadraticBezier=y,b.arc=a,b}),st("echarts/util/shape/Chain",["require","zrender/shape/Base","./Icon","zrender/shape/util/dashedLineTo","zrender/tool/util","zrender/tool/matrix"],function(C){function b(d){S.call(this,d)}var S=C("zrender/shape/Base"),y=C("./Icon"),g=C("zrender/shape/util/dashedLineTo"),_=C("zrender/tool/util"),c=C("zrender/tool/matrix");return b.prototype={type:"chain",brush:function(d,f){var a=this.style;f&&(a=this.getHighlightStyle(a,this.highlightStyle||{})),d.save(),this.setContext(d,a),this.setTransform(d),d.save(),d.beginPath(),this.buildLinePath(d,a),d.stroke(),d.restore(),this.brushSymbol(d,a),d.restore()},buildLinePath:function(d,f){var a=f.x,h=f.y+5,n=f.width,l=f.height/2-10;if(d.moveTo(a,h),d.lineTo(a,h+l),d.moveTo(a+n,h),d.lineTo(a+n,h+l),d.moveTo(a,h+l/2),f.lineType&&f.lineType!="solid"){if(f.lineType=="dashed"||f.lineType=="dotted"){var i=(f.lineWidth||1)*(f.lineType=="dashed"?5:1);g(d,a,h+l/2,a+n,h+l/2,i)}}else d.lineTo(a+n,h+l/2)},brushSymbol:function(d,f){var a=f.y+f.height/4;d.save();for(var h,n=f.chainPoint,l=0,i=n.length;i>l;l++){if(h=n[l],h.symbol!="none"){d.beginPath();var e=h.symbolSize;y.prototype.buildPath(d,{iconType:h.symbol,x:h.x-e,y:a-e,width:2*e,height:2*e,n:h.n}),d.fillStyle=h.isEmpty?"#fff":f.strokeColor,d.closePath(),d.fill(),d.stroke()}h.showLabel&&(d.font=h.textFont,d.fillStyle=h.textColor,d.textAlign=h.textAlign,d.textBaseline=h.textBaseline,h.rotation?(d.save(),this._updateTextTransform(d,h.rotation),d.fillText(h.name,h.textX,h.textY),d.restore()):d.fillText(h.name,h.textX,h.textY))}d.restore()},_updateTextTransform:function(d,f){var a=c.create();if(c.identity(a),f[0]!==0){var h=f[1]||0,n=f[2]||0;(h||n)&&c.translate(a,a,[-h,-n]),c.rotate(a,a,f[0]),(h||n)&&c.translate(a,a,[h,n])}d.transform.apply(d,a)},isCover:function(d,f){var a=this.style;return d>=a.x&&d<=a.x+a.width&&f>=a.y&&f<=a.y+a.height}},_.inherits(b,S),b}),st("zrender/shape/Ring",["require","./Base","../tool/util"],function(C){var b=C("./Base"),S=function(y){b.call(this,y)};return S.prototype={type:"ring",buildPath:function(y,g){y.arc(g.x,g.y,g.r,0,2*Math.PI,!1),y.moveTo(g.x+g.r0,g.y),y.arc(g.x,g.y,g.r0,0,2*Math.PI,!0)},getRect:function(y){if(y.__rect)return y.__rect;var g;return g=y.brushType=="stroke"||y.brushType=="fill"?y.lineWidth||1:0,y.__rect={x:Math.round(y.x-y.r-g/2),y:Math.round(y.y-y.r-g/2),width:2*y.r+g,height:2*y.r+g},y.__rect}},C("../tool/util").inherits(S,b),S}),st("echarts/component/axis",["require","./base","zrender/shape/Line","../config","../util/ecData","zrender/tool/util","zrender/tool/color","./categoryAxis","./valueAxis","../component"],function(C){function b(f,a,h,n,l,i){S.call(this,f,a,h,n,l),this.axisType=i,this._axisList=[],this.refresh(n)}var S=C("./base"),y=C("zrender/shape/Line"),g=C("../config"),_=C("../util/ecData"),c=C("zrender/tool/util"),d=C("zrender/tool/color");return b.prototype={type:g.COMPONENT_TYPE_AXIS,axisBase:{_buildAxisLine:function(){var f=this.option.axisLine.lineStyle.width,a=f/2,h={_axisShape:"axisLine",zlevel:this.getZlevelBase(),z:this.getZBase()+3,hoverable:!1},n=this.grid;switch(this.option.position){case"left":h.style={xStart:n.getX()-a,yStart:n.getYend(),xEnd:n.getX()-a,yEnd:n.getY(),lineCap:"round"};break;case"right":h.style={xStart:n.getXend()+a,yStart:n.getYend(),xEnd:n.getXend()+a,yEnd:n.getY(),lineCap:"round"};break;case"bottom":h.style={xStart:n.getX(),yStart:n.getYend()+a,xEnd:n.getXend(),yEnd:n.getYend()+a,lineCap:"round"};break;case"top":h.style={xStart:n.getX(),yStart:n.getY()-a,xEnd:n.getXend(),yEnd:n.getY()-a,lineCap:"round"}}var l=h.style;this.option.name!==""&&(l.text=this.option.name,l.textPosition=this.option.nameLocation,l.textFont=this.getFont(this.option.nameTextStyle),this.option.nameTextStyle.align&&(l.textAlign=this.option.nameTextStyle.align),this.option.nameTextStyle.baseline&&(l.textBaseline=this.option.nameTextStyle.baseline),this.option.nameTextStyle.color&&(l.textColor=this.option.nameTextStyle.color)),l.strokeColor=this.option.axisLine.lineStyle.color,l.lineWidth=f,this.isHorizontal()?l.yStart=l.yEnd=this.subPixelOptimize(l.yEnd,f):l.xStart=l.xEnd=this.subPixelOptimize(l.xEnd,f),l.lineType=this.option.axisLine.lineStyle.type,h=new y(h),this.shapeList.push(h)},_axisLabelClickable:function(f,a){return f&&(_.pack(a,void 0,-1,void 0,-1,a.style.text),a.hoverable=!0,a.clickable=!0,a.highlightStyle={color:d.lift(a.style.color,1),brushType:"fill"}),a},refixAxisShape:function(f,a){if(this.option.axisLine.onZero){var h;if(this.isHorizontal()&&a!=null)for(var n=0,l=this.shapeList.length;l>n;n++)this.shapeList[n]._axisShape==="axisLine"?(this.shapeList[n].style.yStart=this.shapeList[n].style.yEnd=this.subPixelOptimize(a,this.shapeList[n].stylelineWidth),this.zr.modShape(this.shapeList[n].id)):this.shapeList[n]._axisShape==="axisTick"&&(h=this.shapeList[n].style.yEnd-this.shapeList[n].style.yStart,this.shapeList[n].style.yStart=a-h,this.shapeList[n].style.yEnd=a,this.zr.modShape(this.shapeList[n].id));if(!this.isHorizontal()&&f!=null)for(var n=0,l=this.shapeList.length;l>n;n++)this.shapeList[n]._axisShape==="axisLine"?(this.shapeList[n].style.xStart=this.shapeList[n].style.xEnd=this.subPixelOptimize(f,this.shapeList[n].stylelineWidth),this.zr.modShape(this.shapeList[n].id)):this.shapeList[n]._axisShape==="axisTick"&&(h=this.shapeList[n].style.xEnd-this.shapeList[n].style.xStart,this.shapeList[n].style.xStart=f,this.shapeList[n].style.xEnd=f+h,this.zr.modShape(this.shapeList[n].id))}},getPosition:function(){return this.option.position},isHorizontal:function(){return this.option.position==="bottom"||this.option.position==="top"}},reformOption:function(f){if(!f||f instanceof Array&&f.length===0?f=[{type:g.COMPONENT_TYPE_AXIS_VALUE}]:f instanceof Array||(f=[f]),f.length>2&&(f=[f[0],f[1]]),this.axisType==="xAxis"){(!f[0].position||f[0].position!="bottom"&&f[0].position!="top")&&(f[0].position="bottom"),f.length>1&&(f[1].position=f[0].position==="bottom"?"top":"bottom");for(var a=0,h=f.length;h>a;a++)f[a].type=f[a].type||"category",f[a].xAxisIndex=a,f[a].yAxisIndex=-1}else{(!f[0].position||f[0].position!="left"&&f[0].position!="right")&&(f[0].position="left"),f.length>1&&(f[1].position=f[0].position==="left"?"right":"left");for(var a=0,h=f.length;h>a;a++)f[a].type=f[a].type||"value",f[a].xAxisIndex=-1,f[a].yAxisIndex=a}return f},refresh:function(f){var a;f&&(this.option=f,this.axisType==="xAxis"?(this.option.xAxis=this.reformOption(f.xAxis),a=this.option.xAxis):(this.option.yAxis=this.reformOption(f.yAxis),a=this.option.yAxis),this.series=f.series);for(var h=C("./categoryAxis"),n=C("./valueAxis"),l=Math.max(a&&a.length||0,this._axisList.length),i=0;l>i;i++)!this._axisList[i]||!f||a[i]&&this._axisList[i].type==a[i].type||(this._axisList[i].dispose&&this._axisList[i].dispose(),this._axisList[i]=!1),this._axisList[i]?this._axisList[i].refresh&&this._axisList[i].refresh(a?a[i]:!1,this.series):a&&a[i]&&(this._axisList[i]=a[i].type==="category"?new h(this.ecTheme,this.messageCenter,this.zr,a[i],this.myChart,this.axisBase):new n(this.ecTheme,this.messageCenter,this.zr,a[i],this.myChart,this.axisBase,this.series))},getAxis:function(f){return this._axisList[f]},getAxisCount:function(){return this._axisList.length},clear:function(){for(var f=0,a=this._axisList.length;a>f;f++)this._axisList[f].dispose&&this._axisList[f].dispose();this._axisList=[]}},c.inherits(b,S),C("../component").define("axis",b),b}),st("echarts/component/grid",["require","./base","zrender/shape/Rectangle","../config","zrender/tool/util","../component"],function(C){function b(c,d,f,a,h){S.call(this,c,d,f,a,h),this.refresh(a)}var S=C("./base"),y=C("zrender/shape/Rectangle"),g=C("../config");g.grid={zlevel:0,z:0,x:80,y:60,x2:80,y2:60,backgroundColor:"rgba(0,0,0,0)",borderWidth:1,borderColor:"#ccc"};var _=C("zrender/tool/util");return b.prototype={type:g.COMPONENT_TYPE_GRID,getX:function(){return this._x},getY:function(){return this._y},getWidth:function(){return this._width},getHeight:function(){return this._height},getXend:function(){return this._x+this._width},getYend:function(){return this._y+this._height},getArea:function(){return{x:this._x,y:this._y,width:this._width,height:this._height}},getBbox:function(){return[[this._x,this._y],[this.getXend(),this.getYend()]]},refixAxisShape:function(c){for(var d,f,a,h=c.xAxis._axisList.concat(c.yAxis?c.yAxis._axisList:[]),n=h.length;n--;)a=h[n],a.type==g.COMPONENT_TYPE_AXIS_VALUE&&a._min<0&&a._max>=0&&(a.isHorizontal()?d=a.getCoord(0):f=a.getCoord(0));if(typeof d<"u"||typeof f<"u")for(n=h.length;n--;)h[n].refixAxisShape(d,f)},refresh:function(c){if(c||this._zrWidth!=this.zr.getWidth()||this._zrHeight!=this.zr.getHeight()){this.clear(),this.option=c||this.option,this.option.grid=this.reformOption(this.option.grid);var d=this.option.grid;this._zrWidth=this.zr.getWidth(),this._zrHeight=this.zr.getHeight(),this._x=this.parsePercent(d.x,this._zrWidth),this._y=this.parsePercent(d.y,this._zrHeight);var f=this.parsePercent(d.x2,this._zrWidth),a=this.parsePercent(d.y2,this._zrHeight);this._width=typeof d.width>"u"?this._zrWidth-this._x-f:this.parsePercent(d.width,this._zrWidth),this._width=this._width<=0?10:this._width,this._height=typeof d.height>"u"?this._zrHeight-this._y-a:this.parsePercent(d.height,this._zrHeight),this._height=this._height<=0?10:this._height,this._x=this.subPixelOptimize(this._x,d.borderWidth),this._y=this.subPixelOptimize(this._y,d.borderWidth),this.shapeList.push(new y({zlevel:this.getZlevelBase(),z:this.getZBase(),hoverable:!1,style:{x:this._x,y:this._y,width:this._width,height:this._height,brushType:d.borderWidth>0?"both":"fill",color:d.backgroundColor,strokeColor:d.borderColor,lineWidth:d.borderWidth}})),this.zr.addShape(this.shapeList[0])}}},_.inherits(b,S),C("../component").define("grid",b),b}),st("echarts/component/dataZoom",["require","./base","zrender/shape/Rectangle","zrender/shape/Polygon","../util/shape/Icon","../config","../util/date","zrender/tool/util","../component"],function(C){function b(a,h,n,l,i){S.call(this,a,h,n,l,i);var e=this;e._ondrift=function(o,s){return e.__ondrift(this,o,s)},e._ondragend=function(){return e.__ondragend()},this._fillerSize=30,this._isSilence=!1,this._zoom={},this.option.dataZoom=this.reformOption(this.option.dataZoom),this.zoomOption=this.option.dataZoom,this._handleSize=this.zoomOption.handleSize,this.myChart.canvasSupported||(this.zoomOption.realtime=!1),this._location=this._getLocation(),this._zoom=this._getZoom(),this._backupData(),this.option.dataZoom.show&&this._buildShape(),this._syncData()}var S=C("./base"),y=C("zrender/shape/Rectangle"),g=C("zrender/shape/Polygon"),_=C("../util/shape/Icon"),c=C("../config");c.dataZoom={zlevel:0,z:4,show:!1,orient:"horizontal",backgroundColor:"rgba(0,0,0,0)",dataBackgroundColor:"#eee",fillerColor:"rgba(144,197,237,0.2)",handleColor:"rgba(70,130,180,0.8)",handleSize:8,showDetail:!0,realtime:!0};var d=C("../util/date"),f=C("zrender/tool/util");return b.prototype={type:c.COMPONENT_TYPE_DATAZOOM,_buildShape:function(){this._buildBackground(),this._buildFiller(),this._buildHandle(),this._buildFrame();for(var a=0,h=this.shapeList.length;h>a;a++)this.zr.addShape(this.shapeList[a]);this._syncFrameShape()},_getLocation:function(){var a,h,n,l,i=this.component.grid;return this.zoomOption.orient=="horizontal"?(n=this.zoomOption.width||i.getWidth(),l=this.zoomOption.height||this._fillerSize,a=this.zoomOption.x!=null?this.zoomOption.x:i.getX(),h=this.zoomOption.y!=null?this.zoomOption.y:this.zr.getHeight()-l-2):(n=this.zoomOption.width||this._fillerSize,l=this.zoomOption.height||i.getHeight(),a=this.zoomOption.x!=null?this.zoomOption.x:2,h=this.zoomOption.y!=null?this.zoomOption.y:i.getY()),{x:a,y:h,width:n,height:l}},_getZoom:function(){var a=this.option.series,h=this.option.xAxis;!h||h instanceof Array||(h=[h],this.option.xAxis=h);var n=this.option.yAxis;!n||n instanceof Array||(n=[n],this.option.yAxis=n);var l,i,e=[],o=this.zoomOption.xAxisIndex;if(h&&o==null){l=[];for(var s=0,u=h.length;u>s;s++)(h[s].type=="category"||h[s].type==null)&&l.push(s)}else l=o instanceof Array?o:o!=null?[o]:[];if(o=this.zoomOption.yAxisIndex,n&&o==null){i=[];for(var s=0,u=n.length;u>s;s++)n[s].type=="category"&&i.push(s)}else i=o instanceof Array?o:o!=null?[o]:[];for(var t,s=0,u=a.length;u>s;s++)if(t=a[s],t.type==c.CHART_TYPE_LINE||t.type==c.CHART_TYPE_BAR||t.type==c.CHART_TYPE_SCATTER||t.type==c.CHART_TYPE_K){for(var r=0,p=l.length;p>r;r++)if(l[r]==(t.xAxisIndex||0)){e.push(s);break}for(var r=0,p=i.length;p>r;r++)if(i[r]==(t.yAxisIndex||0)){e.push(s);break}this.zoomOption.xAxisIndex==null&&this.zoomOption.yAxisIndex==null&&t.data&&this.getDataFromOption(t.data[0])instanceof Array&&(t.type==c.CHART_TYPE_SCATTER||t.type==c.CHART_TYPE_LINE||t.type==c.CHART_TYPE_BAR)&&e.push(s)}var m=this._zoom.start!=null?this._zoom.start:this.zoomOption.start!=null?this.zoomOption.start:0,x=this._zoom.end!=null?this._zoom.end:this.zoomOption.end!=null?this.zoomOption.end:100;m>x&&(m+=x,x=m-x,m-=x);var T=Math.round((x-m)/100*(this.zoomOption.orient=="horizontal"?this._location.width:this._location.height));return{start:m,end:x,start2:0,end2:100,size:T,xAxisIndex:l,yAxisIndex:i,seriesIndex:e,scatterMap:this._zoom.scatterMap||{}}},_backupData:function(){this._originalData={xAxis:{},yAxis:{},series:{}};for(var a=this.option.xAxis,h=this._zoom.xAxisIndex,n=0,l=h.length;l>n;n++)this._originalData.xAxis[h[n]]=a[h[n]].data;for(var i=this.option.yAxis,e=this._zoom.yAxisIndex,n=0,l=e.length;l>n;n++)this._originalData.yAxis[e[n]]=i[e[n]].data;for(var o,s=this.option.series,u=this._zoom.seriesIndex,n=0,l=u.length;l>n;n++)o=s[u[n]],this._originalData.series[u[n]]=o.data,o.data&&this.getDataFromOption(o.data[0])instanceof Array&&(o.type==c.CHART_TYPE_SCATTER||o.type==c.CHART_TYPE_LINE||o.type==c.CHART_TYPE_BAR)&&(this._backupScale(),this._calculScatterMap(u[n]))},_calculScatterMap:function(a){this._zoom.scatterMap=this._zoom.scatterMap||{},this._zoom.scatterMap[a]=this._zoom.scatterMap[a]||{};var h=C("../component"),n=h.get("axis"),l=f.clone(this.option.xAxis);l[0].type=="category"&&(l[0].type="value"),l[1]&&l[1].type=="category"&&(l[1].type="value");var i=new n(this.ecTheme,null,!1,{xAxis:l,series:this.option.series},this,"xAxis"),e=this.option.series[a].xAxisIndex||0;this._zoom.scatterMap[a].x=i.getAxis(e).getExtremum(),i.dispose(),l=f.clone(this.option.yAxis),l[0].type=="category"&&(l[0].type="value"),l[1]&&l[1].type=="category"&&(l[1].type="value"),i=new n(this.ecTheme,null,!1,{yAxis:l,series:this.option.series},this,"yAxis"),e=this.option.series[a].yAxisIndex||0,this._zoom.scatterMap[a].y=i.getAxis(e).getExtremum(),i.dispose()},_buildBackground:function(){var a=this._location.width,h=this._location.height;this.shapeList.push(new y({zlevel:this.getZlevelBase(),z:this.getZBase(),hoverable:!1,style:{x:this._location.x,y:this._location.y,width:a,height:h,color:this.zoomOption.backgroundColor}}));for(var n=0,l=this._originalData.xAxis,i=this._zoom.xAxisIndex,e=0,o=i.length;o>e;e++)n=Math.max(n,l[i[e]].length);for(var s=this._originalData.yAxis,u=this._zoom.yAxisIndex,e=0,o=u.length;o>e;e++)n=Math.max(n,s[u[e]].length);for(var t,r=this._zoom.seriesIndex[0],p=this._originalData.series[r],m=Number.MIN_VALUE,x=Number.MAX_VALUE,e=0,o=p.length;o>e;e++)t=this.getDataFromOption(p[e],0),this.option.series[r].type==c.CHART_TYPE_K&&(t=t[1]),isNaN(t)&&(t=0),m=Math.max(m,t),x=Math.min(x,t);var T=m-x,w=[],L=a/(n-(n>1?1:0)),M=h/(n-(n>1?1:0)),P=1;this.zoomOption.orient=="horizontal"&&1>L?P=Math.floor(3*n/a):this.zoomOption.orient=="vertical"&&1>M&&(P=Math.floor(3*n/h));for(var e=0,o=n;o>e;e+=P)t=this.getDataFromOption(p[e],0),this.option.series[r].type==c.CHART_TYPE_K&&(t=t[1]),isNaN(t)&&(t=0),w.push(this.zoomOption.orient=="horizontal"?[this._location.x+L*e,this._location.y+h-1-Math.round((t-x)/T*(h-10))]:[this._location.x+1+Math.round((t-x)/T*(a-10)),this._location.y+M*(o-e-1)]);this.zoomOption.orient=="horizontal"?(w.push([this._location.x+a,this._location.y+h]),w.push([this._location.x,this._location.y+h])):(w.push([this._location.x,this._location.y]),w.push([this._location.x,this._location.y+h])),this.shapeList.push(new g({zlevel:this.getZlevelBase(),z:this.getZBase(),style:{pointList:w,color:this.zoomOption.dataBackgroundColor},hoverable:!1}))},_buildFiller:function(){this._fillerShae={zlevel:this.getZlevelBase(),z:this.getZBase(),draggable:!0,ondrift:this._ondrift,ondragend:this._ondragend,_type:"filler"},this._fillerShae.style=this.zoomOption.orient=="horizontal"?{x:this._location.x+Math.round(this._zoom.start/100*this._location.width)+this._handleSize,y:this._location.y,width:this._zoom.size-2*this._handleSize,height:this._location.height,color:this.zoomOption.fillerColor,text:":::",textPosition:"inside"}:{x:this._location.x,y:this._location.y+Math.round(this._zoom.start/100*this._location.height)+this._handleSize,width:this._location.width,height:this._zoom.size-2*this._handleSize,color:this.zoomOption.fillerColor,text:"::",textPosition:"inside"},this._fillerShae.highlightStyle={brushType:"fill",color:"rgba(0,0,0,0)"},this._fillerShae=new y(this._fillerShae),this.shapeList.push(this._fillerShae)},_buildHandle:function(){var a=this.zoomOption.showDetail?this._getDetail():{start:"",end:""};this._startShape={zlevel:this.getZlevelBase(),z:this.getZBase(),draggable:!0,style:{iconType:"rectangle",x:this._location.x,y:this._location.y,width:this._handleSize,height:this._handleSize,color:this.zoomOption.handleColor,text:"=",textPosition:"inside"},highlightStyle:{text:a.start,brushType:"fill",textPosition:"left"},ondrift:this._ondrift,ondragend:this._ondragend},this.zoomOption.orient=="horizontal"?(this._startShape.style.height=this._location.height,this._endShape=f.clone(this._startShape),this._startShape.style.x=this._fillerShae.style.x-this._handleSize,this._endShape.style.x=this._fillerShae.style.x+this._fillerShae.style.width,this._endShape.highlightStyle.text=a.end,this._endShape.highlightStyle.textPosition="right"):(this._startShape.style.width=this._location.width,this._endShape=f.clone(this._startShape),this._startShape.style.y=this._fillerShae.style.y+this._fillerShae.style.height,this._startShape.highlightStyle.textPosition="bottom",this._endShape.style.y=this._fillerShae.style.y-this._handleSize,this._endShape.highlightStyle.text=a.end,this._endShape.highlightStyle.textPosition="top"),this._startShape=new _(this._startShape),this._endShape=new _(this._endShape),this.shapeList.push(this._startShape),this.shapeList.push(this._endShape)},_buildFrame:function(){var a=this.subPixelOptimize(this._location.x,1),h=this.subPixelOptimize(this._location.y,1);this._startFrameShape={zlevel:this.getZlevelBase(),z:this.getZBase(),hoverable:!1,style:{x:a,y:h,width:this._location.width-(a>this._location.x?1:0),height:this._location.height-(h>this._location.y?1:0),lineWidth:1,brushType:"stroke",strokeColor:this.zoomOption.handleColor}},this._endFrameShape=f.clone(this._startFrameShape),this._startFrameShape=new y(this._startFrameShape),this._endFrameShape=new y(this._endFrameShape),this.shapeList.push(this._startFrameShape),this.shapeList.push(this._endFrameShape)},_syncHandleShape:function(){this.zoomOption.orient=="horizontal"?(this._startShape.style.x=this._fillerShae.style.x-this._handleSize,this._endShape.style.x=this._fillerShae.style.x+this._fillerShae.style.width,this._zoom.start=(this._startShape.style.x-this._location.x)/this._location.width*100,this._zoom.end=(this._endShape.style.x+this._handleSize-this._location.x)/this._location.width*100):(this._startShape.style.y=this._fillerShae.style.y+this._fillerShae.style.height,this._endShape.style.y=this._fillerShae.style.y-this._handleSize,this._zoom.start=(this._location.y+this._location.height-this._startShape.style.y)/this._location.height*100,this._zoom.end=(this._location.y+this._location.height-this._endShape.style.y-this._handleSize)/this._location.height*100),this.zr.modShape(this._startShape.id),this.zr.modShape(this._endShape.id),this._syncFrameShape(),this.zr.refreshNextFrame()},_syncFillerShape:function(){var a,h;this.zoomOption.orient=="horizontal"?(a=this._startShape.style.x,h=this._endShape.style.x,this._fillerShae.style.x=Math.min(a,h)+this._handleSize,this._fillerShae.style.width=Math.abs(a-h)-this._handleSize,this._zoom.start=(Math.min(a,h)-this._location.x)/this._location.width*100,this._zoom.end=(Math.max(a,h)+this._handleSize-this._location.x)/this._location.width*100):(a=this._startShape.style.y,h=this._endShape.style.y,this._fillerShae.style.y=Math.min(a,h)+this._handleSize,this._fillerShae.style.height=Math.abs(a-h)-this._handleSize,this._zoom.start=(this._location.y+this._location.height-Math.max(a,h))/this._location.height*100,this._zoom.end=(this._location.y+this._location.height-Math.min(a,h)-this._handleSize)/this._location.height*100),this.zr.modShape(this._fillerShae.id),this._syncFrameShape(),this.zr.refreshNextFrame()},_syncFrameShape:function(){this.zoomOption.orient=="horizontal"?(this._startFrameShape.style.width=this._fillerShae.style.x-this._location.x,this._endFrameShape.style.x=this._fillerShae.style.x+this._fillerShae.style.width,this._endFrameShape.style.width=this._location.x+this._location.width-this._endFrameShape.style.x):(this._startFrameShape.style.y=this._fillerShae.style.y+this._fillerShae.style.height,this._startFrameShape.style.height=this._location.y+this._location.height-this._startFrameShape.style.y,this._endFrameShape.style.height=this._fillerShae.style.y-this._location.y),this.zr.modShape(this._startFrameShape.id),this.zr.modShape(this._endFrameShape.id)},_syncShape:function(){this.zoomOption.show&&(this.zoomOption.orient=="horizontal"?(this._startShape.style.x=this._location.x+this._zoom.start/100*this._location.width,this._endShape.style.x=this._location.x+this._zoom.end/100*this._location.width-this._handleSize,this._fillerShae.style.x=this._startShape.style.x+this._handleSize,this._fillerShae.style.width=this._endShape.style.x-this._startShape.style.x-this._handleSize):(this._startShape.style.y=this._location.y+this._location.height-this._zoom.start/100*this._location.height,this._endShape.style.y=this._location.y+this._location.height-this._zoom.end/100*this._location.height-this._handleSize,this._fillerShae.style.y=this._endShape.style.y+this._handleSize,this._fillerShae.style.height=this._startShape.style.y-this._endShape.style.y-this._handleSize),this.zr.modShape(this._startShape.id),this.zr.modShape(this._endShape.id),this.zr.modShape(this._fillerShae.id),this._syncFrameShape(),this.zr.refresh())},_syncData:function(a){var h,n,l,i,e;for(var o in this._originalData){h=this._originalData[o];for(var s in h)e=h[s],e!=null&&(i=e.length,n=Math.floor(this._zoom.start/100*i),l=Math.ceil(this._zoom.end/100*i),this.getDataFromOption(e[0])instanceof Array&&this.option[o][s].type!=c.CHART_TYPE_K?(this._setScale(),this.option[o][s].data=this._synScatterData(s,e)):this.option[o][s].data=e.slice(n,l))}this._isSilence||!this.zoomOption.realtime&&!a||this.messageCenter.dispatch(c.EVENT.DATA_ZOOM,null,{zoom:this._zoom},this.myChart)},_synScatterData:function(a,h){if(this._zoom.start===0&&this._zoom.end==100&&this._zoom.start2===0&&this._zoom.end2==100)return h;var n,l,i,e,o,s=[],u=this._zoom.scatterMap[a];this.zoomOption.orient=="horizontal"?(n=u.x.max-u.x.min,l=this._zoom.start/100*n+u.x.min,i=this._zoom.end/100*n+u.x.min,n=u.y.max-u.y.min,e=this._zoom.start2/100*n+u.y.min,o=this._zoom.end2/100*n+u.y.min):(n=u.x.max-u.x.min,l=this._zoom.start2/100*n+u.x.min,i=this._zoom.end2/100*n+u.x.min,n=u.y.max-u.y.min,e=this._zoom.start/100*n+u.y.min,o=this._zoom.end/100*n+u.y.min);var t;(t=u.x.dataMappingMethods)&&(l=t.coord2Value(l),i=t.coord2Value(i)),(t=u.y.dataMappingMethods)&&(e=t.coord2Value(e),o=t.coord2Value(o));for(var r,p=0,m=h.length;m>p;p++)r=h[p].value||h[p],r[0]>=l&&r[0]<=i&&r[1]>=e&&r[1]<=o&&s.push(h[p]);return s},_setScale:function(){var a=this._zoom.start!==0||this._zoom.end!==100||this._zoom.start2!==0||this._zoom.end2!==100,h={xAxis:this.option.xAxis,yAxis:this.option.yAxis};for(var n in h)for(var l=0,i=h[n].length;i>l;l++)h[n][l].scale=a||h[n][l]._scale},_backupScale:function(){var a={xAxis:this.option.xAxis,yAxis:this.option.yAxis};for(var h in a)for(var n=0,l=a[h].length;l>n;n++)a[h][n]._scale=a[h][n].scale},_getDetail:function(){for(var a=["xAxis","yAxis"],h=0,n=a.length;n>h;h++){var l=this._originalData[a[h]];for(var i in l){var e=l[i];if(e!=null){var o=e.length,s=Math.floor(this._zoom.start/100*o),u=Math.ceil(this._zoom.end/100*o);return u-=u>0?1:0,{start:this.getDataFromOption(e[s]),end:this.getDataFromOption(e[u])}}}}a=this.zoomOption.orient=="horizontal"?"xAxis":"yAxis";var t=this._zoom.seriesIndex[0],r=this.option.series[t][a+"Index"]||0,p=this.option[a][r].type,m=this._zoom.scatterMap[t][a.charAt(0)].min,x=this._zoom.scatterMap[t][a.charAt(0)].max,T=x-m;if(p=="value")return{start:m+T*this._zoom.start/100,end:m+T*this._zoom.end/100};if(p=="time"){x=m+T*this._zoom.end/100,m+=T*this._zoom.start/100;var w=d.getAutoFormatter(m,x).formatter;return{start:d.format(w,m),end:d.format(w,x)}}return{start:"",end:""}},__ondrift:function(a,h,n){this.zoomOption.zoomLock&&(a=this._fillerShae);var l=a._type=="filler"?this._handleSize:0;if(this.zoomOption.orient=="horizontal"?a.style.x+h-l<=this._location.x?a.style.x=this._location.x+l:a.style.x+h+a.style.width+l>=this._location.x+this._location.width?a.style.x=this._location.x+this._location.width-a.style.width-l:a.style.x+=h:a.style.y+n-l<=this._location.y?a.style.y=this._location.y+l:a.style.y+n+a.style.height+l>=this._location.y+this._location.height?a.style.y=this._location.y+this._location.height-a.style.height-l:a.style.y+=n,a._type=="filler"?this._syncHandleShape():this._syncFillerShape(),this.zoomOption.realtime&&this._syncData(),this.zoomOption.showDetail){var i=this._getDetail();this._startShape.style.text=this._startShape.highlightStyle.text=i.start,this._endShape.style.text=this._endShape.highlightStyle.text=i.end,this._startShape.style.textPosition=this._startShape.highlightStyle.textPosition,this._endShape.style.textPosition=this._endShape.highlightStyle.textPosition}return!0},__ondragend:function(){this.zoomOption.showDetail&&(this._startShape.style.text=this._endShape.style.text="=",this._startShape.style.textPosition=this._endShape.style.textPosition="inside",this.zr.modShape(this._startShape.id),this.zr.modShape(this._endShape.id),this.zr.refreshNextFrame()),this.isDragend=!0},ondragend:function(a,h){this.isDragend&&a.target&&(!this.zoomOption.realtime&&this._syncData(),h.dragOut=!0,h.dragIn=!0,this._isSilence||this.zoomOption.realtime||this.messageCenter.dispatch(c.EVENT.DATA_ZOOM,null,{zoom:this._zoom},this.myChart),h.needRefresh=!1,this.isDragend=!1)},ondataZoom:function(a,h){h.needRefresh=!0},absoluteZoom:function(a){this._zoom.start=a.start,this._zoom.end=a.end,this._zoom.start2=a.start2,this._zoom.end2=a.end2,this._syncShape(),this._syncData(!0)},rectZoom:function(a){if(!a)return this._zoom.start=this._zoom.start2=0,this._zoom.end=this._zoom.end2=100,this._syncShape(),this._syncData(!0),this._zoom;var h=this.component.grid.getArea(),n={x:a.x,y:a.y,width:a.width,height:a.height};if(n.width<0&&(n.x+=n.width,n.width=-n.width),n.height<0&&(n.y+=n.height,n.height=-n.height),n.x>h.x+h.width||n.y>h.y+h.height)return!1;n.x<h.x&&(n.x=h.x),n.x+n.width>h.x+h.width&&(n.width=h.x+h.width-n.x),n.y+n.height>h.y+h.height&&(n.height=h.y+h.height-n.y);var l,i=(n.x-h.x)/h.width,e=1-(n.x+n.width-h.x)/h.width,o=1-(n.y+n.height-h.y)/h.height,s=(n.y-h.y)/h.height;return this.zoomOption.orient=="horizontal"?(l=this._zoom.end-this._zoom.start,this._zoom.start+=l*i,this._zoom.end-=l*e,l=this._zoom.end2-this._zoom.start2,this._zoom.start2+=l*o,this._zoom.end2-=l*s):(l=this._zoom.end-this._zoom.start,this._zoom.start+=l*o,this._zoom.end-=l*s,l=this._zoom.end2-this._zoom.start2,this._zoom.start2+=l*i,this._zoom.end2-=l*e),this._syncShape(),this._syncData(!0),this._zoom},syncBackupData:function(a){for(var h,n,l=this._originalData.series,i=a.series,e=0,o=i.length;o>e;e++){n=i[e].data||i[e].eventList,h=l[e]?Math.floor(this._zoom.start/100*l[e].length):0;for(var s=0,u=n.length;u>s;s++)l[e]&&(l[e][s+h]=n[s])}},syncOption:function(a){this.silence(!0),this.option=a,this.option.dataZoom=this.reformOption(this.option.dataZoom),this.zoomOption=this.option.dataZoom,this.myChart.canvasSupported||(this.zoomOption.realtime=!1),this.clear(),this._location=this._getLocation(),this._zoom=this._getZoom(),this._backupData(),this.option.dataZoom&&this.option.dataZoom.show&&this._buildShape(),this._syncData(),this.silence(!1)},silence:function(a){this._isSilence=a},getRealDataIndex:function(a,h){if(!this._originalData||this._zoom.start===0&&this._zoom.end==100)return h;var n=this._originalData.series;return n[a]?Math.floor(this._zoom.start/100*n[a].length)+h:-1},resize:function(){this.clear(),this._location=this._getLocation(),this._zoom=this._getZoom(),this.option.dataZoom.show&&this._buildShape()}},f.inherits(b,S),C("../component").define("dataZoom",b),b}),st("echarts/component/categoryAxis",["require","./base","zrender/shape/Text","zrender/shape/Line","zrender/shape/Rectangle","../config","zrender/tool/util","zrender/tool/area","../component"],function(C){function b(a,h,n,l,i,e){if(l.data.length<1)return void console.error("option.data.length < 1.");S.call(this,a,h,n,l,i),this.grid=this.component.grid;for(var o in e)this[o]=e[o];this.refresh(l)}var S=C("./base"),y=C("zrender/shape/Text"),g=C("zrender/shape/Line"),_=C("zrender/shape/Rectangle"),c=C("../config");c.categoryAxis={zlevel:0,z:0,show:!0,position:"bottom",name:"",nameLocation:"end",nameTextStyle:{},boundaryGap:!0,axisLine:{show:!0,onZero:!0,lineStyle:{color:"#48b",width:2,type:"solid"}},axisTick:{show:!0,interval:"auto",inside:!1,length:5,lineStyle:{color:"#333",width:1}},axisLabel:{show:!0,interval:"auto",rotate:0,margin:8,textStyle:{color:"#333"}},splitLine:{show:!0,lineStyle:{color:["#ccc"],width:1,type:"solid"}},splitArea:{show:!1,areaStyle:{color:["rgba(250,250,250,0.3)","rgba(200,200,200,0.3)"]}}};var d=C("zrender/tool/util"),f=C("zrender/tool/area");return b.prototype={type:c.COMPONENT_TYPE_AXIS_CATEGORY,_getReformedLabel:function(a){var h=this.getDataFromOption(this.option.data[a]),n=this.option.data[a].formatter||this.option.axisLabel.formatter;return n&&(typeof n=="function"?h=n.call(this.myChart,h):typeof n=="string"&&(h=n.replace("{value}",h))),h},_getInterval:function(){var a=this.option.axisLabel.interval;if(a=="auto"){var h=this.option.axisLabel.textStyle.fontSize,n=this.option.data,l=this.option.data.length;if(this.isHorizontal())if(l>3){var i,e,o=this.getGap(),s=!1,u=Math.floor(.5/o);for(u=1>u?1:u,a=Math.floor(15/o);!s&&l>a;){a+=u,s=!0,i=Math.floor(o*a);for(var t=Math.floor((l-1)/a)*a;t>=0;t-=a){if(this.option.axisLabel.rotate!==0)e=h;else if(n[t].textStyle)e=f.getTextWidth(this._getReformedLabel(t),this.getFont(d.merge(n[t].textStyle,this.option.axisLabel.textStyle)));else{var r=this._getReformedLabel(t)+"",p=(r.match(/\w/g)||"").length,m=r.length-p;e=p*h*2/3+m*h}if(e>i){s=!1;break}}}}else a=1;else if(l>3){var o=this.getGap();for(a=Math.floor(11/o);h>o*a-6&&l>a;)a++}else a=1}else a=typeof a=="function"?1:a-0+1;return a},_buildShape:function(){if(this._interval=this._getInterval(),this.option.show){this.option.splitArea.show&&this._buildSplitArea(),this.option.splitLine.show&&this._buildSplitLine(),this.option.axisLine.show&&this._buildAxisLine(),this.option.axisTick.show&&this._buildAxisTick(),this.option.axisLabel.show&&this._buildAxisLabel();for(var a=0,h=this.shapeList.length;h>a;a++)this.zr.addShape(this.shapeList[a])}},_buildAxisTick:function(){var a,h=this.option.data,n=this.option.data.length,l=this.option.axisTick,i=l.length,e=l.lineStyle.color,o=l.lineStyle.width,s=typeof l.interval=="function"?l.interval:l.interval=="auto"&&typeof this.option.axisLabel.interval=="function"?this.option.axisLabel.interval:!1,u=s?1:l.interval=="auto"?this._interval:l.interval-0+1,t=l.onGap,r=t?this.getGap()/2:typeof t>"u"&&this.option.boundaryGap?this.getGap()/2:0,p=r>0?-u:0;if(this.isHorizontal())for(var m,x=this.option.position=="bottom"?l.inside?this.grid.getYend()-i-1:this.grid.getYend()+1:l.inside?this.grid.getY()+1:this.grid.getY()-i-1,T=p;n>T;T+=u)(!s||s(T,h[T]))&&(m=this.subPixelOptimize(this.getCoordByIndex(T)+(T>=0?r:0),o),a={_axisShape:"axisTick",zlevel:this.getZlevelBase(),z:this.getZBase(),hoverable:!1,style:{xStart:m,yStart:x,xEnd:m,yEnd:x+i,strokeColor:e,lineWidth:o}},this.shapeList.push(new g(a)));else for(var w,L=this.option.position=="left"?l.inside?this.grid.getX()+1:this.grid.getX()-i-1:l.inside?this.grid.getXend()-i-1:this.grid.getXend()+1,T=p;n>T;T+=u)(!s||s(T,h[T]))&&(w=this.subPixelOptimize(this.getCoordByIndex(T)-(T>=0?r:0),o),a={_axisShape:"axisTick",zlevel:this.getZlevelBase(),z:this.getZBase(),hoverable:!1,style:{xStart:L,yStart:w,xEnd:L+i,yEnd:w,strokeColor:e,lineWidth:o}},this.shapeList.push(new g(a)))},_buildAxisLabel:function(){var a,h,n=this.option.data,l=this.option.data.length,i=this.option.axisLabel,e=i.rotate,o=i.margin,s=i.clickable,u=i.textStyle,t=typeof i.interval=="function"?i.interval:!1;if(this.isHorizontal()){var r,p;this.option.position=="bottom"?(r=this.grid.getYend()+o,p="top"):(r=this.grid.getY()-o,p="bottom");for(var m=0;l>m;m+=this._interval)t&&!t(m,n[m])||this._getReformedLabel(m)===""||(h=d.merge(n[m].textStyle||{},u),a={zlevel:this.getZlevelBase(),z:this.getZBase()+3,hoverable:!1,style:{x:this.getCoordByIndex(m),y:r,color:h.color,text:this._getReformedLabel(m),textFont:this.getFont(h),textAlign:h.align||"center",textBaseline:h.baseline||p}},e&&(a.style.textAlign=e>0?this.option.position=="bottom"?"right":"left":this.option.position=="bottom"?"left":"right",a.rotation=[e*Math.PI/180,a.style.x,a.style.y]),this.shapeList.push(new y(this._axisLabelClickable(s,a))))}else{var x,T;this.option.position=="left"?(x=this.grid.getX()-o,T="right"):(x=this.grid.getXend()+o,T="left");for(var m=0;l>m;m+=this._interval)t&&!t(m,n[m])||this._getReformedLabel(m)===""||(h=d.merge(n[m].textStyle||{},u),a={zlevel:this.getZlevelBase(),z:this.getZBase()+3,hoverable:!1,style:{x,y:this.getCoordByIndex(m),color:h.color,text:this._getReformedLabel(m),textFont:this.getFont(h),textAlign:h.align||T,textBaseline:h.baseline||m===0&&this.option.name!==""?"bottom":m==l-1&&this.option.name!==""?"top":"middle"}},e&&(a.rotation=[e*Math.PI/180,a.style.x,a.style.y]),this.shapeList.push(new y(this._axisLabelClickable(s,a))))}},_buildSplitLine:function(){var a,h=this.option.data,n=this.option.data.length,l=this.option.splitLine,i=l.lineStyle.type,e=l.lineStyle.width,o=l.lineStyle.color;o=o instanceof Array?o:[o];var s=o.length,u=typeof this.option.axisLabel.interval=="function"?this.option.axisLabel.interval:!1,t=l.onGap,r=t?this.getGap()/2:typeof t>"u"&&this.option.boundaryGap?this.getGap()/2:0;if(n-=t||typeof t>"u"&&this.option.boundaryGap?1:0,this.isHorizontal())for(var p,m=this.grid.getY(),x=this.grid.getYend(),T=0;n>T;T+=this._interval)(!u||u(T,h[T]))&&(p=this.subPixelOptimize(this.getCoordByIndex(T)+r,e),a={zlevel:this.getZlevelBase(),z:this.getZBase(),hoverable:!1,style:{xStart:p,yStart:m,xEnd:p,yEnd:x,strokeColor:o[T/this._interval%s],lineType:i,lineWidth:e}},this.shapeList.push(new g(a)));else for(var w,L=this.grid.getX(),M=this.grid.getXend(),T=0;n>T;T+=this._interval)(!u||u(T,h[T]))&&(w=this.subPixelOptimize(this.getCoordByIndex(T)-r,e),a={zlevel:this.getZlevelBase(),z:this.getZBase(),hoverable:!1,style:{xStart:L,yStart:w,xEnd:M,yEnd:w,strokeColor:o[T/this._interval%s],lineType:i,lineWidth:e}},this.shapeList.push(new g(a)))},_buildSplitArea:function(){var a,h=this.option.data,n=this.option.splitArea,l=n.areaStyle.color;if(l instanceof Array){var i=l.length,e=this.option.data.length,o=typeof this.option.axisLabel.interval=="function"?this.option.axisLabel.interval:!1,s=n.onGap,u=s?this.getGap()/2:typeof s>"u"&&this.option.boundaryGap?this.getGap()/2:0;if(this.isHorizontal())for(var t,r=this.grid.getY(),p=this.grid.getHeight(),m=this.grid.getX(),x=0;e>=x;x+=this._interval)o&&!o(x,h[x])&&e>x||(t=e>x?this.getCoordByIndex(x)+u:this.grid.getXend(),a={zlevel:this.getZlevelBase(),z:this.getZBase(),hoverable:!1,style:{x:m,y:r,width:t-m,height:p,color:l[x/this._interval%i]}},this.shapeList.push(new _(a)),m=t);else for(var T,w=this.grid.getX(),L=this.grid.getWidth(),M=this.grid.getYend(),x=0;e>=x;x+=this._interval)o&&!o(x,h[x])&&e>x||(T=e>x?this.getCoordByIndex(x)-u:this.grid.getY(),a={zlevel:this.getZlevelBase(),z:this.getZBase(),hoverable:!1,style:{x:w,y:T,width:L,height:M-T,color:l[x/this._interval%i]}},this.shapeList.push(new _(a)),M=T)}else a={zlevel:this.getZlevelBase(),z:this.getZBase(),hoverable:!1,style:{x:this.grid.getX(),y:this.grid.getY(),width:this.grid.getWidth(),height:this.grid.getHeight(),color:l}},this.shapeList.push(new _(a))},refresh:function(a){a&&(this.option=this.reformOption(a),this.option.axisLabel.textStyle=this.getTextStyle(this.option.axisLabel.textStyle)),this.clear(),this._buildShape()},getGap:function(){var a=this.option.data.length,h=this.isHorizontal()?this.grid.getWidth():this.grid.getHeight();return this.option.boundaryGap?h/a:h/(a>1?a-1:1)},getCoord:function(a){for(var h=this.option.data,n=h.length,l=this.getGap(),i=this.option.boundaryGap?l/2:0,e=0;n>e;e++){if(this.getDataFromOption(h[e])==a)return i=this.isHorizontal()?this.grid.getX()+i:this.grid.getYend()-i;i+=l}},getCoordByIndex:function(a){if(0>a)return this.isHorizontal()?this.grid.getX():this.grid.getYend();if(a>this.option.data.length-1)return this.isHorizontal()?this.grid.getXend():this.grid.getY();var h=this.getGap(),n=this.option.boundaryGap?h/2:0;return n+=a*h,n=this.isHorizontal()?this.grid.getX()+n:this.grid.getYend()-n},getNameByIndex:function(a){return this.getDataFromOption(this.option.data[a])},getIndexByName:function(a){for(var h=this.option.data,n=h.length,l=0;n>l;l++)if(this.getDataFromOption(h[l])==a)return l;return-1},getValueFromCoord:function(){return""},isMainAxis:function(a){return a%this._interval===0}},d.inherits(b,S),C("../component").define("categoryAxis",b),b}),st("echarts/component/valueAxis",["require","./base","zrender/shape/Text","zrender/shape/Line","zrender/shape/Rectangle","../config","../util/date","zrender/tool/util","../util/smartSteps","../util/accMath","../util/smartLogSteps","../component"],function(C){function b(a,h,n,l,i,e,o){if(!o||o.length===0)return void console.err("option.series.length == 0.");S.call(this,a,h,n,l,i),this.series=o,this.grid=this.component.grid;for(var s in e)this[s]=e[s];this.refresh(l,o)}var S=C("./base"),y=C("zrender/shape/Text"),g=C("zrender/shape/Line"),_=C("zrender/shape/Rectangle"),c=C("../config");c.valueAxis={zlevel:0,z:0,show:!0,position:"left",name:"",nameLocation:"end",nameTextStyle:{},boundaryGap:[0,0],axisLine:{show:!0,onZero:!0,lineStyle:{color:"#48b",width:2,type:"solid"}},axisTick:{show:!1,inside:!1,length:5,lineStyle:{color:"#333",width:1}},axisLabel:{show:!0,rotate:0,margin:8,textStyle:{color:"#333"}},splitLine:{show:!0,lineStyle:{color:["#ccc"],width:1,type:"solid"}},splitArea:{show:!1,areaStyle:{color:["rgba(250,250,250,0.3)","rgba(200,200,200,0.3)"]}}};var d=C("../util/date"),f=C("zrender/tool/util");return b.prototype={type:c.COMPONENT_TYPE_AXIS_VALUE,_buildShape:function(){if(this._hasData=!1,this._calculateValue(),this._hasData&&this.option.show){this.option.splitArea.show&&this._buildSplitArea(),this.option.splitLine.show&&this._buildSplitLine(),this.option.axisLine.show&&this._buildAxisLine(),this.option.axisTick.show&&this._buildAxisTick(),this.option.axisLabel.show&&this._buildAxisLabel();for(var a=0,h=this.shapeList.length;h>a;a++)this.zr.addShape(this.shapeList[a])}},_buildAxisTick:function(){var a,h=this._valueList,n=this._valueList.length,l=this.option.axisTick,i=l.length,e=l.lineStyle.color,o=l.lineStyle.width;if(this.isHorizontal())for(var s,u=this.option.position==="bottom"?l.inside?this.grid.getYend()-i-1:this.grid.getYend()+1:l.inside?this.grid.getY()+1:this.grid.getY()-i-1,t=0;n>t;t++)s=this.subPixelOptimize(this.getCoord(h[t]),o),a={_axisShape:"axisTick",zlevel:this.getZlevelBase(),z:this.getZBase(),hoverable:!1,style:{xStart:s,yStart:u,xEnd:s,yEnd:u+i,strokeColor:e,lineWidth:o}},this.shapeList.push(new g(a));else for(var r,p=this.option.position==="left"?l.inside?this.grid.getX()+1:this.grid.getX()-i-1:l.inside?this.grid.getXend()-i-1:this.grid.getXend()+1,t=0;n>t;t++)r=this.subPixelOptimize(this.getCoord(h[t]),o),a={_axisShape:"axisTick",zlevel:this.getZlevelBase(),z:this.getZBase(),hoverable:!1,style:{xStart:p,yStart:r,xEnd:p+i,yEnd:r,strokeColor:e,lineWidth:o}},this.shapeList.push(new g(a))},_buildAxisLabel:function(){var a,h=this._valueList,n=this._valueList.length,l=this.option.axisLabel.rotate,i=this.option.axisLabel.margin,e=this.option.axisLabel.clickable,o=this.option.axisLabel.textStyle;if(this.isHorizontal()){var s,u;this.option.position==="bottom"?(s=this.grid.getYend()+i,u="top"):(s=this.grid.getY()-i,u="bottom");for(var t=0;n>t;t++)a={zlevel:this.getZlevelBase(),z:this.getZBase()+3,hoverable:!1,style:{x:this.getCoord(h[t]),y:s,color:typeof o.color=="function"?o.color(h[t]):o.color,text:this._valueLabel[t],textFont:this.getFont(o),textAlign:o.align||"center",textBaseline:o.baseline||u}},l&&(a.style.textAlign=l>0?this.option.position==="bottom"?"right":"left":this.option.position==="bottom"?"left":"right",a.rotation=[l*Math.PI/180,a.style.x,a.style.y]),this.shapeList.push(new y(this._axisLabelClickable(e,a)))}else{var r,p;this.option.position==="left"?(r=this.grid.getX()-i,p="right"):(r=this.grid.getXend()+i,p="left");for(var t=0;n>t;t++)a={zlevel:this.getZlevelBase(),z:this.getZBase()+3,hoverable:!1,style:{x:r,y:this.getCoord(h[t]),color:typeof o.color=="function"?o.color(h[t]):o.color,text:this._valueLabel[t],textFont:this.getFont(o),textAlign:o.align||p,textBaseline:o.baseline||(t===0&&this.option.name!==""?"bottom":t===n-1&&this.option.name!==""?"top":"middle")}},l&&(a.rotation=[l*Math.PI/180,a.style.x,a.style.y]),this.shapeList.push(new y(this._axisLabelClickable(e,a)))}},_buildSplitLine:function(){var a,h=this._valueList,n=this._valueList.length,l=this.option.splitLine,i=l.lineStyle.type,e=l.lineStyle.width,o=l.lineStyle.color;o=o instanceof Array?o:[o];var s=o.length;if(this.isHorizontal())for(var u,t=this.grid.getY(),r=this.grid.getYend(),p=0;n>p;p++)u=this.subPixelOptimize(this.getCoord(h[p]),e),a={zlevel:this.getZlevelBase(),z:this.getZBase(),hoverable:!1,style:{xStart:u,yStart:t,xEnd:u,yEnd:r,strokeColor:o[p%s],lineType:i,lineWidth:e}},this.shapeList.push(new g(a));else for(var m,x=this.grid.getX(),T=this.grid.getXend(),p=0;n>p;p++)m=this.subPixelOptimize(this.getCoord(h[p]),e),a={zlevel:this.getZlevelBase(),z:this.getZBase(),hoverable:!1,style:{xStart:x,yStart:m,xEnd:T,yEnd:m,strokeColor:o[p%s],lineType:i,lineWidth:e}},this.shapeList.push(new g(a))},_buildSplitArea:function(){var a,h=this.option.splitArea.areaStyle.color;if(h instanceof Array){var n=h.length,l=this._valueList,i=this._valueList.length;if(this.isHorizontal())for(var e,o=this.grid.getY(),s=this.grid.getHeight(),u=this.grid.getX(),t=0;i>=t;t++)e=i>t?this.getCoord(l[t]):this.grid.getXend(),a={zlevel:this.getZlevelBase(),z:this.getZBase(),hoverable:!1,style:{x:u,y:o,width:e-u,height:s,color:h[t%n]}},this.shapeList.push(new _(a)),u=e;else for(var r,p=this.grid.getX(),m=this.grid.getWidth(),x=this.grid.getYend(),t=0;i>=t;t++)r=i>t?this.getCoord(l[t]):this.grid.getY(),a={zlevel:this.getZlevelBase(),z:this.getZBase(),hoverable:!1,style:{x:p,y:r,width:m,height:x-r,color:h[t%n]}},this.shapeList.push(new _(a)),x=r}else a={zlevel:this.getZlevelBase(),z:this.getZBase(),hoverable:!1,style:{x:this.grid.getX(),y:this.grid.getY(),width:this.grid.getWidth(),height:this.grid.getHeight(),color:h}},this.shapeList.push(new _(a))},_calculateValue:function(){if(isNaN(this.option.min-0)||isNaN(this.option.max-0)){for(var a,h,n={},l=this.component.legend,i=0,e=this.series.length;e>i;i++)this.series[i].type!=c.CHART_TYPE_LINE&&this.series[i].type!=c.CHART_TYPE_BAR&&this.series[i].type!=c.CHART_TYPE_SCATTER&&this.series[i].type!=c.CHART_TYPE_K&&this.series[i].type!=c.CHART_TYPE_EVENTRIVER||l&&!l.isSelected(this.series[i].name)||(a=this.series[i].xAxisIndex||0,h=this.series[i].yAxisIndex||0,this.option.xAxisIndex!=a&&this.option.yAxisIndex!=h||this._calculSum(n,i));var o;for(var i in n){o=n[i];for(var s=0,u=o.length;u>s;s++)if(!isNaN(o[s])){this._hasData=!0,this._min=o[s],this._max=o[s];break}if(this._hasData)break}for(var i in n){o=n[i];for(var s=0,u=o.length;u>s;s++)isNaN(o[s])||(this._min=Math.min(this._min,o[s]),this._max=Math.max(this._max,o[s]))}var t=this.option.type!=="log"?this.option.boundaryGap:[0,0],r=Math.abs(this._max-this._min);this._min=isNaN(this.option.min-0)?this._min-Math.abs(r*t[0]):this.option.min-0,this._max=isNaN(this.option.max-0)?this._max+Math.abs(r*t[1]):this.option.max-0,this._min===this._max&&(this._max===0?this._max=1:this._max>0?this._min=this._max/this.option.splitNumber!=null?this.option.splitNumber:5:this._max=this._max/this.option.splitNumber!=null?this.option.splitNumber:5),this.option.type==="time"?this._reformTimeValue():this.option.type==="log"?this._reformLogValue():this._reformValue(this.option.scale)}else this._hasData=!0,this._min=this.option.min-0,this._max=this.option.max-0,this.option.type==="time"?this._reformTimeValue():this.option.type==="log"?this._reformLogValue():this._customerValue()},_calculSum:function(a,h){var n,l,i=this.series[h].name||"kener";if(this.series[h].stack){var e="__Magic_Key_Positive__"+this.series[h].stack,o="__Magic_Key_Negative__"+this.series[h].stack;a[e]=a[e]||[],a[o]=a[o]||[],a[i]=a[i]||[],l=this.series[h].data;for(var s=0,u=l.length;u>s;s++)n=this.getDataFromOption(l[s]),n!=="-"&&(n-=0,n>=0?a[e][s]!=null?a[e][s]+=n:a[e][s]=n:a[o][s]!=null?a[o][s]+=n:a[o][s]=n,this.option.scale&&a[i].push(n))}else if(a[i]=a[i]||[],this.series[h].type!=c.CHART_TYPE_EVENTRIVER){l=this.series[h].data;for(var s=0,u=l.length;u>s;s++)n=this.getDataFromOption(l[s]),this.series[h].type===c.CHART_TYPE_K?(a[i].push(n[0]),a[i].push(n[1]),a[i].push(n[2]),a[i].push(n[3])):n instanceof Array?(this.option.xAxisIndex!=-1&&a[i].push(this.option.type!="time"?n[0]:d.getNewDate(n[0])),this.option.yAxisIndex!=-1&&a[i].push(this.option.type!="time"?n[1]:d.getNewDate(n[1]))):a[i].push(n)}else{l=this.series[h].data;for(var s=0,u=l.length;u>s;s++)for(var t=l[s].evolution,r=0,p=t.length;p>r;r++)a[i].push(d.getNewDate(t[r].time))}},_reformValue:function(a){var h=C("../util/smartSteps"),n=this.option.splitNumber;!a&&this._min>=0&&this._max>=0&&(this._min=0),!a&&this._min<=0&&this._max<=0&&(this._max=0);var l=h(this._min,this._max,n);n=n??l.secs,this._min=l.min,this._max=l.max,this._valueList=l.pnts,this._reformLabelData()},_reformTimeValue:function(){var a=this.option.splitNumber!=null?this.option.splitNumber:5,h=d.getAutoFormatter(this._min,this._max,a),n=h.formatter,l=h.gapValue;this._valueList=[d.getNewDate(this._min)];var i;switch(n){case"week":i=d.nextMonday(this._min);break;case"month":i=d.nextNthOnMonth(this._min,1);break;case"quarter":i=d.nextNthOnQuarterYear(this._min,1);break;case"half-year":i=d.nextNthOnHalfYear(this._min,1);break;case"year":i=d.nextNthOnYear(this._min,1);break;default:72e5>=l?i=(Math.floor(this._min/l)+1)*l:(i=d.getNewDate(this._min- -l),i.setHours(6*Math.round(i.getHours()/6)),i.setMinutes(0),i.setSeconds(0))}for(i-this._min<l/2&&(i-=-l),h=d.getNewDate(i),a*=1.5;a-->=0&&((n=="month"||n=="quarter"||n=="half-year"||n=="year")&&h.setDate(1),!(this._max-h<l/2));)this._valueList.push(h),h=d.getNewDate(h- -l);this._valueList.push(d.getNewDate(this._max)),this._reformLabelData(function(e){return function(o){return d.format(e,o)}}(n))},_customerValue:function(){var a=C("../util/accMath"),h=this.option.splitNumber!=null?this.option.splitNumber:5,n=(this._max-this._min)/h;this._valueList=[];for(var l=0;h>=l;l++)this._valueList.push(a.accAdd(this._min,a.accMul(n,l)));this._reformLabelData()},_reformLogValue:function(){var a=this.option,h=C("../util/smartLogSteps")({dataMin:this._min,dataMax:this._max,logPositive:a.logPositive,logLabelBase:a.logLabelBase,splitNumber:a.splitNumber});this._min=h.dataMin,this._max=h.dataMax,this._valueList=h.tickList,this._dataMappingMethods=h.dataMappingMethods,this._reformLabelData(h.labelFormatter)},_reformLabelData:function(a){this._valueLabel=[];var h=this.option.axisLabel.formatter;if(h)for(var n=0,l=this._valueList.length;l>n;n++)typeof h=="function"?this._valueLabel.push(a?h.call(this.myChart,this._valueList[n],a):h.call(this.myChart,this._valueList[n])):typeof h=="string"&&this._valueLabel.push(a?d.format(h,this._valueList[n]):h.replace("{value}",this._valueList[n]));else for(var n=0,l=this._valueList.length;l>n;n++)this._valueLabel.push(a?a(this._valueList[n]):this.numAddCommas(this._valueList[n]))},getExtremum:function(){this._calculateValue();var a=this._dataMappingMethods;return{min:this._min,max:this._max,dataMappingMethods:a?f.merge({},a):null}},refresh:function(a,h){a&&(this.option=this.reformOption(a),this.option.axisLabel.textStyle=f.merge(this.option.axisLabel.textStyle||{},this.ecTheme.textStyle),this.series=h),this.zr&&(this.clear(),this._buildShape())},getCoord:function(a){return this._dataMappingMethods&&(a=this._dataMappingMethods.value2Coord(a)),a=a<this._min?this._min:a,a=a>this._max?this._max:a,this.isHorizontal()?this.grid.getX()+(a-this._min)/(this._max-this._min)*this.grid.getWidth():this.grid.getYend()-(a-this._min)/(this._max-this._min)*this.grid.getHeight()},getCoordSize:function(a){return Math.abs(this.isHorizontal()?a/(this._max-this._min)*this.grid.getWidth():a/(this._max-this._min)*this.grid.getHeight())},getValueFromCoord:function(a){var h;return this.isHorizontal()?(a=a<this.grid.getX()?this.grid.getX():a,a=a>this.grid.getXend()?this.grid.getXend():a,h=this._min+(a-this.grid.getX())/this.grid.getWidth()*(this._max-this._min)):(a=a<this.grid.getY()?this.grid.getY():a,a=a>this.grid.getYend()?this.grid.getYend():a,h=this._max-(a-this.grid.getY())/this.grid.getHeight()*(this._max-this._min)),this._dataMappingMethods&&(h=this._dataMappingMethods.coord2Value(h)),h.toFixed(2)-0},isMaindAxis:function(a){for(var h=0,n=this._valueList.length;n>h;h++)if(this._valueList[h]===a)return!0;return!1}},f.inherits(b,S),C("../component").define("valueAxis",b),b}),st("echarts/util/date",[],function(){function C(n,l,i){i=i>1?i:2;for(var e,o,s,u,t=0,r=h.length;r>t;t++)if(e=h[t].value,o=Math.ceil(l/e)*e-Math.floor(n/e)*e,Math.round(o/e)<=1.2*i){s=h[t].formatter,u=h[t].value;break}return s==null&&(s="year",e=317088e5,o=Math.ceil(l/e)*e-Math.floor(n/e)*e,u=Math.round(o/(i-1)/e)*e),{formatter:s,gapValue:u}}function b(n){return 10>n?"0"+n:n}function S(n,l){(n=="week"||n=="month"||n=="quarter"||n=="half-year"||n=="year")&&(n=`MM - dd
yyyy`);var i=a(l),e=i.getFullYear(),o=i.getMonth()+1,s=i.getDate(),u=i.getHours(),t=i.getMinutes(),r=i.getSeconds();return n=n.replace("MM",b(o)),n=n.toLowerCase(),n=n.replace("yyyy",e),n=n.replace("yy",e%100),n=n.replace("dd",b(s)),n=n.replace("d",s),n=n.replace("hh",b(u)),n=n.replace("h",u),n=n.replace("mm",b(t)),n=n.replace("m",t),n=n.replace("ss",b(r)),n=n.replace("s",r)}function y(n){return n=a(n),n.setDate(n.getDate()+8-n.getDay()),n}function g(n,l,i){return n=a(n),n.setMonth(Math.ceil((n.getMonth()+1)/i)*i),n.setDate(l),n}function _(n,l){return g(n,l,1)}function c(n,l){return g(n,l,3)}function d(n,l){return g(n,l,6)}function f(n,l){return g(n,l,12)}function a(n){return n instanceof Date?n:new Date(typeof n=="string"?n.replace(/-/g,"/"):n)}var h=[{formatter:"hh : mm : ss",value:1e3},{formatter:"hh : mm : ss",value:5e3},{formatter:"hh : mm : ss",value:1e4},{formatter:"hh : mm : ss",value:15e3},{formatter:"hh : mm : ss",value:3e4},{formatter:`hh : mm
MM - dd`,value:6e4},{formatter:`hh : mm
MM - dd`,value:3e5},{formatter:`hh : mm
MM - dd`,value:6e5},{formatter:`hh : mm
MM - dd`,value:9e5},{formatter:`hh : mm
MM - dd`,value:18e5},{formatter:`hh : mm
MM - dd`,value:36e5},{formatter:`hh : mm
MM - dd`,value:72e5},{formatter:`hh : mm
MM - dd`,value:216e5},{formatter:`hh : mm
MM - dd`,value:432e5},{formatter:`MM - dd
yyyy`,value:864e5},{formatter:"week",value:6048e5},{formatter:"month",value:26784e5},{formatter:"quarter",value:8208e6},{formatter:"half-year",value:16416e6},{formatter:"year",value:32832e6}];return{getAutoFormatter:C,getNewDate:a,format:S,nextMonday:y,nextNthPerNmonth:g,nextNthOnMonth:_,nextNthOnQuarterYear:c,nextNthOnHalfYear:d,nextNthOnYear:f}}),st("echarts/util/smartSteps",[],function(){function C(v){return M.log(F(v))/M.LN10}function b(v){return M.pow(10,v)}function S(v){return v===R(v)}function y(v,E,z,k){r=k||{},p=r.steps||w,m=r.secs||L,z=P(+z||0)%99,v=+v||0,E=+E||0,x=T=0,"min"in r&&(v=+r.min||0,x=1),"max"in r&&(E=+r.max||0,T=1),v>E&&(E=[v,v=E][0]);var A=E-v;if(x&&T)return t(v,E,z);if((z||5)>A){if(S(v)&&S(E))return i(v,E,z);if(A===0)return e(v,E,z)}return a(v,E,z)}function g(v,E,z,k){k=k||0;var A=_((E-v)/z,-1),O=_(v,-1,1),D=_(E,-1),H=M.min(A.e,O.e,D.e);O.c===0?H=M.min(A.e,D.e):D.c===0&&(H=M.min(A.e,O.e)),c(A,{e:H}),c(O,A,1),c(D,A),k+=H,v=O.c,E=D.c;for(var Y=(E-v)/z,j=b(k),U=0,$=[],it=z+1;it--;)$[it]=(v+Y*it)*j;if(0>k){U=s(j),Y=+(Y*j).toFixed(U),v=+(v*j).toFixed(U),E=+(E*j).toFixed(U);for(var it=$.length;it--;)$[it]=$[it].toFixed(U),+$[it]==0&&($[it]="0")}else v*=j,E*=j,Y*=j;return m=0,p=0,r=0,{min:v,max:E,secs:z,step:Y,fix:U,exp:k,pnts:$}}function _(v,E,z){E=P(E%10)||2,0>E&&(S(v)?E=(""+F(v)).replace(/0+$/,"").length||1:(v=v.toFixed(15).replace(/0+$/,""),E=v.replace(".","").replace(/^[-0]+/,"").length,v=+v));var k=R(C(v))-E+1,A=+(v*b(-k)).toFixed(15)||0;return A=z?R(A):W(A),!A&&(k=0),(""+F(A)).length>E&&(k+=1,A/=10),{c:A,e:k}}function c(v,E,z){var k=E.e-v.e;k&&(v.e+=k,v.c*=b(-k),v.c=z?R(v.c):W(v.c))}function d(v,E,z){v.e<E.e?c(E,v,z):c(v,E,z)}function f(v,E){E=E||w,v=_(v);for(var z=v.c,k=0;z>E[k];)k++;if(!E[k])for(z/=10,v.e+=1,k=0;z>E[k];)k++;return v.c=E[k],v}function a(v,E,z){var k=z||+m.slice(-1),A=f((E-v)/k,p),O=_(E-v),D=_(v,-1,1),H=_(E,-1);if(c(O,A),c(D,A,1),c(H,A),z?n(D,H,k):k=h(D,H),S(v)&&S(E)&&v*E>=0){if(k>E-v)return i(v,E,k);k=l(v,E,z,D,H,k)}var Y=o(v,E,D.c,H.c);return D.c=Y[0],H.c=Y[1],(x||T)&&u(v,E,D,H),g(D.c,H.c,k,H.e)}function h(v,E){for(var z,k,A,O,D=[],H=m.length;H--;)z=m[H],k=f((E.c-v.c)/z,p),k=k.c*b(k.e),A=R(v.c/k)*k,O=W(E.c/k)*k,D[H]={min:A,max:O,step:k,span:O-A};return D.sort(function(Y,j){var U=Y.span-j.span;return U===0&&(U=Y.step-j.step),U}),D=D[0],z=D.span/D.step,v.c=D.min,E.c=D.max,3>z?2*z:z}function n(v,E,z){for(var k,A,O=E.c,D=(E.c-v.c)/z-1;O>v.c;)D=f(D+1,p),D=D.c*b(D.e),k=D*z,A=W(E.c/D)*D,O=A-k;var H=v.c-O,Y=A-E.c,j=H-Y;return j>1.1*D&&(j=P(j/D/2)*D,O+=j,A+=j),v.c=O,E.c=A,D}function l(v,E,z,k,A,O){var D=A.c-k.c,H=D/O*b(A.e);if(!S(H)&&(H=R(H),D=H*O,E-v>D&&(H+=1,D=H*O,!z&&H*(O-1)>=E-v&&(O-=1,D=H*O)),D>=E-v)){var Y=D-(E-v);k.c=P(v-Y/2),A.c=P(E+Y/2),k.e=0,A.e=0}return O}function i(v,E,z){if(z=z||5,x)E=v+z;else if(T)v=E-z;else{var k=z-(E-v),A=P(v-k/2),O=P(E+k/2),D=o(v,E,A,O);v=D[0],E=D[1]}return g(v,E,z)}function e(v,E,z){z=z||5;var k=M.min(F(E/z),z)/2.1;return x?E=v+k:T?v=E-k:(v-=k,E+=k),a(v,E,z)}function o(v,E,z,k){return v>=0&&0>z?(k-=z,z=0):0>=E&&k>0&&(z-=k,k=0),[z,k]}function s(v){return v=(+v).toFixed(15).split("."),v.pop().replace(/0+$/,"").length}function u(v,E,z,k){if(x){var A=_(v,4,1);z.e-A.e>6&&(A={c:0,e:z.e}),d(z,A),d(k,A),k.c+=A.c-z.c,z.c=A.c}else if(T){var O=_(E,4);k.e-O.e>6&&(O={c:0,e:k.e}),d(z,O),d(k,O),z.c+=O.c-k.c,k.c=O.c}}function t(v,E,z){var k=z?[z]:m,A=E-v;if(A===0)return E=_(E,3),z=k[0],E.c=P(E.c+z/2),g(E.c-z,E.c,z,E.e);F(E/A)<1e-6&&(E=0),F(v/A)<1e-6&&(v=0);var O,D,H,Y=[[5,10],[10,2],[50,10],[100,2]],j=[],U=_(E-v,3),$=_(v,-1,1),it=_(E,-1);c($,U,1),c(it,U),A=it.c-$.c,U.c=A;for(var rt=k.length;rt--;){z=k[rt],O=W(A/z),D=O*z-A,H=3*(D+3),H+=2*(z-k[0]+2),z%5===0&&(H-=10);for(var lt=Y.length;lt--;)O%Y[lt][0]===0&&(H/=Y[lt][1]);j[rt]={secs:z,step:O,delta:D,score:H}}return j.sort(function(at,G){return at.score-G.score}),j=j[0],$.c=P($.c-j.delta/2),it.c=P(it.c+j.delta/2),g($.c,it.c,j.secs,U.e)}var r,p,m,x,T,w=[10,20,25,50],L=[4,5,6],M=Math,P=M.round,R=M.floor,W=M.ceil,F=M.abs;return y}),st("echarts/util/smartLogSteps",["require","./number"],function(C){function b(D){return S(),s=D||{},y(),g(),[_(),S()][0]}function S(){l=s=t=o=r=p=u=m=i=e=null}function y(){i=s.logLabelBase,i==null?(e="plain",i=10,o=F):(i=+i,1>i&&(i=10),e="exponent",o=w(i)),u=s.splitNumber,u==null&&(u=k);var D=parseFloat(s.dataMin),H=parseFloat(s.dataMax);isFinite(D)||isFinite(H)?isFinite(D)?isFinite(H)?D>H&&(H=[D,D=H][0]):H=D:D=H:D=H=1,l=s.logPositive,l==null&&(l=H>0||D===0),r=l?D:-H,p=l?H:-D,z>r&&(r=z),z>p&&(p=z)}function g(){function D(){u>at&&(u=at);var X=R(f(at/u)),et=P(f(at/X)),J=X*et,tt=(J-G)/2,I=R(f(it-tt));n(I-it)&&(I-=1),t=-I*o;for(var N=I;$>=N-X;N+=X)m.push(L(i,N))}function H(){for(var X=Y(lt,0),et=X+2;et>X&&U(X+1)+j(X+1)*E<it;)X++;for(var J=Y(rt,0),et=J-2;J>et&&U(J-1)+j(J-1)*E>$;)J--;t=-(U(X)*F+j(X)*v);for(var tt=X;J>=tt;tt++){var I=U(tt),N=j(tt);m.push(L(10,I)*L(2,N))}}function Y(X,et){return 3*X+et}function j(X){return X-3*U(X)}function U(X){return R(f(X/3))}m=[];var $=f(w(p)/o),it=f(w(r)/o),rt=P($),lt=R(it),at=rt-lt,G=$-it;e==="exponent"?D():A>=at&&u>A?H():D()}function _(){for(var D=[],H=0,Y=m.length;Y>H;H++)D[H]=(l?1:-1)*m[H];!l&&D.reverse();var j=d(),U=j.value2Coord,$=U(D[0]),it=U(D[D.length-1]);return $===it&&($-=1,it+=1),{dataMin:$,dataMax:it,tickList:D,logPositive:l,labelFormatter:c(),dataMappingMethods:j}}function c(){if(e==="exponent"){var D=i,H=o;return function(Y){if(!isFinite(parseFloat(Y)))return"";var j="";return 0>Y&&(Y=-Y,j="-"),j+D+h(w(Y)/H)}}return function(Y){return isFinite(parseFloat(Y))?x.addCommas(a(Y)):""}}function d(){var D=l,H=t;return{value2Coord:function(Y){return Y==null||isNaN(Y)||!isFinite(Y)?Y:(Y=parseFloat(Y),isFinite(Y)?D&&z>Y?Y=z:!D&&Y>-z&&(Y=-z):Y=z,Y=M(Y),(D?1:-1)*(w(Y)+H))},coord2Value:function(Y){return Y==null||isNaN(Y)||!isFinite(Y)?Y:(Y=parseFloat(Y),isFinite(Y)||(Y=z),D?L(W,Y-H):-L(W,-Y+H))}}}function f(D){return+(+D).toFixed(14)}function a(D){return Number(D).toFixed(15).replace(/\.?0*$/,"")}function h(D){D=a(Math.round(D));for(var H=[],Y=0,j=D.length;j>Y;Y++){var U=D.charAt(Y);H.push(O[U]||"")}return H.join("")}function n(D){return D>-z&&z>D}var l,i,e,o,s,u,t,r,p,m,x=C("./number"),T=Math,w=T.log,L=T.pow,M=T.abs,P=T.ceil,R=T.floor,W=T.E,F=T.LN10,v=T.LN2,E=v/F,z=1e-9,k=5,A=2,O={0:"⁰",1:"¹",2:"²",3:"³",4:"⁴",5:"⁵",6:"⁶",7:"⁷",8:"⁸",9:"⁹","-":"⁻"};return b});
